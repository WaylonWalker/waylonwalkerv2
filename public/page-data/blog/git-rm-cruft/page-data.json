{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/git-rm-cruft/","result":{"data":{"markdownRemark":{"id":"3681eb14-017b-5203-8da4-2baef00442bc","html":"<p>cover: \"./nathan-dumlao-523529-unsplash-crop.jpg\"\ncover: \"./rawpixel-1055774-unsplash.jpg\"</p>\n<h2>inspiration</h2>\n<p><a href=\"https://blog.ostermiller.org/git-remove-from-history\">https://blog.ostermiller.org/git-remove-from-history</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> log --all --pretty<span class=\"token operator\">=</span>format: --name-only --diff-filter<span class=\"token operator\">=</span>D <span class=\"token operator\">|</span> <span class=\"token function\">sed</span> -r <span class=\"token string\">'s|[^/]+$||g'</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> -u</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> filter-branch --tag-name-filter <span class=\"token function\">cat</span> --index-filter <span class=\"token string\">'git rm -r --cached --ignore-unmatch FILE_LIST'</span> --prune-empty -f -- --all</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> -rf .git/refs/original/ \n<span class=\"token function\">git</span> reflog expire --expire<span class=\"token operator\">=</span>now --all \n<span class=\"token function\">git</span> gc --aggressive --prune<span class=\"token operator\">=</span>now</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> push origin --force --all \n<span class=\"token function\">git</span> push origin --force --tags</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> MY_LOCAL_GIT_REPO \n<span class=\"token function\">git</span> fetch origin \n<span class=\"token function\">git</span> rebase \n<span class=\"token function\">git</span> reflog expire --expire<span class=\"token operator\">=</span>now --all \n<span class=\"token function\">git</span> gc --aggressive --prune<span class=\"token operator\">=</span>now</code></pre></div>","frontmatter":{"date":"2019-01-21T00:00:00.000Z","title":"remove git cruft","description":null,"path":"git-rm-cruft","twitter_cover":null,"cover":{"id":"f92d7ad4-6a4f-58bf-821c-468231308f89","absolutePath":"/mnt/c/personal/ww/waylonwalkerv2/src/pages/blog/nathan-dumlao-523529-unsplash-crop.jpg","childImageSharp":{"id":"692db05a-8645-5aed-9a69-1e84eab6ea3c","fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAABAACAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB0fZorvDkcnwpFRqa/8QAHhAAAgEDBQAAAAAAAAAAAAAAAQIDBBESABATISP/2gAIAQEAAQUCnW0dO/k1TiyzXRgBpw2VJYGZ04xJ0d//xAAWEQADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8BdP/EABYRAAMAAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwFw/8QAHhAAAgIBBQEAAAAAAAAAAAAAAAECETESICJBUXH/2gAIAQEABj8CbK8GqKl8I6LMWTtj5K+jOz//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFREHGx/9oACAEBAAE/IV2QjKTRyiMrD1O2605lOHW0+QmSTtSOmDUaRVzlzLMr+5yj4//aAAwDAQACAAMAAAAQ28F+/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERQVH/2gAIAQMBAT8QXRt02lH/xAAXEQEBAQEAAAAAAAAAAAAAAAAAARFB/9oACAECAQE/EEkcxh//xAAdEAEAAgIDAQEAAAAAAAAAAAABABEhMUFxkVHw/9oACAEBAAE/EGk2BttFK81FERYE4/Zi2TkukF8QzZUrg69h9AdiU7tbYgS61LWCGAQqHLOJaayDVRybn05mvYmx1DU//9k=","width":1000,"height":420,"src":"/static/f58729d059cdf9dae29987188f80762d/9cf42/nathan-dumlao-523529-unsplash-crop.jpg","srcSet":"/static/f58729d059cdf9dae29987188f80762d/9cf42/nathan-dumlao-523529-unsplash-crop.jpg 1x,\n/static/f58729d059cdf9dae29987188f80762d/55395/nathan-dumlao-523529-unsplash-crop.jpg 1.5x,\n/static/f58729d059cdf9dae29987188f80762d/5858b/nathan-dumlao-523529-unsplash-crop.jpg 2x"},"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAABAACAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB0fZorvDkcnwpFRqa/8QAHhAAAgEDBQAAAAAAAAAAAAAAAQIDBBESABATISP/2gAIAQEAAQUCnW0dO/k1TiyzXRgBpw2VJYGZ04xJ0d//xAAWEQADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8BdP/EABYRAAMAAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwFw/8QAHhAAAgIBBQEAAAAAAAAAAAAAAAECETESICJBUXH/2gAIAQEABj8CbK8GqKl8I6LMWTtj5K+jOz//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFREHGx/9oACAEBAAE/IV2QjKTRyiMrD1O2605lOHW0+QmSTtSOmDUaRVzlzLMr+5yj4//aAAwDAQACAAMAAAAQ28F+/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERQVH/2gAIAQMBAT8QXRt02lH/xAAXEQEBAQEAAAAAAAAAAAAAAAAAARFB/9oACAECAQE/EEkcxh//xAAdEAEAAgIDAQEAAAAAAAAAAAABABEhMUFxkVHw/9oACAEBAAE/EGk2BttFK81FERYE4/Zi2TkukF8QzZUrg69h9AdiU7tbYgS61LWCGAQqHLOJaayDVRybn05mvYmx1DU//9k=","aspectRatio":2.380952380952381,"src":"/static/f58729d059cdf9dae29987188f80762d/9cf42/nathan-dumlao-523529-unsplash-crop.jpg","srcSet":"/static/f58729d059cdf9dae29987188f80762d/ff9d4/nathan-dumlao-523529-unsplash-crop.jpg 250w,\n/static/f58729d059cdf9dae29987188f80762d/2dc04/nathan-dumlao-523529-unsplash-crop.jpg 500w,\n/static/f58729d059cdf9dae29987188f80762d/9cf42/nathan-dumlao-523529-unsplash-crop.jpg 1000w,\n/static/f58729d059cdf9dae29987188f80762d/55395/nathan-dumlao-523529-unsplash-crop.jpg 1500w,\n/static/f58729d059cdf9dae29987188f80762d/5858b/nathan-dumlao-523529-unsplash-crop.jpg 2000w,\n/static/f58729d059cdf9dae29987188f80762d/21e9b/nathan-dumlao-523529-unsplash-crop.jpg 4479w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"3681eb14-017b-5203-8da4-2baef00442bc"}}}