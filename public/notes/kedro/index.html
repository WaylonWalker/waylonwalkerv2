<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.4e48ed7ee1fee5e4b23f.css">@import url(https://fonts.googleapis.com/css?family=Amiko|Arima+Madurai|Farsan|Lalezar|Mogra|Rakkas|Rasa|Shrikhand|Suez+One|Yatra+One|Architects+Daughter);@font-face{font-family:WaterLilly;src:url(/static/Waterlily\ Script-e689b24dcffc5d305e2e53bd26a20659.ttf) format("ttf");font-weight:400;font-style:normal}@font-face{font-family:Waterlily-Regular;src:url(/static/WaterlilyScript-09f072259c55effe81e925ad8be99eb0.eot);src:url(/static/WaterlilyScript-09f072259c55effe81e925ad8be99eb0.eot?#iefix) format("embedded-opentype"),url(/static/WaterlilyScript-8e3ea05c3ff373e01caba5b42710f756.otf) format("opentype"),url(/static/WaterlilyScript-075bf29538f2e73291a0014333ed485a.svg) format("svg"),url(/static/WaterlilyScript-6ea5726e94a3ddd2ce1b104fc38045eb.ttf) format("truetype"),url(/static/WaterlilyScript-3f9a9863444a03b055f26fb889b6f793.woff) format("woff"),url(/static/WaterlilyScript-6dbaf16ee523b8ccca72a8d4188406aa.woff2) format("woff2");font-weight:400;font-style:normal}body::-webkit-scrollbar{width:1rem}html{scroll-behavior:smooth;scrollbar-width:thin;scrollbar-color:#5651b7}body::-webkit-scrollbar-track{background:#392e3d}body::-webkit-scrollbar-thumb{background-color:#5651b7;border-radius:.5rem;background:#706bd0;background:-webkit-gradient(linear,left top,left bottom,from(#706bd0),to(#5651b7));background:linear-gradient(180deg,#706bd0,#5651b7);border:1px solid rgba(86j,81,183,.5)}html{font-family:Farsan,sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em Amiko,sans-serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p,table{padding:0;margin:0 0 1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}@media only screen and(max-width: 480px),tt{html{font-size:100%}}code[class*=language-],pre[class*=language-]{color:#abb2bf;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#9aa2b1}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282c34}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#5c6370}.token.punctuation{color:#abb2bf}.token.selector,.token.tag{color:#e06c75}.token.attr-name,.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol{color:#d19a66}.token.attr-value,.token.builtin,.token.char,.token.inserted,.token.string{color:#98c379}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#56b6c2}.token.atrule,.token.keyword{color:#c678dd}.token.function{color:#61afef}.token.important,.token.regex,.token.variable{color:#c678dd}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre.line-numbers{padding-left:3.8em;counter-reset:linenumber}pre.line-numbers,pre.line-numbers>code{position:relative}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:0;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#5c6370;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.19.12"/><title data-react-helmet="true">Waylon Walker</title><meta data-react-helmet="true" name="og:type" content="article"/><meta data-react-helmet="true" name="og:article:author" content="Waylon Walker"/><meta data-react-helmet="true" name="keywords" content="Personal Blog"/><meta data-react-helmet="true" name="twitter:creator" content="@_waylonwalker"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:site" content="@_waylonwalker"/><meta data-react-helmet="true" name="og:title" content="Kedro"/><meta data-react-helmet="true" name="og:article:published_time" content="2019-11-02T05:00:00.000Z"/><meta data-react-helmet="true" name="og:article:modified_time" content="2019-11-02T05:00:00.000Z"/><meta data-react-helmet="true" name="twitter:title" content="Kedro"/><meta data-react-helmet="true" name="description"/><meta data-react-helmet="true" name="twitter:image" content="https://www.waylonwalker.com/static/38764052c9d93754c7143891f1c46491/5d469/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg"/><meta data-react-helmet="true" name="twitter:description"/><meta data-react-helmet="true" name="og:image" content="/static/38764052c9d93754c7143891f1c46491/9cf42/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg"/><style data-styled="" data-styled-version="5.0.1">.kxXHRn{z-index:9999;box-shadow:0rem 0rem 2rem rgba(0,0,0,.4);background:rgb(40,44,52);background:linear-gradient(81deg,rgba(40,44,52,1) 0%,#332D3A 90%,#392E3D 95%);}
.kxXHRn ul{max-width:1200px;margin:auto;list-style-type:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:2rem;padding:1rem;position:-webkit-sticky;position:sticky;top:0;z-index:999;}
@import url('https://fonts.googleapis.com/css?family=Amiko|Arima+Madurai|Farsan|Lalezar|Mogra|Rakkas|Rasa|Shrikhand|Suez+One|Yatra+One');.kxXHRn ul a{color:#FEDD58;-webkit-text-decoration:none;text-decoration:none;font-family:'Amiko',sans - serif;}
.kxXHRn ul li{position:relative;padding:.4rem .8rem;border-radius:.1rem;-webkit-transition:-webkit-transform 100ms,box - shadow 100ms;-webkit-transition:transform 100ms,box - shadow 100ms;transition:transform 100ms,box - shadow 100ms;background:rgb(82,81,103);background:linear-gradient(97deg,rgba(72,71,82,1) 0%,rgba(62,61,82,1) 100%);box-shadow:.2rem .2rem .4rem rgba(0,0,0,.5);margin:0 .2rem;}
.kxXHRn ul li:hover{box-shadow:.2rem .2rem .2rem rgba(0,0,0,.5);-webkit-transform:translate(.2rem,.2rem);-ms-transform:translate(.2rem,.2rem);transform:translate(.2rem,.2rem);}
data-styled.g1[id="NavStyles-sc-1vnatiy-0"]{content:"kxXHRn,"}
.fZxQeY{max-width:500px;color:rgba(255,255,255,.9);background:#3E3846;background:linear-gradient(81deg,rgba(40,44,52,1) 0%,#3E3846 100%);box-shadow:-8rem -6rem 8rem -6rem rgba(253,221,88,.2),4rem 0 8rem rgba(88,82,185,.3),.2rem .2rem 1rem rgba(0,0,0,.2);border-radius:12px;padding:5rem 0;margin:5rem auto;text-align:center;}
.fZxQeY form{margin:auto;}
.fZxQeY .group{width:250px;margin:.5rem auto;}
.fZxQeY .group input{padding:.3rem;}
.fZxQeY #subscribe-checkbox-group{display:none;}
.fZxQeY button{width:calc(248px + .6rem);position:relative;left:3px;}
data-styled.g2[id="Subscribe__SubscribeStyle-f859a3-0"]{content:"fZxQeY,"}
.fxMNCp{padding:0;margin:0;background-size:800px;min-height:100vh;background:rgb(40,44,52);background:linear-gradient(81deg,rgba(40,44,52,1) 0%,rgba(58,46,61,1) 100%);}
.fxMNCp section{margin-bottom:5rem;}
.fxMNCp a{color:#6F6BAE;-webkit-text-decoration-color:goldenrod;text-decoration-color:goldenrod;}
.fxMNCp h1{font-size:4rem;font-family:'Waterlily-Regular';color:#6A65CA;}
data-styled.g3[id="LayoutStyles-sc-1h3z5os-0"]{content:"fxMNCp,"}
.cgZxiK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
data-styled.g6[id="notes__BlogPostWrapper-vz1uaf-0"]{content:"cgZxiK,"}
.etzQCY{background:rgba(51,0,38,.13);overflow:hidden;display:block;margin:.2rem;max-width:1000px;width:95%;position:relative;margin:2rem 0;padding:1rem;border-radius:2px;box-shadow:.2rem .2rem 1rem rgba(0,0,0,.2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:whitesmoke;}
.etzQCY a{color:#6F6BAE;-webkit-text-decoration-color:#330026;text-decoration-color:#330026;-webkit-text-decoration-color:goldenrod;text-decoration-color:goldenrod;}
.etzQCY p>img{box-shadow:.2rem .2rem 1rem rgba(51,0,38,.4);max-width:1000px;width:95vw;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;justify-self:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;justify-items:center;margin:auto;}
.etzQCY p:has(>img){margin:8rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.etzQCY p{font-family:'Amiko';}
.etzQCY blockquote{color:#777;border-left:2px solid goldenrod;font-size:1rem;padding:1rem 0 1rem .5rem;margin:1.5rem 0;}
.etzQCY hr{border-top:1px solid goldenrod;background:none;margin:1rem 2rem;}
.etzQCY h1{margin-top:5rem;font-family:sans-serif;color:#6A65CA;}
data-styled.g7[id="notes__BlogPostStyles-vz1uaf-1"]{content:"etzQCY,"}
</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#330026"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ae570652b11d6534a5c82b57f21dd10a"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Waylon Walker&#x27;s Blog announcement tweet schedule" href="/blog/tweet_0.xml"/><link rel="alternate" type="application/rss+xml" title="Waylon Walker&#x27;s Blog Feed" href="/blog/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-4690eae69db7f921735a.js"/><link as="script" rel="preload" href="/app-87e16f23be6dfce576b0.js"/><link as="script" rel="preload" href="/styles-7f1e5e1dd400b30723a0.js"/><link as="script" rel="preload" href="/commons-dff5fedb3869fa3d34b9.js"/><link as="script" rel="preload" href="/component---src-templates-notes-js-b46f2be6b3f42f085002.js"/><link as="fetch" rel="preload" href="/page-data/notes/kedro/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="LayoutStyles-sc-1h3z5os-0 fxMNCp"><div class="headroom-wrapper"><div style="position:relative;top:0;left:0;right:0;z-index:9999;-webkit-transform:translate3D(0, 0, 0);-ms-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)" class="headroom headroom--unfixed"><nav class="NavStyles-sc-1vnatiy-0 kxXHRn"><ul><a href="/"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:30px;width:30px;margin-top:.2rem;margin-right:1rem"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACjUlEQVQ4y41VPYgTURB+u2/zs5uEmD+IEJLGJIQcCNcIcnBgEdJZCtdYKV5pIXYWYmGhFmIhYulvIxwoyIpghIiCCoLgnSBY6IEWlpqY8+ebl5ndl5wEF77dl5l58775eROVSqUUPb1ejz5a8ZNIJA66rnvecZzHwCawBTyB7BJ0h1T86Hw+L3umknq9Th+XXjhgPzaGWP5ZBNgM4WCFnTrZbHa6CsMwcuZ53ho+I970E/gBTIBfjDHLxuJYa31SqPq+r6IwoTi6gNHvRWyRhtPC1LyTySSFuY3lXeAGcBu4BdwBvlmM77H8JrDBMgr/axAEe6Os4oSHFFqpVMqpuQe6K8zi0bwOjp6y7oKYE7tlzhPlY12KDCOPK7fKumOiY1CaTpAOhVxhW03CM1blhIUDpckHqufDZoiDG5weh8DrOg4ewibgDjEhbbBDquIIwpZslNAymcwS5EnZJL2bTqc95G7J6l3j8CU7HHNop6Rhm83mfNoUyRqNxi45CERJf2VVkcJ+bp9Yq9XidohbY+Y3IhBf5nWfHU6k57hQ5NA0vDBC48f3TWv7lqlisai63a5RnLUYTrgNzsk+uVJgYVghZ/uANq+df8V+wLoNOxz221arpaUIuVwuulE47CJwVQ6k3BUKhV3NG1oszTXj/qMI6DFMBoMBNfMmll8qlYrPaXFmqswsl637OuKwL0vSrfG0Kj2LfB6xSbXb7Ti/zOS4PQjA5COmR5H1AUdyzRoIDzqdDhVtjxTGMKxWq9H4gtH63IT5ALwDtoD3wHfO8w7bbIPImnW7pisOyZVJDXbP/mPAvkHYhyVMVHw2kUjyzF8AjHs0abDxBfAJ+Ay8huw6Oer3+67YlsvlyNdfa8mqMySJIK0AAAAASUVORK5CYII=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/39e561c9ff60c75e2901187544b2d627/5db04/W.png 75w,
/static/39e561c9ff60c75e2901187544b2d627/6d161/W.png 150w,
/static/39e561c9ff60c75e2901187544b2d627/630fb/W.png 300w,
/static/39e561c9ff60c75e2901187544b2d627/62b1f/W.png 450w,
/static/39e561c9ff60c75e2901187544b2d627/2a4de/W.png 600w,
/static/39e561c9ff60c75e2901187544b2d627/ee604/W.png 800w" sizes="(max-width: 300px) 100vw, 300px" /><img loading="lazy" sizes="(max-width: 300px) 100vw, 300px" srcset="/static/39e561c9ff60c75e2901187544b2d627/5db04/W.png 75w,
/static/39e561c9ff60c75e2901187544b2d627/6d161/W.png 150w,
/static/39e561c9ff60c75e2901187544b2d627/630fb/W.png 300w,
/static/39e561c9ff60c75e2901187544b2d627/62b1f/W.png 450w,
/static/39e561c9ff60c75e2901187544b2d627/2a4de/W.png 600w,
/static/39e561c9ff60c75e2901187544b2d627/ee604/W.png 800w" src="/static/39e561c9ff60c75e2901187544b2d627/630fb/W.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a><li><a href="/blog">Blog</a></li><li><a href="/notes">Notes</a></li><li><a href="/gratitude">gratitude</a></li></ul></nav></div></div><div class="notes__BlogPostWrapper-vz1uaf-0 cgZxiK"><div class="notes__BlogPostStyles-vz1uaf-1 etzQCY"><h1 style="text-align:right;z-index:2" class="blog title">Kedro</h1><p style="text-align:right;z-index:2">2019-11-02T05:00:00.000Z</p><p style="min-height:100px"></p><p style="max-width:500px;margin:1rem auto;color:rbg(100, 100, 120)">You are reading my notes.  This is a large collection of smaller unfinished ideas.  If you find something here that needs to be turned into a real post tweet it at<a href="https://twitter.com/_WaylonWalker" style="padding:.2rem">@_waylonwalker</a></p><div><h1><a href="https://twitter.com/search?q=%23kedrotips">#kedrotips</a></h1>
<p>I am tweeting out most of these snippets as I add them, you can find them all here <a href="https://twitter.com/search?q=%23kedrotips">#kedrotips</a>.</p>
<h1>üó£ Heads up</h1>
<p>Below are some quick snippets/notes for when using kedro to build data pipelines. So far I am just compiling snippets. Eventually I will create several posts on kedro. These are mostly things that I use In my everyday with kedro. Some are a bit more essoteric. Some are helpful when writing production code, some are useful more usefule for exploration.</p>
<h2>üìö Catalog</h2>
<p><img src="../../../jesse-orrico-h6xNSDlgciU-unsplash.jpg" alt="catalogs">
<em>Photo by jesse orrico on Unsplash</em></p>
<h3>CSVLocalDataSet</h3>
<p><strong>python</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
iris <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class="token punctuation">)</span>

data_set <span class="token operator">=</span> CSVLocalDataSet<span class="token punctuation">(</span>filepath<span class="token operator">=</span><span class="token string">"test.csv"</span><span class="token punctuation">,</span>
                                 load_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                                 save_args<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"index"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

iris_data_set<span class="token punctuation">.</span>save<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
reloaded_iris <span class="token operator">=</span> iris_data_set<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>                        </code></pre></div>
<p><strong>yaml</strong></p>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">test_data</span><span class="token punctuation">:</span>
   <span class="token key atrule">type</span><span class="token punctuation">:</span> CSVLocalDataset
   <span class="token key atrule">filepath</span><span class="token punctuation">:</span> test.csv
   <span class="token key atrule">load_args</span><span class="token punctuation">:</span> None
   <span class="token key atrule">save_args</span><span class="token punctuation">:</span> 
      <span class="token key atrule">index</span><span class="token punctuation">:</span> <span class="token boolean important">False</span></code></pre></div>
<h2>CSVHTTPDataSet</h2>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">cities <span class="token operator">=</span> CSVHTTPDataSet<span class="token punctuation">(</span>
    fileurl<span class="token operator">=</span><span class="token string">"https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv"</span><span class="token punctuation">,</span>
    auth<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
    load_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
    
iris <span class="token operator">=</span> iris_data_set<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span> </code></pre></div>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">cities</span><span class="token punctuation">:</span>
   <span class="token key atrule">type</span><span class="token punctuation">:</span> CSVHTTPDataSet
    <span class="token key atrule">fileurl</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//people.sc.fsu.edu/~jburkardt/data/csv/cities.csv
    <span class="token key atrule">auth</span><span class="token punctuation">:</span> None
    <span class="token key atrule">load_args</span><span class="token punctuation">:</span> None</code></pre></div>
<h2>HDFLocalDataSet</h2>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> kedro<span class="token punctuation">.</span>io <span class="token keyword">import</span> HDFLocalDataSet

iris <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class="token punctuation">)</span>
iris_data_set <span class="token operator">=</span> HDFLocalDataSet<span class="token punctuation">(</span>filepath<span class="token operator">=</span><span class="token string">"iris.hdf"</span><span class="token punctuation">,</span>
                           key<span class="token operator">=</span><span class="token string">"test_hdf_key"</span><span class="token punctuation">,</span>
                           load_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                           save_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>

iris_data_set<span class="token punctuation">.</span>save<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
reloaded_iris <span class="token operator">=</span> iris_data_set<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>    </code></pre></div>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">cars</span><span class="token punctuation">:</span>
   <span class="token key atrule">type</span><span class="token punctuation">:</span> HDFLocalDataSet
   <span class="token key atrule">filepath</span><span class="token punctuation">:</span> test.hdf
   <span class="token key atrule">key</span><span class="token punctuation">:</span> test_hdf_key</code></pre></div>
<h2>HDFS3LocalDataSet</h2>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> kedro<span class="token punctuation">.</span>io <span class="token keyword">import</span> HDFS3DataSet

iris <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class="token punctuation">)</span>
iris_data_set <span class="token operator">=</span> HDFS3DataSet<span class="token punctuation">(</span>filepath<span class="token operator">=</span><span class="token string">"iris.hdf"</span><span class="token punctuation">,</span>
                        bucket_name<span class="token operator">=</span><span class="token string">"bucket-us-west-1"</span><span class="token punctuation">,</span>
                        key<span class="token operator">=</span><span class="token string">"test_hdf_key"</span><span class="token punctuation">,</span>
                        load_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                        save_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>

iris_data_set<span class="token punctuation">.</span>save<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
reloaded_iris <span class="token operator">=</span> iris_data_set<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>    </code></pre></div>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">cars</span><span class="token punctuation">:</span>
   <span class="token key atrule">type</span><span class="token punctuation">:</span> HDFS3DataSet
   <span class="token key atrule">filepath</span><span class="token punctuation">:</span> cars.hdf
   <span class="token key atrule">bucket_name</span><span class="token punctuation">:</span> bucket<span class="token punctuation">-</span>us<span class="token punctuation">-</span>west<span class="token punctuation">-</span><span class="token number">1</span>
   <span class="token key atrule">key</span><span class="token punctuation">:</span> test_hdf_key</code></pre></div>
<h2>JSONLocalDataSet</h2>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> kedro<span class="token punctuation">.</span>io <span class="token keyword">import</span> JSONLocalDataSet

iris <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class="token punctuation">)</span>
cars <span class="token operator">=</span> JSONLocalDataSet<span class="token punctuation">(</span>filepath<span class="token operator">=</span><span class="token string">"iris.json"</span><span class="token punctuation">,</span>
                        load_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                        save_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>

iris_data_set<span class="token punctuation">.</span>save<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
reloaded_iris <span class="token operator">=</span> iris_data_set<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span>  </code></pre></div>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">cars</span><span class="token punctuation">:</span>
   <span class="token key atrule">type</span><span class="token punctuation">:</span> JSONLocalDataSet
   <span class="token key atrule">filepath</span><span class="token punctuation">:</span> iris.json</code></pre></div>
<h2>ParquetLocalDataSet</h2>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> kedro<span class="token punctuation">.</span>io <span class="token keyword">import</span> ParquetLocalDataSet

iris <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class="token punctuation">)</span>

iris_data_set <span class="token operator">=</span> ParquetLocalDataSet<span class="token punctuation">(</span><span class="token string">'iris'</span><span class="token punctuation">,</span> 
                           engine<span class="token operator">=</span><span class="token string">'auto'</span><span class="token punctuation">,</span> 
                           load_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> 
                           save_args<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> 
                           version<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>

iris_data_set<span class="token punctuation">.</span>save<span class="token punctuation">(</span>iris<span class="token punctuation">)</span>
reloaded_iris <span class="token operator">=</span> iris_data_set<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">cars</span><span class="token punctuation">:</span>
   <span class="token key atrule">type</span><span class="token punctuation">:</span> JSONLocalDataSet
   <span class="token key atrule">filepath</span><span class="token punctuation">:</span> cars</code></pre></div>
<p>PickleS3DataSet</p>
<p>SQLTableDataSet</p>
<p>SQLQueryDataSet</p>
<p>TextLocalDataSet</p>
<p>ExcelLocalDataSet</p>
<h2>‚è≥ Loading Data</h2>
<p><img src="../../../battlecreek-coffee-roasters-eg6OUchGCsw-unsplash.jpg" alt="loading data">
<em>Photo by Battlecreek Coffee Roasters on Unsplash</em></p>
<h3>Simple Loading</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">df <span class="token operator">=</span> catalog<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'cars'</span><span class="token punctuation">)</span></code></pre></div>
<h3>list all datasets</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">catalog<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<h3>Saving Data</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">catalog<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'cars'</span><span class="token punctuation">,</span> cars<span class="token punctuation">)</span></code></pre></div>
<h3>üîç Finding data</h3>
<p><strong>simple keyword search</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">query <span class="token operator">=</span> <span class="token string">'raw'</span>
<span class="token punctuation">[</span>data <span class="token keyword">for</span> data <span class="token keyword">in</span> catalog<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> query <span class="token keyword">in</span> data<span class="token punctuation">]</span></code></pre></div>
<p><em>see on</em> <a href="https://twitter.com/_WaylonWalker/status/1197130980659732480?s=20"><em>#kedrotips</em></a></p>
<p><strong>multi keyword serch</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">query <span class="token operator">=</span> <span class="token string">'raw sales'</span>
data_sets <span class="token operator">=</span> catalog<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> word <span class="token keyword">in</span> query<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	data_sets <span class="token operator">=</span> <span class="token punctuation">[</span>
       data 
       <span class="token keyword">for</span> data <span class="token keyword">in</span> data_sets 
       <span class="token keyword">if</span> query <span class="token keyword">in</span> data
       <span class="token punctuation">]</span></code></pre></div>
<p><em>see on</em> <a href="https://twitter.com/_WaylonWalker/status/1197528461587419139?s=20"><em>#kedrotips</em></a></p>
<p><strong>üêí monkey patch it</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token operator">*</span>search_terms<span class="token punctuation">)</span><span class="token punctuation">:</span>
     data_sets <span class="token operator">=</span> catalog<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token keyword">for</span> search <span class="token keyword">in</span> search_terms<span class="token punctuation">:</span>
         data_sets <span class="token operator">=</span> <span class="token punctuation">[</span>
         data 
         <span class="token keyword">for</span> data <span class="token keyword">in</span> data_sets 
         <span class="token keyword">if</span> search <span class="token keyword">in</span> data
         <span class="token punctuation">]</span>
     <span class="token keyword">return</span> data_sets
     
catalog<span class="token punctuation">.</span>query <span class="token operator">=</span> query</code></pre></div>
<p><em>see on [#kedrotips](<a href="https://twitter.com/">https://twitter.com/</a></em>WaylonWalker/status/1197855759507300352?s=20)</p>
<h3>ü§ô YOLO</h3>
<p><em>You Only Load Once</em></p>
<p><strong>simple</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">data <span class="token operator">=</span> <span class="token punctuation">[</span>catalog<span class="token punctuation">.</span>load<span class="token punctuation">(</span>d<span class="token punctuation">)</span> 
        <span class="token keyword">for</span> d <span class="token keyword">in</span> 
        catalog<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">'c_pri'</span><span class="token punctuation">,</span> <span class="token string">'cars'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span></code></pre></div>
<p><strong>more refined</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">data <span class="token operator">=</span> <span class="token punctuation">{</span>
   d<span class="token punctuation">:</span> catalog<span class="token punctuation">.</span>load<span class="token punctuation">(</span>d<span class="token punctuation">)</span>
   <span class="token keyword">for</span> d <span class="token keyword">in</span> catalog<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">'c_pri'</span><span class="token punctuation">,</span> <span class="token string">'cars'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span></code></pre></div>
<p><strong>üç∑ refined like a fine wine</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> types <span class="token keyword">import</span> SimpleNamespace
data <span class="token operator">=</span> SimpleNamespace<span class="token operator">**</span><span class="token punctuation">{</span>
   d<span class="token punctuation">:</span> catalog<span class="token punctuation">.</span>load<span class="token punctuation">(</span>d<span class="token punctuation">)</span> 
   <span class="token keyword">for</span> d <span class="token keyword">in</span> catalog<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">'c_pri'</span><span class="token punctuation">,</span> <span class="token string">'cars'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p><strong>üßÄ Make it a function</strong>
<em>getting funcy</em></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> types <span class="token keyword">import</span> SimpleNamespace

<span class="token keyword">def</span> <span class="token function">yolo</span><span class="token punctuation">(</span><span class="token operator">*</span>search_terms<span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token triple-quoted-string string">"""you only load once 
   using query method from previous tip"""</span>
   data <span class="token operator">=</span> SimpleNamespace<span class="token punctuation">(</span><span class="token operator">**</span><span class="token punctuation">{</span>
       d<span class="token punctuation">:</span> catalog<span class="token punctuation">.</span>load<span class="token punctuation">(</span>d<span class="token punctuation">)</span>
   <span class="token keyword">for</span> d <span class="token keyword">in</span> catalog<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token operator">*</span>search_terms<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> data

all_pri <span class="token operator">=</span> yolo<span class="token punctuation">(</span><span class="token string">'c_pri'</span><span class="token punctuation">)</span></code></pre></div>
<p><strong>üêí monkey patch it</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> functools <span class="token keyword">import</span> partial

catalog<span class="token punctuation">.</span>yolo <span class="token operator">=</span> yolo
catalog<span class="token punctuation">.</span>yolo<span class="token punctuation">.</span>__doc__ <span class="token operator">=</span> <span class="token string">"you only load once"</span>

all_pri <span class="token operator">=</span> catalog<span class="token punctuation">.</span>yolo<span class="token punctuation">(</span><span class="token string">'c_pri'</span><span class="token punctuation">)</span></code></pre></div>
<h2>üõ¢ Building pipelines</h2>
<p><img src="../../../roman-pentin-T5QT2bmiD4E-unsplash.jpg" alt="building pipelines">
<em>Photo by roman pentin on Unsplash</em></p>
<h3>üìç Creating Nodes</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> kedro<span class="token punctuation">.</span>pipeline <span class="token keyword">import</span> node
node <span class="token operator">=</span> node<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> inputs<span class="token operator">=</span><span class="token string">'raw_cars'</span><span class="token punctuation">,</span> outputs<span class="token operator">=</span><span class="token string">'int_cars'</span><span class="token punctuation">)</span></code></pre></div>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> kedro<span class="token punctuation">.</span>pipeline <span class="token keyword">import</span> node

<span class="token keyword">def</span> <span class="token function">drop_columns</span><span class="token punctuation">(</span>df<span class="token punctuation">,</span> <span class="token operator">*</span>columns<span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">for</span> column <span class="token keyword">in</span> columns<span class="token punctuation">:</span>
      df <span class="token operator">=</span> df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>columns<span class="token operator">=</span>column<span class="token punctuation">)</span>
   <span class="token keyword">return</span> df

node <span class="token operator">=</span> node<span class="token punctuation">(</span>
   <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> drop_columns<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">'vs'</span><span class="token punctuation">,</span> <span class="token string">'am'</span><span class="token punctuation">,</span> <span class="token string">'gear'</span><span class="token punctuation">,</span> <span class="token string">'carb'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   inputs<span class="token operator">=</span><span class="token string">'int_cars'</span><span class="token punctuation">,</span>
   outputs<span class="token operator">=</span><span class="token string">'pri_cars'</span>
   <span class="token punctuation">)</span></code></pre></div>
<h3>üõ¢ Creating a pipeline</h3>
<h3>Don't be so verbose</h3>
<p>Create similar nodes dynamically</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">halve_dataframe</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">]</span><span class="token punctuation">:</span>
   <span class="token triple-quoted-string string">""" splits a dataframe in half """</span>
    <span class="token keyword">return</span> np<span class="token punctuation">.</span>array_split<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
datasets <span class="token operator">=</span> <span class="token punctuation">[</span>
   <span class="token string">'cars'</span><span class="token punctuation">,</span> <span class="token string">'trucks'</span><span class="token punctuation">,</span> <span class="token string">'boats'</span><span class="token punctuation">,</span> <span class="token string">'motorcycles'</span><span class="token punctuation">,</span> <span class="token string">'planes'</span><span class="token punctuation">,</span> 
   <span class="token string">'ships'</span><span class="token punctuation">,</span> <span class="token string">'busses'</span><span class="token punctuation">,</span> <span class="token string">'trains'</span><span class="token punctuation">,</span> <span class="token string">'subways'</span>
   <span class="token punctuation">]</span>

<span class="token comment"># creates a pipeline node for every dataset in the datasets list</span>
<span class="token keyword">for</span> dataset <span class="token keyword">in</span> datasets
   nodes<span class="token punctuation">.</span>append<span class="token punctuation">(</span>
       node<span class="token punctuation">(</span>halve_dataframe<span class="token punctuation">,</span>
            <span class="token string">'e_modin_{dataset}'</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'train_{dataset}'</span><span class="token punctuation">,</span> <span class="token string">'test_{dataset}'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token punctuation">)</span></code></pre></div>
<h2>üèÉ‚Äç‚ôÇÔ∏è Running Pipelines</h2>
<p><img src="../../../rodion-kutsaev-xNdPWGJ6UCQ-unsplash.jpg" alt="running pipelines">
<em>Photo by Rodion Kutsaev on Unsplash</em></p>
<p><strong>üîñ filter by tags</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">nodes <span class="token operator">=</span> pipeline<span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'cars'</span><span class="token punctuation">)</span></code></pre></div>
<p><em>see on</em> <a href="https://twitter.com/_WaylonWalker/status/1195319044808888321?s=20"><em>#kedrotips</em></a></p>
<p><strong>filter by node</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">nodes <span class="token operator">=</span> pipeline<span class="token punctuation">.</span>only_nodes<span class="token punctuation">(</span><span class="token string">'b_int_cars'</span><span class="token punctuation">)</span></code></pre></div>
<p><em>see on [#kedrotips](<a href="https://twitter.com/">https://twitter.com/</a></em>WaylonWalker/status/1196406204479737856?s=20)</p>
<p><strong>filter nodes like</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">query_string <span class="token operator">=</span> <span class="token string">'cars'</span>
nodes <span class="token operator">=</span> <span class="token punctuation">[</span>
   node<span class="token punctuation">.</span>name 
   <span class="token keyword">for</span> node <span class="token keyword">in</span> pipeline<span class="token punctuation">.</span>nodes 
   <span class="token keyword">if</span> query_string <span class="token keyword">in</span> node<span class="token punctuation">.</span>name
   <span class="token punctuation">]</span>
pipeline<span class="token punctuation">.</span>only_nodes<span class="token punctuation">(</span><span class="token operator">*</span>nodes<span class="token punctuation">)</span></code></pre></div>
<p><em>see on</em> <a href="https://twitter.com/_WaylonWalker/status/1196813895228428288?s=20"><em>#kedrotips</em></a></p>
<p><strong>only nodes with tags</strong> <em>or</em></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">nodes <span class="token operator">=</span> pipeline<span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'cars'</span><span class="token punctuation">,</span> <span class="token string">'trains'</span><span class="token punctuation">)</span></code></pre></div>
<p><strong>only nodes with tags</strong> <em>and</em></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">raw_nodes <span class="token operator">=</span> pipeline<span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'raw'</span><span class="token punctuation">)</span>
car_nodes <span class="token operator">=</span> pipeline<span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'cars'</span><span class="token punctuation">)</span>
raw_car_nodes <span class="token operator">=</span> raw_nodes <span class="token operator">&amp;</span> car_nodes</code></pre></div>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">raw_nodes <span class="token operator">=</span> <span class="token punctuation">(</span>
   pipeline
   <span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'raw'</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'cars'</span><span class="token punctuation">)</span>
   <span class="token punctuation">)</span></code></pre></div>
<p><strong>add pipelines</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">car_nodes <span class="token operator">=</span> pipeline<span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'cars'</span><span class="token punctuation">)</span>
train_nodes <span class="token operator">=</span> pipeline<span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'trains'</span><span class="token punctuation">)</span>
transportation_nodes <span class="token operator">=</span> car_nodes <span class="token operator">+</span> train_nodes</code></pre></div>
<p><strong>ensure nodes are attached</strong></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">cars_attached <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>
   pipeline
   <span class="token punctuation">.</span>only_nodes_with_tags<span class="token punctuation">(</span><span class="token string">'cars'</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span>grouped_nodes
   <span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span></code></pre></div>
<h3>üéÇ Pipeline Decorators</h3>
<p><a href="https://kedro.readthedocs.io/en/latest/_modules/kedro/pipeline/decorators.html#log_time">example - log_time</a></p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> kedro<span class="token punctuation">.</span>pipeline<span class="token punctuation">.</span>decorators <span class="token keyword">import</span> log_time<span class="token punctuation">,</span> mem_profile
pipeline<span class="token punctuation">.</span>decorate<span class="token punctuation">(</span>log_running_time<span class="token punctuation">)</span></code></pre></div>
<h2>Pipeline IO</h2>
<p><code class="language-text">pipleine.all_inputs()</code> and <code class="language-text">pipeline.all_outputs()</code> return sets of pipeline inputs and outputs and you can do set operations on them.  This is particularly useful to find the upper and lower edges of your pipeline or subset of pipeline.  The pipeline object here is any <code class="language-text">kedro</code> pipeline including a filtered subset.</p>
<h3>Find all raw data</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">pipeline<span class="token punctuation">.</span>all_inputs<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pipeline<span class="token punctuation">.</span>all_outputs<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<h3>Find all final data</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">pipeline<span class="token punctuation">.</span>all_inputs<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pipeline<span class="token punctuation">.</span>all_outputs<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<h3>Find all nodes that do not raw</h3>
<p>This one is probably one that is pushing the limits of what I would do in a list comprehension that I use in prod or even put into a text editor, but I commonly use ipython for my adhoc work and keeping it all in one line is very handy.  Complex list comprehensions kinda start becoming like regex in a way that they are really easy to write and really hard to read.  I don't think this one quite hits that point but its getting close.</p>
<p>I find this one super useful to help me either move data beween environments, or avoid unnecessary database calls.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">raw_inputs <span class="token operator">=</span> pipeline<span class="token punctuation">.</span>all_inputs<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pipeline<span class="token punctuation">.</span>all_outputs<span class="token punctuation">(</span><span class="token punctuation">)</span>
raw_nodes <span class="token operator">=</span> <span class="token punctuation">[</span>node <span class="token keyword">for</span> node <span class="token keyword">in</span> pipeline<span class="token punctuation">.</span>nodes <span class="token keyword">if</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> raw_inputs <span class="token keyword">if</span> i <span class="token keyword">in</span> <span class="token builtin">set</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>inputs<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre></div></div></div><p>Check out my other<a style="margin:.3rem" href="/blog">Notes</a></p></div><div class="Subscribe__SubscribeStyle-f859a3-0 fZxQeY"><h2>Join my Newsletter</h2><form action="https://getform.io/f/ff0f9e01-261c-476b-b0af-b3a9f8cddc90" method="POST"><div class="group"><input type="text" name="name" placeholder="Preferred Name"/></div><div class="group"><input type="email" name="email" placeholder="Email"/></div><div class="group" id="subscribe-checkbox-group"><label for="email">Subscribe: </label><input type="checkbox" id="subscribe-checkbox" name="subscribe" value="subscribe" checked=""/></div><button type="submit">Send</button></form></div><p style="margin:0">.</p></div></div></div><script>
  window.excludeGAPaths=[/^(?:\/admin\/(?:(?!(?:\/|^)\.).)*?)$/];
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-113148616-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/notes/kedro/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-87e16f23be6dfce576b0.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-9edabb9556448a6822d1.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-12d1ff7cca09e0cf2e7c.js"],"component---src-templates-notes-js":["/component---src-templates-notes-js-b46f2be6b3f42f085002.js"],"component---src-pages-404-js":["/component---src-pages-404-js-658a0e21cd30873dcc9b.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-4389f3040d5f1237b9f3.js"],"component---src-pages-blog-realistic-git-workflow-clean-js":["/component---src-pages-blog-realistic-git-workflow-clean-js-76a3e2787e6d9c4295ff.js"],"component---src-pages-gratitude-js":["/component---src-pages-gratitude-js-397e3e92a577ecba44b1.js"],"component---src-pages-index-js":["/component---src-pages-index-js-dba72a135dd54393a686.js"],"component---src-pages-newsletter-js":["/component---src-pages-newsletter-js-19b139eea8e6eb945561.js"],"component---src-pages-notes-js":["/component---src-pages-notes-js-cb456a5c4ed3b7d0131f.js"],"component---src-pages-page-2-js":["/component---src-pages-page-2-js-d3a1662b2507d9e966cd.js"],"component---src-pages-test-js":["/component---src-pages-test-js-ed4dfcd2901203beaad9.js"]};/*]]>*/</script><script src="/component---src-templates-notes-js-b46f2be6b3f42f085002.js" async=""></script><script src="/commons-dff5fedb3869fa3d34b9.js" async=""></script><script src="/styles-7f1e5e1dd400b30723a0.js" async=""></script><script src="/app-87e16f23be6dfce576b0.js" async=""></script><script src="/webpack-runtime-4690eae69db7f921735a.js" async=""></script></body></html>