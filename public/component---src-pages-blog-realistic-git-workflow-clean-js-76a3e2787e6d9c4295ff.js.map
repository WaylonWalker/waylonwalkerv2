{"version":3,"sources":["webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@gitgraph/core/lib/index.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@gitgraph/core/lib/user-api/gitgraph-user-api.js","webpack:///./node_modules/@gitgraph/core/lib/refs.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@gitgraph/core/lib/branches-paths.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/index.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@gitgraph/core/lib/orientation.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@gitgraph/core/lib/tag.js","webpack:///./node_modules/@gitgraph/core/lib/branches-order.js","webpack:///./node_modules/@gitgraph/core/lib/template.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/regular.js","webpack:///./node_modules/@gitgraph/core/lib/commit.js","webpack:///./node_modules/@gitgraph/core/lib/mode.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@gitgraph/core/lib/user-api/branch-user-api.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@gitgraph/core/lib/utils.js","webpack:///./node_modules/@gitgraph/core/lib/branch.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/compact.js","webpack:///./node_modules/@gitgraph/react/lib/BranchLabel.js","webpack:///./node_modules/@gitgraph/react/lib/Tooltip.js","webpack:///./node_modules/@gitgraph/react/lib/Dot.js","webpack:///./node_modules/@gitgraph/react/lib/Tag.js","webpack:///./node_modules/@gitgraph/react/lib/Gitgraph.js","webpack:///./src/pages/blog/realistic-git-workflow/clean.js","webpack:///./node_modules/@gitgraph/core/lib/gitgraph.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/defineProperty.js"],"names":["arrayWithoutHoles","iterableToArray","nonIterableSpread","module","exports","arr","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","defineProperty","value","gitgraph_1","GitgraphCore","mode_1","Mode","gitgraph_user_api_1","GitgraphUserApi","branch_user_api_1","BranchUserApi","branch_1","Branch","commit_1","Commit","tag_1","Tag","refs_1","Refs","template_1","MergeStyle","TemplateName","templateExtend","orientation_1","Orientation","branches_paths_1","toSvgPath","utils_1","arrowSvgPath","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_slicedToArray","_classCallCheck","_createClass","graph","onGraphUpdate","this","_graph","_onGraphUpdate","key","refs","tags","commits","branches","Map","currentBranch","createBranch","options","getUserApi","commit","args","name","ref","style","render","commitHash","_len","arguments","_key","head","getCommit","hasCommit","hasName","Error","concat","set","tagStyles","tagRenders","data","_this","invalidData","every","author","commitOptionsList","map","assign","template","message","display","shouldDisplayCommitMessage","email","reverse","clear","forEach","_ref","hash","split","_ref2","_ref3","filter","tag","startsWith","_getBranches","_withBranches","reduce","mem","branch","add","Set","commitBranches","get","values","DELETED_BRANCH_NAME","setBranches","_this2","result","queue","getAllNames","_loop","currentHash","pop","current","find","_ref4","prevBranches","parents","_toConsumableArray","commitPerName","namesPerCommit","prevCommitHash","removeNameFrom","addNameTo","addCommitTo","keys","has","nameToRemove","names","nameToAdd","prevNames","commitHashToAdd","self","ReferenceError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","BranchesPathsCalculator","commitSpacing","isGraphVertical","isGraphReverse","createDeletedBranch","branchesPaths","fromCommits","withMergeCommits","smoothBranchesPaths","branchToDisplay","getDeletedBranchInPath","path","existingBranchPath","firstParentCommit","apply","x","y","mergeCommit","parentOnOriginBranch","originBranchName","lastPoints","isDeleted","_this3","points","sort","a","b","paths","point","pick","j","previousPoint","subPath","firstPoint","lastPoint","column","branchSize","Math","round","abs","branchPoints","fill","_","lastSubPaths","coordinates","isBezier","isVertical","previous","middleY","middleX","join","slice","compact_1","regular_1","GraphRows","RegularGraphRows","createGraphRows","mode","Compact","CompactGraphRows","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_typeof","assertThisInitialized","_setPrototypeOf","o","p","setPrototypeOf","__proto__","obj","constructor","subClass","superClass","TypeError","create","commitStyle","tagStyle","strokeColor","color","bgColor","font","DEFAULT_FONT","borderRadius","numberOptionOr","pointerWidth","BranchesOrder","colors","compareFunction","branchName","findIndex","_defineProperty","Template","label","arrow","dot","lineWidth","mergeStyle","Bezier","spacing","booleanOptionOr","size","offset","hasTooltipInCompactMode","strokeWidth","displayAuthor","displayHash","blackArrowTemplate","Straight","metroTemplate","getTemplate","_TemplateName$BlackAr","BlackArrow","Metro","selectedTemplate","rows","maxRowCache","computeRowsFromCommits","array","_options$author$match","match","_options$author$match2","e","timestamp","Date","now","committer","subject","body","random","substring","hashAbbrev","parentsAbbrev","dotText","onClick","onMessageClick","onMouseOver","onMouseOut","renderDot","renderMessage","renderTooltip","getNames","getTagStyle","getTagRender","newStyle","cloneCommit","__rest","s","t","hasOwnProperty","indexOf","getOwnPropertySymbols","_branch","_commitWithParents","isBranchMergeOptions","fastForward","commitOptions","_options","branchLastCommitHash","canFastForward","lastCommitHash","_areCommitsConnected","_fastForwardTo","parentOnSameBranch","unshift","parentCommitHash","generateCommitHash","commitDefaultOptions","commitMessage","_getCommitStyle","checkout","childCommitHash","childCommit","includes","some","directParentHash","withoutUndefinedKeys","isUndefined","defaultValue","debug","console","log","JSON","stringify","parent","commitRadius","h","delta","PI","alpha","alphaY","alphaX","deltaX","deltaY","orientation","Horizontal","HorizontalReverse","VerticalReverse","reverseArrow","atan2","getAlpha","x1","cos","y1","sin","x2","y2","x3","y3","x4","y4","gitgraph","renderLabel","_getPrototypeOf","getPrototypeOf","_possibleConstructorReturn","_inherits","_regular_1$RegularGra","newRow","parentRow","getRowOf","historyParent","max","_extendStatics","__extends","d","__","_super","BranchLabel","state","textWidth","textHeight","$text","componentDidMount","box","getBBox","setState","width","height","_a","boxWidth","paddingX","boxHeight","paddingY","stroke","rx","alignmentBaseline","dominantBaseline","Tooltip","commitSize","padding","transform","children","id","cx","cy","r","xlinkHref","clipPath","textAnchor","radius","isPropsWithGraph","Gitgraph","$graph","$commits","$tooltip","commitsElements","commitMessagesX","commitYWithOffsets","shouldRecomputeOffsets","currentCommitOver","subscribe","renderBranchesPaths","renderCommits","componentDidUpdate","setAttribute","positionCommitsElements","computeOffsets","getWithCommitOffset","computedColor","renderCommit","isHorizontal","renderArrows","renderBranchLabels","renderTags","parentHash","origin","createMessageRef","branchLabelOnEveryCommit","createBranchLabelRef","branchLabel","createTagRef","initCommitElements","moveElement","branchLabelWidth","tagWidth","totalOffsetY","newOffsets","commitY","parseInt","getAttribute","firstForeignObject","getElementsByTagName","customHtmlMessage","firstElementChild","messageHeight","getBoundingClientRect","marginTopInPx","window","getComputedStyle","marginTop","replace","defaultProps","Clean","master","feature","merge","graph_rows_1","branches_order_1","listeners","nextTimeoutId","initCommitOffsetX","initCommitOffsetY","branchesOrderFunction","compareBranchesOrder","listener","isSubscribed","index","splice","computeRenderedCommits","computeRenderedBranchesPaths","computeCommitMessagesX","computeBranchesColor","parentBranchName","_this4","getBranches","commitsWithBranches","withBranches","branchesOrder","setRefs","withPosition","withDefaultColor","getBranchDefaultColor","setTags","_this5","isReverse","execute","_this6","_this7","row","maxRow","getMaxRow","order","setPosition","getColorOf","_this8","clearTimeout","setTimeout","getRenderedData","$export","P","instance"],"mappings":"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","file":"component---src-pages-blog-realistic-git-workflow-clean-js-76a3e2787e6d9c4295ff.js","sourcesContent":["var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar gitgraph_1 = require(\"./gitgraph\");\n\nexports.GitgraphCore = gitgraph_1.GitgraphCore;\n\nvar mode_1 = require(\"./mode\");\n\nexports.Mode = mode_1.Mode;\n\nvar gitgraph_user_api_1 = require(\"./user-api/gitgraph-user-api\");\n\nexports.GitgraphUserApi = gitgraph_user_api_1.GitgraphUserApi;\n\nvar branch_user_api_1 = require(\"./user-api/branch-user-api\");\n\nexports.BranchUserApi = branch_user_api_1.BranchUserApi;\n\nvar branch_1 = require(\"./branch\");\n\nexports.Branch = branch_1.Branch;\n\nvar commit_1 = require(\"./commit\");\n\nexports.Commit = commit_1.Commit;\n\nvar tag_1 = require(\"./tag\");\n\nexports.Tag = tag_1.Tag;\n\nvar refs_1 = require(\"./refs\");\n\nexports.Refs = refs_1.Refs;\n\nvar template_1 = require(\"./template\");\n\nexports.MergeStyle = template_1.MergeStyle;\nexports.TemplateName = template_1.TemplateName;\nexports.templateExtend = template_1.templateExtend;\n\nvar orientation_1 = require(\"./orientation\");\n\nexports.Orientation = orientation_1.Orientation;\n\nvar branches_paths_1 = require(\"./branches-paths\");\n\nexports.toSvgPath = branches_paths_1.toSvgPath;\n\nvar utils_1 = require(\"./utils\");\n\nexports.arrowSvgPath = utils_1.arrowSvgPath;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.set\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.string.starts-with\");\n\nvar _slicedToArray = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar commit_1 = require(\"../commit\");\n\nvar branch_1 = require(\"../branch\");\n\nvar refs_1 = require(\"../refs\");\n\nvar GitgraphUserApi =\n/*#__PURE__*/\nfunction () {\n  // tslint:enable:variable-name\n  function GitgraphUserApi(graph, onGraphUpdate) {\n    _classCallCheck(this, GitgraphUserApi);\n\n    this._graph = graph;\n    this._onGraphUpdate = onGraphUpdate;\n  }\n  /**\n   * Clear everything (as `rm -rf .git && git init`).\n   */\n\n\n  _createClass(GitgraphUserApi, [{\n    key: \"clear\",\n    value: function clear() {\n      this._graph.refs = new refs_1.Refs();\n      this._graph.tags = new refs_1.Refs();\n      this._graph.commits = [];\n      this._graph.branches = new Map();\n      this._graph.currentBranch = this._graph.createBranch(\"master\");\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"commit\",\n    value: function commit(options) {\n      this._graph.currentBranch.getUserApi().commit(options);\n\n      return this;\n    }\n  }, {\n    key: \"branch\",\n    value: function branch(args) {\n      return this._graph.createBranch(args).getUserApi();\n    }\n  }, {\n    key: \"tag\",\n    value: function tag() {\n      // Deal with shorter syntax\n      var name;\n      var ref;\n      var style;\n      var render;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (typeof args[0] === \"string\") {\n        name = args[0];\n        ref = args[1];\n      } else {\n        name = args[0].name;\n        ref = args[0].ref;\n        style = args[0].style;\n        render = args[0].render;\n      }\n\n      if (!ref) {\n        var head = this._graph.refs.getCommit(\"HEAD\");\n\n        if (!head) return this;\n        ref = head;\n      }\n\n      var commitHash;\n\n      if (this._graph.refs.hasCommit(ref)) {\n        // `ref` is a `Commit[\"hash\"]`\n        commitHash = ref;\n      }\n\n      if (this._graph.refs.hasName(ref)) {\n        // `ref` is a `Branch[\"name\"]`\n        commitHash = this._graph.refs.getCommit(ref);\n      }\n\n      if (!commitHash) {\n        throw new Error(\"The ref \\\"\".concat(ref, \"\\\" does not exist\"));\n      }\n\n      this._graph.tags.set(name, commitHash);\n\n      this._graph.tagStyles[name] = style;\n      this._graph.tagRenders[name] = render;\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n    /**\n     * Import a JSON.\n     *\n     * Data can't be typed since it comes from a JSON.\n     * We validate input format and throw early if something is invalid.\n     *\n     * @experimental\n     * @param data JSON from `git2json` output\n     */\n\n  }, {\n    key: \"import\",\n    value: function _import(data) {\n      var _this = this;\n\n      var invalidData = new Error(\"Only `git2json` format is supported for imported data.\"); // We manually validate input data instead of using a lib like yup.\n      // => this is to keep bundlesize small.\n\n      if (!Array.isArray(data)) {\n        throw invalidData;\n      }\n\n      var areDataValid = data.every(function (options) {\n        return typeof options === \"object\" && typeof options.author === \"object\" && Array.isArray(options.refs);\n      });\n\n      if (!areDataValid) {\n        throw invalidData;\n      }\n\n      var commitOptionsList = data.map(function (options) {\n        return Object.assign({}, options, {\n          style: Object.assign({}, _this._graph.template.commit, {\n            message: Object.assign({}, _this._graph.template.commit.message, {\n              display: _this._graph.shouldDisplayCommitMessage\n            })\n          }),\n          author: \"\".concat(options.author.name, \" <\").concat(options.author.email, \">\")\n        });\n      }) // Git2json outputs is reverse-chronological.\n      // We need to commit it chronological order.\n      .reverse(); // Use validated `value`.\n\n      this.clear();\n      this._graph.commits = commitOptionsList.map(function (options) {\n        return new commit_1.Commit(options);\n      }); // Create tags & refs.\n\n      commitOptionsList.forEach(function (_ref) {\n        var refs = _ref.refs,\n            hash = _ref.hash;\n        if (!refs) return;\n        if (!hash) return;\n        var TAG_PREFIX = \"tag: \";\n        var tags = refs.map(function (ref) {\n          return ref.split(TAG_PREFIX);\n        }).map(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              _ = _ref3[0],\n              tag = _ref3[1];\n\n          return tag;\n        }).filter(function (tag) {\n          return typeof tag === \"string\";\n        });\n        tags.forEach(function (tag) {\n          return _this._graph.tags.set(tag, hash);\n        });\n        refs.filter(function (ref) {\n          return !ref.startsWith(TAG_PREFIX);\n        }).forEach(function (ref) {\n          return _this._graph.refs.set(ref, hash);\n        });\n      }); // Create branches.\n\n      var branches = this._getBranches();\n\n      this._graph.commits.map(function (commit) {\n        return _this._withBranches(branches, commit);\n      }).reduce(function (mem, commit) {\n        if (!commit.branches) return mem;\n        commit.branches.forEach(function (branch) {\n          return mem.add(branch);\n        });\n        return mem;\n      }, new Set()).forEach(function (branch) {\n        return _this.branch(branch);\n      });\n\n      this._onGraphUpdate();\n\n      return this;\n    } // tslint:disable:variable-name - Prefix `_` = explicitly private for JS users\n    // TODO: get rid of these duplicated private methods.\n    //\n    // These belong to Gitgraph. It is duplicated because of `import()`.\n    // `import()` should use regular user API instead.\n\n  }, {\n    key: \"_withBranches\",\n    value: function _withBranches(branches, commit) {\n      var commitBranches = Array.from((branches.get(commit.hash) || new Set()).values());\n\n      if (commitBranches.length === 0) {\n        // No branch => branch has been deleted.\n        commitBranches = [branch_1.DELETED_BRANCH_NAME];\n      }\n\n      return commit.setBranches(commitBranches);\n    }\n  }, {\n    key: \"_getBranches\",\n    value: function _getBranches() {\n      var _this2 = this;\n\n      var result = new Map();\n      var queue = [];\n\n      var branches = this._graph.refs.getAllNames().filter(function (name) {\n        return name !== \"HEAD\";\n      });\n\n      branches.forEach(function (branch) {\n        var commitHash = _this2._graph.refs.getCommit(branch);\n\n        if (commitHash) {\n          queue.push(commitHash);\n        }\n\n        var _loop = function _loop() {\n          var currentHash = queue.pop();\n\n          var current = _this2._graph.commits.find(function (_ref4) {\n            var hash = _ref4.hash;\n            return hash === currentHash;\n          });\n\n          var prevBranches = result.get(currentHash) || new Set();\n          prevBranches.add(branch);\n          result.set(currentHash, prevBranches);\n\n          if (current.parents.length > 0) {\n            queue.push(current.parents[0]);\n          }\n        };\n\n        while (queue.length > 0) {\n          _loop();\n        }\n      });\n      return result;\n    }\n  }]);\n\n  return GitgraphUserApi;\n}();\n\nexports.GitgraphUserApi = GitgraphUserApi;","\"use strict\";\n\nvar _toConsumableArray = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Refs =\n/*#__PURE__*/\nfunction () {\n  function Refs() {\n    _classCallCheck(this, Refs);\n\n    this.commitPerName = new Map();\n    this.namesPerCommit = new Map();\n  }\n  /**\n   * Set a new reference to a commit hash.\n   *\n   * @param name Name of the ref (ex: \"master\", \"v1.0\")\n   * @param commitHash Commit hash\n   */\n\n\n  _createClass(Refs, [{\n    key: \"set\",\n    value: function set(name, commitHash) {\n      var prevCommitHash = this.commitPerName.get(name);\n\n      if (prevCommitHash) {\n        this.removeNameFrom(prevCommitHash, name);\n      }\n\n      this.addNameTo(commitHash, name);\n      this.addCommitTo(name, commitHash);\n      return this;\n    }\n    /**\n     * Get the commit hash associated with the given reference name.\n     *\n     * @param name Name of the ref\n     */\n\n  }, {\n    key: \"getCommit\",\n    value: function getCommit(name) {\n      return this.commitPerName.get(name);\n    }\n    /**\n     * Get the list of reference names associated with given commit hash.\n     *\n     * @param commitHash Commit hash\n     */\n\n  }, {\n    key: \"getNames\",\n    value: function getNames(commitHash) {\n      return this.namesPerCommit.get(commitHash) || [];\n    }\n    /**\n     * Get all reference names known.\n     */\n\n  }, {\n    key: \"getAllNames\",\n    value: function getAllNames() {\n      return Array.from(this.commitPerName.keys());\n    }\n    /**\n     * Returns true if given commit hash is referenced.\n     *\n     * @param commitHash Commit hash\n     */\n\n  }, {\n    key: \"hasCommit\",\n    value: function hasCommit(commitHash) {\n      return this.namesPerCommit.has(commitHash);\n    }\n    /**\n     * Returns true if given reference name exists.\n     *\n     * @param name Name of the ref\n     */\n\n  }, {\n    key: \"hasName\",\n    value: function hasName(name) {\n      return this.commitPerName.has(name);\n    }\n  }, {\n    key: \"removeNameFrom\",\n    value: function removeNameFrom(commitHash, nameToRemove) {\n      var names = this.namesPerCommit.get(commitHash) || [];\n      this.namesPerCommit.set(commitHash, names.filter(function (name) {\n        return name !== nameToRemove;\n      }));\n    }\n  }, {\n    key: \"addNameTo\",\n    value: function addNameTo(commitHash, nameToAdd) {\n      var prevNames = this.namesPerCommit.get(commitHash) || [];\n      this.namesPerCommit.set(commitHash, [].concat(_toConsumableArray(prevNames), [nameToAdd]));\n    }\n  }, {\n    key: \"addCommitTo\",\n    value: function addCommitTo(name, commitHashToAdd) {\n      this.commitPerName.set(name, commitHashToAdd);\n    }\n  }]);\n\n  return Refs;\n}();\n\nexports.Refs = Refs;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nvar _toConsumableArray = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils_1 = require(\"./utils\");\n/**\n * Calculate branches paths of the graph.\n *\n * It follows the Command pattern:\n * => a class with a single `execute()` public method.\n *\n * Main benefit is we can split computation in smaller steps without\n * passing around parameters (we can rely on private data).\n */\n\n\nvar BranchesPathsCalculator =\n/*#__PURE__*/\nfunction () {\n  function BranchesPathsCalculator(commits, branches, commitSpacing, isGraphVertical, isGraphReverse, createDeletedBranch) {\n    _classCallCheck(this, BranchesPathsCalculator);\n\n    this.branchesPaths = new Map();\n    this.commits = commits;\n    this.branches = branches;\n    this.commitSpacing = commitSpacing;\n    this.isGraphVertical = isGraphVertical;\n    this.isGraphReverse = isGraphReverse;\n    this.createDeletedBranch = createDeletedBranch;\n  }\n  /**\n   * Compute branches paths for graph.\n   */\n\n\n  _createClass(BranchesPathsCalculator, [{\n    key: \"execute\",\n    value: function execute() {\n      this.fromCommits();\n      this.withMergeCommits();\n      return this.smoothBranchesPaths();\n    }\n    /**\n     * Initialize branches paths from calculator's commits.\n     */\n\n  }, {\n    key: \"fromCommits\",\n    value: function fromCommits() {\n      var _this = this;\n\n      this.commits.forEach(function (commit) {\n        var branch = _this.branches.get(commit.branchToDisplay);\n\n        if (!branch) {\n          // NB: may not work properly if there are many deleted branches.\n          branch = _this.getDeletedBranchInPath() || _this.createDeletedBranch();\n        }\n\n        var path = [];\n\n        var existingBranchPath = _this.branchesPaths.get(branch);\n\n        var firstParentCommit = _this.commits.find(function (_ref) {\n          var hash = _ref.hash;\n          return hash === commit.parents[0];\n        });\n\n        if (existingBranchPath) {\n          path.push.apply(path, _toConsumableArray(existingBranchPath));\n        } else if (firstParentCommit) {\n          // Make branch path starts from parent branch (parent commit).\n          path.push({\n            x: firstParentCommit.x,\n            y: firstParentCommit.y\n          });\n        }\n\n        path.push({\n          x: commit.x,\n          y: commit.y\n        });\n\n        _this.branchesPaths.set(branch, path);\n      });\n    }\n    /**\n     * Insert merge commits points into `branchesPaths`.\n     *\n     * @example\n     *     // Before\n     *     [\n     *       { x: 0, y: 640 },\n     *       { x: 50, y: 560 }\n     *     ]\n     *\n     *     // After\n     *     [\n     *       { x: 0, y: 640 },\n     *       { x: 50, y: 560 },\n     *       { x: 50, y: 560, mergeCommit: true }\n     *     ]\n     */\n\n  }, {\n    key: \"withMergeCommits\",\n    value: function withMergeCommits() {\n      var _this2 = this;\n\n      var mergeCommits = this.commits.filter(function (_ref2) {\n        var parents = _ref2.parents;\n        return parents.length > 1;\n      });\n      mergeCommits.forEach(function (mergeCommit) {\n        var parentOnOriginBranch = _this2.commits.find(function (_ref3) {\n          var hash = _ref3.hash;\n          return hash === mergeCommit.parents[1];\n        });\n\n        if (!parentOnOriginBranch) return;\n        var originBranchName = parentOnOriginBranch.branches ? parentOnOriginBranch.branches[0] : \"\";\n\n        var branch = _this2.branches.get(originBranchName);\n\n        if (!branch) {\n          branch = _this2.getDeletedBranchInPath();\n\n          if (!branch) {\n            // Still no branch? That's strange, we shouldn't set anything.\n            return;\n          }\n        }\n\n        var lastPoints = _toConsumableArray(_this2.branchesPaths.get(branch) || []);\n\n        _this2.branchesPaths.set(branch, [].concat(_toConsumableArray(lastPoints), [{\n          x: mergeCommit.x,\n          y: mergeCommit.y,\n          mergeCommit: true\n        }]));\n      });\n    }\n    /**\n     * Retrieve deleted branch from calculator's branches paths.\n     */\n\n  }, {\n    key: \"getDeletedBranchInPath\",\n    value: function getDeletedBranchInPath() {\n      return Array.from(this.branchesPaths.keys()).find(function (branch) {\n        return branch.isDeleted();\n      });\n    }\n    /**\n     * Smooth all paths by putting points on each row.\n     */\n\n  }, {\n    key: \"smoothBranchesPaths\",\n    value: function smoothBranchesPaths() {\n      var _this3 = this;\n\n      var branchesPaths = new Map();\n      this.branchesPaths.forEach(function (points, branch) {\n        if (points.length <= 1) {\n          branchesPaths.set(branch, [points]);\n          return;\n        } // Cut path on each merge commits\n        // Coordinate[] -> Coordinate[][]\n\n\n        if (_this3.isGraphVertical) {\n          points = points.sort(function (a, b) {\n            return a.y > b.y ? -1 : 1;\n          });\n        } else {\n          points = points.sort(function (a, b) {\n            return a.x > b.x ? 1 : -1;\n          });\n        }\n\n        if (_this3.isGraphReverse) {\n          points = points.reverse();\n        }\n\n        var paths = points.reduce(function (mem, point, i) {\n          if (point.mergeCommit) {\n            mem[mem.length - 1].push(utils_1.pick(point, [\"x\", \"y\"]));\n            var j = i - 1;\n            var previousPoint = points[j]; // Find the last point which is not a merge\n\n            while (j >= 0 && previousPoint.mergeCommit) {\n              j--;\n              previousPoint = points[j];\n            } // Start a new array with this point\n\n\n            if (j >= 0) {\n              mem.push([previousPoint]);\n            }\n          } else {\n            mem[mem.length - 1].push(point);\n          }\n\n          return mem;\n        }, [[]]);\n\n        if (_this3.isGraphReverse) {\n          paths.forEach(function (path) {\n            return path.reverse();\n          });\n        } // Add intermediate points on each sub paths\n\n\n        if (_this3.isGraphVertical) {\n          paths.forEach(function (subPath) {\n            if (subPath.length <= 1) return;\n            var firstPoint = subPath[0];\n            var lastPoint = subPath[subPath.length - 1];\n            var column = subPath[1].x;\n            var branchSize = Math.round(Math.abs(firstPoint.y - lastPoint.y) / _this3.commitSpacing) - 1;\n            var branchPoints = branchSize > 0 ? new Array(branchSize).fill(0).map(function (_, i) {\n              return {\n                x: column,\n                y: subPath[0].y - _this3.commitSpacing * (i + 1)\n              };\n            }) : [];\n            var lastSubPaths = branchesPaths.get(branch) || [];\n            branchesPaths.set(branch, [].concat(_toConsumableArray(lastSubPaths), [[firstPoint].concat(_toConsumableArray(branchPoints), [lastPoint])]));\n          });\n        } else {\n          paths.forEach(function (subPath) {\n            if (subPath.length <= 1) return;\n            var firstPoint = subPath[0];\n            var lastPoint = subPath[subPath.length - 1];\n            var column = subPath[1].y;\n            var branchSize = Math.round(Math.abs(firstPoint.x - lastPoint.x) / _this3.commitSpacing) - 1;\n            var branchPoints = branchSize > 0 ? new Array(branchSize).fill(0).map(function (_, i) {\n              return {\n                y: column,\n                x: subPath[0].x + _this3.commitSpacing * (i + 1)\n              };\n            }) : [];\n            var lastSubPaths = branchesPaths.get(branch) || [];\n            branchesPaths.set(branch, [].concat(_toConsumableArray(lastSubPaths), [[firstPoint].concat(_toConsumableArray(branchPoints), [lastPoint])]));\n          });\n        }\n      });\n      return branchesPaths;\n    }\n  }]);\n\n  return BranchesPathsCalculator;\n}();\n\nexports.BranchesPathsCalculator = BranchesPathsCalculator;\n/**\n * Return a string ready to use in `svg.path.d` from coordinates\n *\n * @param coordinates Collection of coordinates\n */\n\nfunction toSvgPath(coordinates, isBezier, isVertical) {\n  return coordinates.map(function (path) {\n    return \"M\" + path.map(function (_ref4, i, points) {\n      var x = _ref4.x,\n          y = _ref4.y;\n\n      if (isBezier && points.length > 1 && (i === 1 || i === points.length - 1)) {\n        var previous = points[i - 1];\n\n        if (isVertical) {\n          var middleY = (previous.y + y) / 2;\n          return \"C \".concat(previous.x, \" \").concat(middleY, \" \").concat(x, \" \").concat(middleY, \" \").concat(x, \" \").concat(y);\n        } else {\n          var middleX = (previous.x + x) / 2;\n          return \"C \".concat(middleX, \" \").concat(previous.y, \" \").concat(middleX, \" \").concat(y, \" \").concat(x, \" \").concat(y);\n        }\n      }\n\n      return \"L \".concat(x, \" \").concat(y);\n    }).join(\" \").slice(1);\n  }).join(\" \");\n}\n\nexports.toSvgPath = toSvgPath;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar mode_1 = require(\"../mode\");\n\nvar compact_1 = require(\"./compact\");\n\nvar regular_1 = require(\"./regular\");\n\nexports.GraphRows = regular_1.RegularGraphRows;\n\nfunction createGraphRows(mode, commits) {\n  return mode === mode_1.Mode.Compact ? new compact_1.CompactGraphRows(commits) : new regular_1.RegularGraphRows(commits);\n}\n\nexports.createGraphRows = createGraphRows;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","\"use strict\"; // Extracted from `gitgraph.ts` because it caused `utils` tests to fail\n// because of circular dependency between `utils` and `template`.\n// It's not clear why (the circular dependency still exist) but `Orientation`\n// was the only one causing issue. Maybe because it's an enum?\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Orientation;\n\n(function (Orientation) {\n  Orientation[\"VerticalReverse\"] = \"vertical-reverse\";\n  Orientation[\"Horizontal\"] = \"horizontal\";\n  Orientation[\"HorizontalReverse\"] = \"horizontal-reverse\";\n})(Orientation = exports.Orientation || (exports.Orientation = {}));","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar template_1 = require(\"./template\");\n\nvar utils_1 = require(\"./utils\");\n\nvar Tag =\n/*#__PURE__*/\nfunction () {\n  function Tag(name, style, render, commitStyle) {\n    _classCallCheck(this, Tag);\n\n    this.name = name;\n    this.tagStyle = style;\n    this.commitStyle = commitStyle;\n    this.render = render;\n  }\n  /**\n   * Style\n   */\n\n\n  _createClass(Tag, [{\n    key: \"style\",\n    get: function get() {\n      return {\n        strokeColor: this.tagStyle.strokeColor || this.commitStyle.color,\n        bgColor: this.tagStyle.bgColor || this.commitStyle.color,\n        color: this.tagStyle.color || \"white\",\n        font: this.tagStyle.font || this.commitStyle.message.font || template_1.DEFAULT_FONT,\n        borderRadius: utils_1.numberOptionOr(this.tagStyle.borderRadius, 10),\n        pointerWidth: utils_1.numberOptionOr(this.tagStyle.pointerWidth, 12)\n      };\n    }\n  }]);\n\n  return Tag;\n}();\n\nexports.Tag = Tag;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.find-index\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.set\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BranchesOrder =\n/*#__PURE__*/\nfunction () {\n  function BranchesOrder(commits, colors, compareFunction) {\n    var _this = this;\n\n    _classCallCheck(this, BranchesOrder);\n\n    this.branches = new Set();\n    this.colors = colors;\n    commits.forEach(function (commit) {\n      return _this.branches.add(commit.branchToDisplay);\n    });\n\n    if (compareFunction) {\n      this.branches = new Set(Array.from(this.branches).sort(compareFunction));\n    }\n  }\n  /**\n   * Return the order of the given branch name.\n   *\n   * @param branchName Name of the branch\n   */\n\n\n  _createClass(BranchesOrder, [{\n    key: \"get\",\n    value: function get(branchName) {\n      return Array.from(this.branches).findIndex(function (branch) {\n        return branch === branchName;\n      });\n    }\n    /**\n     * Return the color of the given branch.\n     *\n     * @param branchName Name of the branch\n     */\n\n  }, {\n    key: \"getColorOf\",\n    value: function getColorOf(branchName) {\n      return this.colors[this.get(branchName) % this.colors.length];\n    }\n  }]);\n\n  return BranchesOrder;\n}();\n\nexports.BranchesOrder = BranchesOrder;","\"use strict\";\n\nvar _defineProperty = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/defineProperty\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils_1 = require(\"./utils\");\n/**\n * Branch merge style enum\n */\n\n\nvar MergeStyle;\n\n(function (MergeStyle) {\n  MergeStyle[\"Bezier\"] = \"bezier\";\n  MergeStyle[\"Straight\"] = \"straight\";\n})(MergeStyle || (MergeStyle = {}));\n\nexports.MergeStyle = MergeStyle;\nexports.DEFAULT_FONT = \"normal 12pt Calibri\";\n/**\n * Gitgraph template\n *\n * Set of design rules for the rendering.\n */\n\nvar Template = function Template(options) {\n  _classCallCheck(this, Template);\n\n  // Options\n  options.branch = options.branch || {};\n  options.branch.label = options.branch.label || {};\n  options.arrow = options.arrow || {};\n  options.commit = options.commit || {};\n  options.commit.dot = options.commit.dot || {};\n  options.commit.message = options.commit.message || {}; // One color per column\n\n  this.colors = options.colors || [\"#000000\"]; // Branch style\n\n  this.branch = {\n    color: options.branch.color,\n    lineWidth: options.branch.lineWidth || 2,\n    mergeStyle: options.branch.mergeStyle || MergeStyle.Bezier,\n    spacing: utils_1.numberOptionOr(options.branch.spacing, 20),\n    label: {\n      display: utils_1.booleanOptionOr(options.branch.label.display, true),\n      color: options.branch.label.color || options.commit.color,\n      strokeColor: options.branch.label.strokeColor || options.commit.color,\n      bgColor: options.branch.label.bgColor || \"white\",\n      font: options.branch.label.font || options.commit.message.font || exports.DEFAULT_FONT,\n      borderRadius: utils_1.numberOptionOr(options.branch.label.borderRadius, 10)\n    }\n  }; // Arrow style\n\n  this.arrow = {\n    size: options.arrow.size || null,\n    color: options.arrow.color || null,\n    offset: options.arrow.offset || 2\n  }; // Commit style\n\n  this.commit = {\n    color: options.commit.color,\n    spacing: utils_1.numberOptionOr(options.commit.spacing, 25),\n    hasTooltipInCompactMode: utils_1.booleanOptionOr(options.commit.hasTooltipInCompactMode, true),\n    dot: {\n      color: options.commit.dot.color || options.commit.color,\n      size: options.commit.dot.size || 3,\n      strokeWidth: utils_1.numberOptionOr(options.commit.dot.strokeWidth, 0),\n      strokeColor: options.commit.dot.strokeColor,\n      font: options.commit.dot.font || options.commit.message.font || \"normal 10pt Calibri\"\n    },\n    message: {\n      display: utils_1.booleanOptionOr(options.commit.message.display, true),\n      displayAuthor: utils_1.booleanOptionOr(options.commit.message.displayAuthor, true),\n      displayHash: utils_1.booleanOptionOr(options.commit.message.displayHash, true),\n      color: options.commit.message.color || options.commit.color,\n      font: options.commit.message.font || exports.DEFAULT_FONT\n    }\n  }; // Tag style\n  // This one is computed in the Tag instance. It needs Commit style\n  // that is partially computed at runtime (for colors).\n\n  this.tag = options.tag || {};\n};\n\nexports.Template = Template;\n/**\n * Black arrow template\n */\n\nvar blackArrowTemplate = new Template({\n  colors: [\"#6963FF\", \"#47E8D4\", \"#6BDB52\", \"#E84BA5\", \"#FFA657\"],\n  branch: {\n    color: \"#000000\",\n    lineWidth: 4,\n    spacing: 50,\n    mergeStyle: MergeStyle.Straight\n  },\n  commit: {\n    spacing: 60,\n    dot: {\n      size: 16,\n      strokeColor: \"#000000\",\n      strokeWidth: 4\n    },\n    message: {\n      color: \"black\"\n    }\n  },\n  arrow: {\n    size: 16,\n    offset: -1.5\n  }\n});\nexports.blackArrowTemplate = blackArrowTemplate;\n/**\n * Metro template\n */\n\nvar metroTemplate = new Template({\n  colors: [\"#979797\", \"#008fb5\", \"#f1c109\"],\n  branch: {\n    lineWidth: 10,\n    spacing: 50\n  },\n  commit: {\n    spacing: 80,\n    dot: {\n      size: 14\n    },\n    message: {\n      font: \"normal 14pt Arial\"\n    }\n  }\n});\nexports.metroTemplate = metroTemplate;\nvar TemplateName;\n\n(function (TemplateName) {\n  TemplateName[\"Metro\"] = \"metro\";\n  TemplateName[\"BlackArrow\"] = \"blackarrow\";\n})(TemplateName || (TemplateName = {}));\n\nexports.TemplateName = TemplateName;\n/**\n * Extend an existing template with new options.\n *\n * @param selectedTemplate Template to extend\n * @param options Template options\n */\n\nfunction templateExtend(selectedTemplate, options) {\n  var template = getTemplate(selectedTemplate);\n  if (!options.branch) options.branch = {};\n  if (!options.commit) options.commit = {}; // This is tedious, but it seems acceptable so we don't need lodash\n  // as we want to keep bundlesize small.\n\n  return {\n    colors: options.colors || template.colors,\n    arrow: Object.assign({}, template.arrow, options.arrow),\n    branch: Object.assign({}, template.branch, options.branch, {\n      label: Object.assign({}, template.branch.label, options.branch.label)\n    }),\n    commit: Object.assign({}, template.commit, options.commit, {\n      dot: Object.assign({}, template.commit.dot, options.commit.dot),\n      message: Object.assign({}, template.commit.message, options.commit.message)\n    }),\n    tag: Object.assign({}, template.tag, options.tag)\n  };\n}\n\nexports.templateExtend = templateExtend;\n/**\n * Resolve the template to use regarding given `template` value.\n *\n * @param template Selected template name, or instance.\n */\n\nfunction getTemplate(template) {\n  if (!template) return metroTemplate;\n\n  if (typeof template === \"string\") {\n    var _TemplateName$BlackAr;\n\n    return (_TemplateName$BlackAr = {}, _defineProperty(_TemplateName$BlackAr, TemplateName.BlackArrow, blackArrowTemplate), _defineProperty(_TemplateName$BlackAr, TemplateName.Metro, metroTemplate), _TemplateName$BlackAr)[template];\n  }\n\n  return template;\n}\n\nexports.getTemplate = getTemplate;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","\"use strict\";\n\nrequire(\"core-js/modules/es6.set\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar RegularGraphRows =\n/*#__PURE__*/\nfunction () {\n  function RegularGraphRows(commits) {\n    _classCallCheck(this, RegularGraphRows);\n\n    this.rows = new Map();\n    this.maxRowCache = undefined;\n    this.computeRowsFromCommits(commits);\n  }\n\n  _createClass(RegularGraphRows, [{\n    key: \"getRowOf\",\n    value: function getRowOf(commitHash) {\n      return this.rows.get(commitHash) || 0;\n    }\n  }, {\n    key: \"getMaxRow\",\n    value: function getMaxRow() {\n      if (this.maxRowCache === undefined) {\n        this.maxRowCache = uniq(Array.from(this.rows.values())).length - 1;\n      }\n\n      return this.maxRowCache;\n    }\n  }, {\n    key: \"computeRowsFromCommits\",\n    value: function computeRowsFromCommits(commits) {\n      var _this = this;\n\n      commits.forEach(function (commit, i) {\n        _this.rows.set(commit.hash, i);\n      });\n      this.maxRowCache = undefined;\n    }\n  }]);\n\n  return RegularGraphRows;\n}();\n\nexports.RegularGraphRows = RegularGraphRows;\n/**\n * Creates a duplicate-free version of an array.\n *\n * Don't use lodash's `uniq` as it increased bundlesize a lot for such a\n * simple function.\n * => The way we bundle for browser seems not to work with `lodash-es`.\n * => I didn't to get tree-shaking to work with `lodash` (the CommonJS version).\n *\n * @param array Array of values\n */\n\nfunction uniq(array) {\n  var set = new Set();\n  array.forEach(function (value) {\n    return set.add(value);\n  });\n  return Array.from(set);\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nvar _slicedToArray = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tag_1 = require(\"./tag\");\n/**\n * Generate a random hash.\n *\n * @return hex string with 40 chars\n */\n\n\nvar getRandomHash = function getRandomHash() {\n  return (Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3)).substring(0, 40);\n};\n\nvar Commit =\n/*#__PURE__*/\nfunction () {\n  function Commit(options) {\n    var _this = this;\n\n    _classCallCheck(this, Commit);\n\n    /**\n     * Ref names\n     */\n    this.refs = [];\n    /**\n     * Commit x position\n     */\n\n    this.x = 0;\n    /**\n     * Commit y position\n     */\n\n    this.y = 0; // Set author & committer\n\n    var name, email;\n\n    try {\n      var _options$author$match = options.author.match(/(.*) <(.*)>/);\n\n      var _options$author$match2 = _slicedToArray(_options$author$match, 3);\n\n      name = _options$author$match2[1];\n      email = _options$author$match2[2];\n    } catch (e) {\n      var _ref = [options.author, \"\"];\n      name = _ref[0];\n      email = _ref[1];\n    }\n\n    this.author = {\n      name: name,\n      email: email,\n      timestamp: Date.now()\n    };\n    this.committer = {\n      name: name,\n      email: email,\n      timestamp: Date.now()\n    }; // Set commit message\n\n    this.subject = options.subject;\n    this.body = options.body || \"\"; // Set commit hash\n\n    this.hash = options.hash || getRandomHash();\n    this.hashAbbrev = this.hash.substring(0, 7); // Set parent hash\n\n    this.parents = options.parents ? options.parents : [];\n    this.parentsAbbrev = this.parents.map(function (commit) {\n      return commit.substring(0, 7);\n    }); // Set style\n\n    this.style = Object.assign({}, options.style, {\n      message: Object.assign({}, options.style.message),\n      dot: Object.assign({}, options.style.dot)\n    });\n    this.dotText = options.dotText; // Set callbacks\n\n    this.onClick = function () {\n      return options.onClick ? options.onClick(_this) : undefined;\n    };\n\n    this.onMessageClick = function () {\n      return options.onMessageClick ? options.onMessageClick(_this) : undefined;\n    };\n\n    this.onMouseOver = function () {\n      return options.onMouseOver ? options.onMouseOver(_this) : undefined;\n    };\n\n    this.onMouseOut = function () {\n      return options.onMouseOut ? options.onMouseOut(_this) : undefined;\n    }; // Set custom renders\n\n\n    this.renderDot = options.renderDot;\n    this.renderMessage = options.renderMessage;\n    this.renderTooltip = options.renderTooltip;\n  }\n  /**\n   * Message\n   */\n\n\n  _createClass(Commit, [{\n    key: \"setRefs\",\n    value: function setRefs(refs) {\n      this.refs = refs.getNames(this.hash);\n      return this;\n    }\n  }, {\n    key: \"setTags\",\n    value: function setTags(tags, getTagStyle, getTagRender) {\n      var _this2 = this;\n\n      this.tags = tags.getNames(this.hash).map(function (name) {\n        return new tag_1.Tag(name, getTagStyle(name), getTagRender(name), _this2.style);\n      });\n      return this;\n    }\n  }, {\n    key: \"setBranches\",\n    value: function setBranches(branches) {\n      this.branches = branches;\n      return this;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(_ref2) {\n      var x = _ref2.x,\n          y = _ref2.y;\n      this.x = x;\n      this.y = y;\n      return this;\n    }\n  }, {\n    key: \"withDefaultColor\",\n    value: function withDefaultColor(color) {\n      var newStyle = Object.assign({}, this.style, {\n        dot: Object.assign({}, this.style.dot),\n        message: Object.assign({}, this.style.message)\n      });\n      if (!newStyle.color) newStyle.color = color;\n      if (!newStyle.dot.color) newStyle.dot.color = color;\n      if (!newStyle.message.color) newStyle.message.color = color;\n      var commit = this.cloneCommit();\n      commit.style = newStyle;\n      return commit;\n    }\n    /**\n     * Ideally, we want Commit to be a [Value Object](https://martinfowler.com/bliki/ValueObject.html).\n     * We started with a mutable class. So we'll refactor that little by little.\n     * This private function is a helper to create a new Commit from existing one.\n     */\n\n  }, {\n    key: \"cloneCommit\",\n    value: function cloneCommit() {\n      var commit = new Commit({\n        author: \"\".concat(this.author.name, \" <\").concat(this.author.email, \">\"),\n        subject: this.subject,\n        style: this.style,\n        body: this.body,\n        hash: this.hash,\n        parents: this.parents,\n        dotText: this.dotText,\n        onClick: this.onClick,\n        onMessageClick: this.onMessageClick,\n        onMouseOver: this.onMouseOver,\n        onMouseOut: this.onMouseOut,\n        renderDot: this.renderDot,\n        renderMessage: this.renderMessage,\n        renderTooltip: this.renderTooltip\n      });\n      commit.refs = this.refs;\n      commit.branches = this.branches;\n      commit.tags = this.tags;\n      commit.x = this.x;\n      commit.y = this.y;\n      return commit;\n    }\n  }, {\n    key: \"message\",\n    get: function get() {\n      var message = \"\";\n\n      if (this.style.message.displayHash) {\n        message += \"\".concat(this.hashAbbrev, \" \");\n      }\n\n      message += this.subject;\n\n      if (this.style.message.displayAuthor) {\n        message += \" - \".concat(this.author.name, \" <\").concat(this.author.email, \">\");\n      }\n\n      return message;\n    }\n    /**\n     * Branch that should be rendered\n     */\n\n  }, {\n    key: \"branchToDisplay\",\n    get: function get() {\n      return this.branches ? this.branches[0] : \"\";\n    }\n  }]);\n\n  return Commit;\n}();\n\nexports.Commit = Commit;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Mode;\n\n(function (Mode) {\n  Mode[\"Compact\"] = \"compact\";\n})(Mode || (Mode = {}));\n\nexports.Mode = Mode;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar commit_1 = require(\"../commit\");\n\nvar utils_1 = require(\"../utils\");\n\nvar BranchUserApi =\n/*#__PURE__*/\nfunction () {\n  // tslint:enable:variable-name\n  function BranchUserApi(branch, graph, onGraphUpdate) {\n    _classCallCheck(this, BranchUserApi);\n\n    this._branch = branch;\n    this.name = branch.name;\n    this._graph = graph;\n    this._onGraphUpdate = onGraphUpdate;\n  }\n\n  _createClass(BranchUserApi, [{\n    key: \"branch\",\n    value: function branch(args) {\n      var options = typeof args === \"string\" ? {\n        name: args\n      } : args;\n      options.from = this;\n      return this._graph.createBranch(options).getUserApi();\n    }\n  }, {\n    key: \"commit\",\n    value: function commit(options) {\n      // Deal with shorter syntax\n      if (typeof options === \"string\") options = {\n        subject: options\n      };\n      if (!options) options = {};\n\n      this._commitWithParents(options, []);\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"merge\",\n    value: function merge() {\n      var options = arguments.length <= 0 ? undefined : arguments[0];\n\n      if (!isBranchMergeOptions(options)) {\n        options = {\n          branch: arguments.length <= 0 ? undefined : arguments[0],\n          fastForward: false,\n          commitOptions: {\n            subject: arguments.length <= 1 ? undefined : arguments[1]\n          }\n        };\n      }\n\n      var _options = options,\n          branch = _options.branch,\n          fastForward = _options.fastForward,\n          commitOptions = _options.commitOptions;\n      var branchName = typeof branch === \"string\" ? branch : branch.name;\n\n      var branchLastCommitHash = this._graph.refs.getCommit(branchName);\n\n      if (!branchLastCommitHash) {\n        throw new Error(\"The branch called \\\"\".concat(branchName, \"\\\" is unknown\"));\n      }\n\n      var canFastForward = false;\n\n      if (fastForward) {\n        var lastCommitHash = this._graph.refs.getCommit(this._branch.name);\n\n        if (lastCommitHash) {\n          canFastForward = this._areCommitsConnected(lastCommitHash, branchLastCommitHash);\n        }\n      }\n\n      if (fastForward && canFastForward) {\n        this._fastForwardTo(branchLastCommitHash);\n      } else {\n        this._commitWithParents(Object.assign({}, commitOptions, {\n          subject: commitOptions && commitOptions.subject || \"Merge branch \".concat(branchName)\n        }), [branchLastCommitHash]);\n      }\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"tag\",\n    value: function tag(options) {\n      if (typeof options === \"string\") {\n        this._graph.getUserApi().tag({\n          name: options,\n          ref: this._branch.name\n        });\n      } else {\n        this._graph.getUserApi().tag(Object.assign({}, options, {\n          ref: this._branch.name\n        }));\n      }\n\n      return this;\n    }\n    /**\n     * Checkout onto this branch.\n     */\n\n  }, {\n    key: \"checkout\",\n    value: function checkout() {\n      this._graph.currentBranch = this._branch;\n      return this;\n    } // tslint:disable:variable-name - Prefix `_` = explicitly private for JS users\n\n  }, {\n    key: \"_commitWithParents\",\n    value: function _commitWithParents(options, parents) {\n      var _this = this;\n\n      var parentOnSameBranch = this._graph.refs.getCommit(this._branch.name);\n\n      if (parentOnSameBranch) {\n        parents.unshift(parentOnSameBranch);\n      } else if (this._branch.parentCommitHash) {\n        parents.unshift(this._branch.parentCommitHash);\n      }\n\n      var tag = options.tag,\n          commitOptions = __rest(options, [\"tag\"]);\n\n      var commit = new commit_1.Commit(Object.assign({\n        hash: this._graph.generateCommitHash(),\n        author: this._branch.commitDefaultOptions.author || this._graph.author,\n        subject: this._branch.commitDefaultOptions.subject || this._graph.commitMessage\n      }, commitOptions, {\n        parents: parents,\n        style: this._getCommitStyle(options.style)\n      }));\n\n      if (parentOnSameBranch) {\n        // Take all the refs from the parent\n        var parentRefs = this._graph.refs.getNames(parentOnSameBranch);\n\n        parentRefs.forEach(function (ref) {\n          return _this._graph.refs.set(ref, commit.hash);\n        });\n      } else {\n        // Set the branch ref\n        this._graph.refs.set(this._branch.name, commit.hash);\n      } // Add the new commit\n\n\n      this._graph.commits.push(commit); // Move HEAD on the last commit\n\n\n      this.checkout();\n\n      this._graph.refs.set(\"HEAD\", commit.hash); // Add a tag to the commit if `option.tag` is provide\n\n\n      if (tag) this.tag(tag);\n    }\n  }, {\n    key: \"_areCommitsConnected\",\n    value: function _areCommitsConnected(parentCommitHash, childCommitHash) {\n      var _this2 = this;\n\n      var childCommit = this._graph.commits.find(function (_ref) {\n        var hash = _ref.hash;\n        return childCommitHash === hash;\n      });\n\n      if (!childCommit) return false;\n      var isFirstCommitOfGraph = childCommit.parents.length === 0;\n      if (isFirstCommitOfGraph) return false;\n\n      if (childCommit.parents.includes(parentCommitHash)) {\n        return true;\n      } // `childCommitHash` is not a direct child of `parentCommitHash`.\n      // But maybe one of `childCommitHash` parent is.\n\n\n      return childCommit.parents.some(function (directParentHash) {\n        return _this2._areCommitsConnected(parentCommitHash, directParentHash);\n      });\n    }\n  }, {\n    key: \"_fastForwardTo\",\n    value: function _fastForwardTo(commitHash) {\n      this._graph.refs.set(this._branch.name, commitHash);\n    }\n  }, {\n    key: \"_getCommitStyle\",\n    value: function _getCommitStyle() {\n      var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style), style, {\n        message: Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit.message), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.message), style.message, utils_1.withoutUndefinedKeys({\n          display: this._graph.shouldDisplayCommitMessage && undefined\n        })),\n        dot: Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit.dot), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.dot), style.dot)\n      });\n    }\n  }]);\n\n  return BranchUserApi;\n}();\n\nexports.BranchUserApi = BranchUserApi;\n\nfunction isBranchMergeOptions(options) {\n  return typeof options === \"object\" && !(options instanceof BranchUserApi);\n}","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nvar _defineProperty = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/defineProperty\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar orientation_1 = require(\"./orientation\");\n/**\n * Provide a default value to a boolean.\n * @param value\n * @param defaultValue\n */\n\n\nfunction booleanOptionOr(value, defaultValue) {\n  return typeof value === \"boolean\" ? value : defaultValue;\n}\n\nexports.booleanOptionOr = booleanOptionOr;\n/**\n * Provide a default value to a number.\n * @param value\n * @param defaultValue\n */\n\nfunction numberOptionOr(value, defaultValue) {\n  return typeof value === \"number\" ? value : defaultValue;\n}\n\nexports.numberOptionOr = numberOptionOr;\n/**\n * Creates an object composed of the picked object properties.\n * @param obj The source object\n * @param paths The property paths to pick\n */\n\nfunction pick(obj, paths) {\n  return Object.assign({}, paths.reduce(function (mem, key) {\n    return Object.assign({}, mem, _defineProperty({}, key, obj[key]));\n  }, {}));\n}\n\nexports.pick = pick;\n/**\n * Print a light version of commits into the console.\n * @param commits List of commits\n * @param paths The property paths to pick\n */\n\nfunction debug(commits, paths) {\n  // tslint:disable-next-line:no-console\n  console.log(JSON.stringify(commits.map(function (commit) {\n    return pick(commit, paths);\n  }), null, 2));\n}\n\nexports.debug = debug;\n/**\n * Return true if is undefined.\n *\n * @param obj\n */\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nexports.isUndefined = isUndefined;\n/**\n * Return a version of the object without any undefined keys.\n *\n * @param obj\n */\n\nfunction withoutUndefinedKeys() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.keys(obj).reduce(function (mem, key) {\n    return isUndefined(obj[key]) ? mem : Object.assign({}, mem, _defineProperty({}, key, obj[key]));\n  }, {});\n}\n\nexports.withoutUndefinedKeys = withoutUndefinedKeys;\n/**\n * Return a string ready to use in `svg.path.d` to draw an arrow from params.\n *\n * @param graph Graph context\n * @param parent Parent commit of the target commit\n * @param commit Target commit\n */\n\nfunction arrowSvgPath(graph, parent, commit) {\n  var commitRadius = commit.style.dot.size;\n  var size = graph.template.arrow.size;\n  var h = commitRadius + graph.template.arrow.offset; // Delta between left & right (radian)\n\n  var delta = Math.PI / 7; // Alpha angle between parent & commit (radian)\n\n  var alpha = getAlpha(graph, parent, commit); // Top\n\n  var x1 = h * Math.cos(alpha);\n  var y1 = h * Math.sin(alpha); // Bottom right\n\n  var x2 = (h + size) * Math.cos(alpha - delta);\n  var y2 = (h + size) * Math.sin(alpha - delta); // Bottom center\n\n  var x3 = (h + size / 2) * Math.cos(alpha);\n  var y3 = (h + size / 2) * Math.sin(alpha); // Bottom left\n\n  var x4 = (h + size) * Math.cos(alpha + delta);\n  var y4 = (h + size) * Math.sin(alpha + delta);\n  return \"M\".concat(x1, \",\").concat(y1, \" L\").concat(x2, \",\").concat(y2, \" Q\").concat(x3, \",\").concat(y3, \" \").concat(x4, \",\").concat(y4, \" L\").concat(x4, \",\").concat(y4);\n}\n\nexports.arrowSvgPath = arrowSvgPath;\n\nfunction getAlpha(graph, parent, commit) {\n  var deltaX = parent.x - commit.x;\n  var deltaY = parent.y - commit.y;\n  var commitSpacing = graph.template.commit.spacing;\n  var alphaY;\n  var alphaX; // Angle usually start from previous commit Y position:\n  //\n  // o\n  // ↑ ↖ ︎\n  // o  |  <-- path is straight until last commit Y position\n  // ↑  o\n  // | ↗︎\n  // o\n  //\n  // So we can to default to commit spacing.\n  // For horizontal orientation => same with commit X position.\n\n  switch (graph.orientation) {\n    case orientation_1.Orientation.Horizontal:\n      alphaY = deltaY;\n      alphaX = -commitSpacing;\n      break;\n\n    case orientation_1.Orientation.HorizontalReverse:\n      alphaY = deltaY;\n      alphaX = commitSpacing;\n      break;\n\n    case orientation_1.Orientation.VerticalReverse:\n      alphaY = -commitSpacing;\n      alphaX = deltaX;\n      break;\n\n    default:\n      alphaY = commitSpacing;\n      alphaX = deltaX;\n      break;\n  } // If commit is distant from its parent, there should be no angle.\n  //\n  //    o ︎\n  //    ↑  <-- arrow is like previous commit was on same X position\n  // o  |\n  // | /\n  // o\n  //\n  // For horizontal orientation => same with commit Y position.\n\n\n  if (graph.isVertical) {\n    if (Math.abs(deltaY) > commitSpacing) alphaX = 0;\n  } else {\n    if (Math.abs(deltaX) > commitSpacing) alphaY = 0;\n  }\n\n  if (graph.reverseArrow) {\n    alphaY *= -1;\n    alphaX *= -1;\n  }\n\n  return Math.atan2(alphaY, alphaX);\n}","\"use strict\";\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar branch_user_api_1 = require(\"./user-api/branch-user-api\");\n\nvar DELETED_BRANCH_NAME = \"\";\nexports.DELETED_BRANCH_NAME = DELETED_BRANCH_NAME;\n\nvar Branch =\n/*#__PURE__*/\nfunction () {\n  function Branch(options) {\n    _classCallCheck(this, Branch);\n\n    this.gitgraph = options.gitgraph;\n    this.name = options.name;\n    this.style = options.style;\n    this.parentCommitHash = options.parentCommitHash;\n    this.commitDefaultOptions = options.commitDefaultOptions || {\n      style: {}\n    };\n    this.onGraphUpdate = options.onGraphUpdate;\n    this.renderLabel = options.renderLabel;\n  }\n  /**\n   * Return the API to manipulate Gitgraph branch as a user.\n   */\n\n\n  _createClass(Branch, [{\n    key: \"getUserApi\",\n    value: function getUserApi() {\n      return new branch_user_api_1.BranchUserApi(this, this.gitgraph, this.onGraphUpdate);\n    }\n    /**\n     * Return true if branch was deleted.\n     */\n\n  }, {\n    key: \"isDeleted\",\n    value: function isDeleted() {\n      return this.name === DELETED_BRANCH_NAME;\n    }\n  }]);\n\n  return Branch;\n}();\n\nexports.Branch = Branch;\n\nfunction createDeletedBranch(gitgraph, style, onGraphUpdate) {\n  return new Branch({\n    name: DELETED_BRANCH_NAME,\n    gitgraph: gitgraph,\n    style: style,\n    onGraphUpdate: onGraphUpdate\n  });\n}\n\nexports.createDeletedBranch = createDeletedBranch;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/inherits\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar regular_1 = require(\"./regular\");\n\nvar CompactGraphRows =\n/*#__PURE__*/\nfunction (_regular_1$RegularGra) {\n  _inherits(CompactGraphRows, _regular_1$RegularGra);\n\n  function CompactGraphRows() {\n    _classCallCheck(this, CompactGraphRows);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CompactGraphRows).apply(this, arguments));\n  }\n\n  _createClass(CompactGraphRows, [{\n    key: \"computeRowsFromCommits\",\n    value: function computeRowsFromCommits(commits) {\n      var _this = this;\n\n      commits.forEach(function (commit, i) {\n        var newRow = i;\n        var isFirstCommit = i === 0;\n\n        if (!isFirstCommit) {\n          var parentRow = _this.getRowOf(commit.parents[0]);\n\n          var historyParent = commits[i - 1];\n          newRow = Math.max(parentRow + 1, _this.getRowOf(historyParent.hash));\n          var isMergeCommit = commit.parents.length > 1;\n\n          if (isMergeCommit) {\n            // Push commit to next row to avoid collision when the branch in which\n            // the merge happens has more commits than the merged branch.\n            var mergeTargetParentRow = _this.getRowOf(commit.parents[1]);\n\n            if (parentRow < mergeTargetParentRow) newRow++;\n          }\n        }\n\n        _this.rows.set(commit.hash, newRow);\n      });\n    }\n  }]);\n\n  return CompactGraphRows;\n}(regular_1.RegularGraphRows);\n\nexports.CompactGraphRows = CompactGraphRows;","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\n\nvar BranchLabel =\n/** @class */\nfunction (_super) {\n  __extends(BranchLabel, _super);\n\n  function BranchLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      textWidth: 0,\n      textHeight: 0\n    };\n    _this.$text = React.createRef();\n    return _this;\n  }\n\n  BranchLabel.prototype.componentDidMount = function () {\n    var box = this.$text.current.getBBox();\n    this.setState({\n      textWidth: box.width,\n      textHeight: box.height\n    });\n  };\n\n  BranchLabel.prototype.render = function () {\n    var _a = this.props,\n        branch = _a.branch,\n        commit = _a.commit;\n    var boxWidth = this.state.textWidth + 2 * BranchLabel.paddingX;\n    var boxHeight = this.state.textHeight + 2 * BranchLabel.paddingY;\n    return React.createElement(\"g\", null, React.createElement(\"rect\", {\n      stroke: branch.style.label.strokeColor || commit.style.color,\n      fill: branch.style.label.bgColor,\n      rx: branch.style.label.borderRadius,\n      width: boxWidth,\n      height: boxHeight\n    }), React.createElement(\"text\", {\n      ref: this.$text,\n      fill: branch.style.label.color || commit.style.color,\n      style: {\n        font: branch.style.label.font\n      },\n      alignmentBaseline: \"middle\",\n      dominantBaseline: \"middle\",\n      x: BranchLabel.paddingX,\n      y: boxHeight / 2\n    }, branch.name));\n  };\n\n  BranchLabel.paddingX = 10;\n  BranchLabel.paddingY = 5;\n  return BranchLabel;\n}(React.Component);\n\nexport { BranchLabel };","import \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n\n  function Tooltip() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      textWidth: 0\n    };\n    _this.$text = React.createRef();\n    return _this;\n  }\n\n  Tooltip.prototype.componentDidMount = function () {\n    this.setState({\n      textWidth: this.$text.current.getBBox().width\n    });\n  };\n\n  Tooltip.prototype.render = function () {\n    var commitSize = this.props.commit.style.dot.size * 2;\n    var offset = 10;\n    var padding = Tooltip.padding;\n    var radius = 5;\n    var boxHeight = 50;\n    var boxWidth = offset + this.state.textWidth + 2 * padding;\n    var path = [\"M 0,0\", \"L \" + offset + \",\" + offset, \"V \" + (boxHeight / 2 - radius), \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2, \"H \" + (boxWidth - radius), \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius), \"V -\" + (boxHeight / 2 - radius), \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2, \"H \" + (offset + radius), \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + (boxHeight / 2 - radius), \"V -\" + offset, \"z\"].join(\" \");\n    return React.createElement(\"g\", {\n      transform: \"translate(\" + commitSize + \", \" + commitSize / 2 + \")\"\n    }, React.createElement(\"path\", {\n      d: path,\n      fill: \"#EEE\"\n    }), React.createElement(\"text\", {\n      ref: this.$text,\n      x: offset + padding,\n      y: 0,\n      alignmentBaseline: \"central\",\n      fill: \"#333\"\n    }, this.props.children));\n  };\n\n  Tooltip.padding = 10;\n  return Tooltip;\n}(React.Component);\n\nexport { Tooltip };","import * as React from \"react\";\nexport var Dot = function Dot(_a) {\n  var commit = _a.commit,\n      onMouseOver = _a.onMouseOver,\n      onMouseOut = _a.onMouseOut;\n  return (\n    /*\n      In order to handle strokes, we need to do some complex stuff here… 😅\n         Problem: strokes are drawn inside & outside the circle.\n      But we want the stroke to be drawn inside only!\n         The outside overlaps with other elements, as we expect the dot to have a fixed size. So we want to crop the outside part.\n         Solution:\n      1. Create the circle in a <defs>\n      2. Define a clip path that references the circle\n      3. Use the clip path, adding the stroke.\n      4. Double stroke width as half of it will be clipped (the outside part).\n         Ref.: https://stackoverflow.com/a/32162431/3911841\n         P.S. there is a proposal for a stroke-alignment property,\n      but it's still a W3C Draft ¯\\_(ツ)_/¯\n      https://svgwg.org/specs/strokes/#SpecifyingStrokeAlignment\n    */\n    React.createElement(React.Fragment, null, React.createElement(\"defs\", null, React.createElement(\"circle\", {\n      id: commit.hash,\n      cx: commit.style.dot.size,\n      cy: commit.style.dot.size,\n      r: commit.style.dot.size,\n      fill: commit.style.dot.color\n    }), React.createElement(\"clipPath\", {\n      id: \"clip-\" + commit.hash\n    }, React.createElement(\"use\", {\n      xlinkHref: \"#\" + commit.hash\n    }))), React.createElement(\"g\", {\n      onClick: commit.onClick,\n      onMouseOver: onMouseOver,\n      onMouseOut: onMouseOut\n    }, React.createElement(\"use\", {\n      xlinkHref: \"#\" + commit.hash,\n      clipPath: \"url(#clip-\" + commit.hash + \")\",\n      stroke: commit.style.dot.strokeColor,\n      strokeWidth: commit.style.dot.strokeWidth && commit.style.dot.strokeWidth * 2\n    }), commit.dotText && React.createElement(\"text\", {\n      alignmentBaseline: \"central\",\n      textAnchor: \"middle\",\n      x: commit.style.dot.size,\n      y: commit.style.dot.size,\n      style: {\n        font: commit.style.dot.font\n      }\n    }, commit.dotText)))\n  );\n};","import \"core-js/modules/es6.function.name\";\nimport * as React from \"react\";\nimport { useState, useEffect, useRef } from \"react\";\nexport var TAG_PADDING_X = 10;\nexport var TAG_PADDING_Y = 5;\nexport function Tag(props) {\n  var _a = useState({\n    textWidth: 0,\n    textHeight: 0\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var $text = useRef(null);\n  useEffect(function () {\n    var box = $text.current.getBBox();\n    setState({\n      textWidth: box.width,\n      textHeight: box.height\n    });\n  }, []);\n  var tag = props.tag;\n  var offset = tag.style.pointerWidth;\n  var radius = tag.style.borderRadius;\n  var boxWidth = offset + state.textWidth + 2 * TAG_PADDING_X;\n  var boxHeight = state.textHeight + 2 * TAG_PADDING_Y;\n  var path = [\"M 0,0\", \"L \" + offset + \",\" + boxHeight / 2, \"V \" + boxHeight / 2, \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2, \"H \" + (boxWidth - radius), \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius), \"V -\" + (boxHeight / 2 - radius), \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2, \"H \" + (offset + radius), \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + boxHeight / 2, \"V -\" + boxHeight / 2, \"z\"].join(\" \");\n  return React.createElement(\"g\", null, React.createElement(\"path\", {\n    d: path,\n    fill: tag.style.bgColor,\n    stroke: tag.style.strokeColor\n  }), React.createElement(\"text\", {\n    ref: $text,\n    fill: tag.style.color,\n    style: {\n      font: tag.style.font\n    },\n    alignmentBaseline: \"middle\",\n    dominantBaseline: \"middle\",\n    x: offset + TAG_PADDING_X,\n    y: 0\n  }, tag.name));\n}","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\nimport { GitgraphCore, MergeStyle, Mode, Orientation, TemplateName, templateExtend, toSvgPath, arrowSvgPath } from \"@gitgraph/core\";\nimport { BranchLabel } from \"./BranchLabel\";\nimport { Tooltip } from \"./Tooltip\";\nimport { Dot } from \"./Dot\";\nimport { Tag, TAG_PADDING_X } from \"./Tag\";\nexport { Gitgraph, TemplateName, templateExtend, MergeStyle, Mode, Orientation };\n\nfunction isPropsWithGraph(props) {\n  return \"graph\" in props;\n}\n\nvar Gitgraph =\n/** @class */\nfunction (_super) {\n  __extends(Gitgraph, _super);\n\n  function Gitgraph(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.$graph = React.createRef();\n    _this.$commits = React.createRef();\n    _this.$tooltip = null;\n    _this.commitsElements = {};\n    _this.state = {\n      commits: [],\n      branchesPaths: new Map(),\n      commitMessagesX: 0,\n      commitYWithOffsets: {},\n      shouldRecomputeOffsets: true,\n      currentCommitOver: null\n    };\n    _this.gitgraph = isPropsWithGraph(props) ? props.graph : new GitgraphCore(props.options);\n\n    _this.gitgraph.subscribe(function (data) {\n      var commits = data.commits,\n          branchesPaths = data.branchesPaths,\n          commitMessagesX = data.commitMessagesX;\n\n      _this.setState({\n        commits: commits,\n        branchesPaths: branchesPaths,\n        commitMessagesX: commitMessagesX,\n        shouldRecomputeOffsets: true\n      });\n    });\n\n    return _this;\n  }\n\n  Gitgraph.prototype.render = function () {\n    return React.createElement(\"svg\", {\n      ref: this.$graph\n    }, React.createElement(\"g\", {\n      transform: \"translate(\" + BranchLabel.paddingX + \", \" + Tooltip.padding + \")\"\n    }, this.renderBranchesPaths(), this.renderCommits(), this.$tooltip));\n  };\n\n  Gitgraph.prototype.componentDidMount = function () {\n    if (isPropsWithGraph(this.props)) return;\n    this.props.children(this.gitgraph.getUserApi());\n  };\n\n  Gitgraph.prototype.componentDidUpdate = function () {\n    if (this.$graph.current) {\n      var _a = this.$graph.current.getBBox(),\n          height = _a.height,\n          width = _a.width;\n\n      this.$graph.current.setAttribute(\"width\", // Add `Tooltip.padding` so we don't crop the tooltip text.\n      // Add `BranchLabel.paddingX` so we don't cut branch label.\n      (width + Tooltip.padding + BranchLabel.paddingX).toString());\n      this.$graph.current.setAttribute(\"height\", // Add `Tooltip.padding` so we don't crop tooltip text\n      // Add `BranchLabel.paddingY` so we don't crop branch label.\n      (height + Tooltip.padding + BranchLabel.paddingY).toString());\n    }\n\n    if (!this.state.shouldRecomputeOffsets) return;\n    if (!this.$commits.current) return;\n    this.positionCommitsElements();\n    var commits = Array.from(this.$commits.current.children);\n    this.setState({\n      commitYWithOffsets: this.computeOffsets(commits),\n      shouldRecomputeOffsets: false\n    });\n  };\n\n  Gitgraph.prototype.renderBranchesPaths = function () {\n    var _this = this;\n\n    var offset = this.gitgraph.template.commit.dot.size;\n    var isBezier = this.gitgraph.template.branch.mergeStyle === MergeStyle.Bezier;\n    return Array.from(this.state.branchesPaths).map(function (_a) {\n      var branch = _a[0],\n          coordinates = _a[1];\n      return React.createElement(\"path\", {\n        key: branch.name,\n        d: toSvgPath(coordinates.map(function (a) {\n          return a.map(function (b) {\n            return _this.getWithCommitOffset(b);\n          });\n        }), isBezier, _this.gitgraph.isVertical),\n        fill: \"transparent\",\n        stroke: branch.computedColor,\n        strokeWidth: branch.style.lineWidth,\n        transform: \"translate(\" + offset + \", \" + offset + \")\"\n      });\n    });\n  };\n\n  Gitgraph.prototype.renderCommits = function () {\n    var _this = this;\n\n    return React.createElement(\"g\", {\n      ref: this.$commits\n    }, this.state.commits.map(function (commit) {\n      return _this.renderCommit(commit);\n    }));\n  };\n\n  Gitgraph.prototype.renderCommit = function (commit) {\n    var _a = this.getWithCommitOffset(commit),\n        x = _a.x,\n        y = _a.y;\n\n    var shouldRenderTooltip = this.state.currentCommitOver === commit && (this.gitgraph.isHorizontal || this.gitgraph.mode === Mode.Compact && commit.style.hasTooltipInCompactMode);\n\n    if (shouldRenderTooltip) {\n      this.$tooltip = React.createElement(\"g\", {\n        key: commit.hashAbbrev,\n        transform: \"translate(\" + x + \", \" + y + \")\"\n      }, this.renderTooltip(commit));\n    }\n\n    return React.createElement(\"g\", {\n      key: commit.hashAbbrev,\n      transform: \"translate(\" + x + \", \" + y + \")\"\n    }, this.renderDot(commit), this.gitgraph.template.arrow.size && this.renderArrows(commit), React.createElement(\"g\", {\n      transform: \"translate(\" + -x + \", 0)\"\n    }, commit.style.message.display && this.renderMessage(commit), this.renderBranchLabels(commit), this.renderTags(commit)));\n  };\n\n  Gitgraph.prototype.renderTooltip = function (commit) {\n    if (commit.renderTooltip) {\n      return commit.renderTooltip(commit);\n    }\n\n    return React.createElement(Tooltip, {\n      commit: commit\n    }, commit.hashAbbrev, \" - \", commit.subject);\n  };\n\n  Gitgraph.prototype.renderDot = function (commit) {\n    var _this = this;\n\n    if (commit.renderDot) {\n      return commit.renderDot(commit);\n    }\n\n    return React.createElement(Dot, {\n      commit: commit,\n      onMouseOver: function onMouseOver() {\n        _this.setState({\n          currentCommitOver: commit\n        });\n\n        commit.onMouseOver();\n      },\n      onMouseOut: function onMouseOut() {\n        _this.setState({\n          currentCommitOver: null\n        });\n\n        _this.$tooltip = null;\n        commit.onMouseOut();\n      }\n    });\n  };\n\n  Gitgraph.prototype.renderArrows = function (commit) {\n    var _this = this;\n\n    var commitRadius = commit.style.dot.size;\n    return commit.parents.map(function (parentHash) {\n      var parent = _this.state.commits.find(function (_a) {\n        var hash = _a.hash;\n        return hash === parentHash;\n      });\n\n      if (!parent) return null; // Starting point, relative to commit\n\n      var origin = _this.gitgraph.reverseArrow ? {\n        x: commitRadius + (parent.x - commit.x),\n        y: commitRadius + (parent.y - commit.y)\n      } : {\n        x: commitRadius,\n        y: commitRadius\n      };\n      return React.createElement(\"g\", {\n        transform: \"translate(\" + origin.x + \", \" + origin.y + \")\"\n      }, React.createElement(\"path\", {\n        d: arrowSvgPath(_this.gitgraph, parent, commit),\n        fill: _this.gitgraph.template.arrow.color\n      }));\n    });\n  };\n\n  Gitgraph.prototype.renderMessage = function (commit) {\n    var ref = this.createMessageRef(commit);\n\n    if (commit.renderMessage) {\n      return React.createElement(\"g\", {\n        ref: ref\n      }, commit.renderMessage(commit));\n    }\n\n    var body = null;\n\n    if (commit.body) {\n      body = React.createElement(\"foreignObject\", {\n        width: \"600\",\n        x: \"10\"\n      }, React.createElement(\"p\", null, commit.body));\n    } // Use commit dot radius to align text with the middle of the dot.\n\n\n    var y = commit.style.dot.size;\n    return React.createElement(\"g\", {\n      ref: ref,\n      transform: \"translate(0, \" + y + \")\"\n    }, React.createElement(\"text\", {\n      alignmentBaseline: \"central\",\n      fill: commit.style.message.color,\n      style: {\n        font: commit.style.message.font\n      },\n      onClick: commit.onMessageClick\n    }, commit.message), body);\n  };\n\n  Gitgraph.prototype.renderBranchLabels = function (commit) {\n    var _this = this; // @gitgraph/core could compute branch labels into commits directly.\n    // That will make it easier to retrieve them, just like tags.\n\n\n    var branches = Array.from(this.gitgraph.branches.values());\n    return branches.map(function (branch) {\n      if (!branch.style.label.display) return null;\n\n      if (!_this.gitgraph.branchLabelOnEveryCommit) {\n        var commitHash = _this.gitgraph.refs.getCommit(branch.name);\n\n        if (commit.hash !== commitHash) return null;\n      } // For the moment, we don't handle multiple branch labels.\n      // To do so, we'd need to reposition each of them appropriately.\n\n\n      if (commit.branchToDisplay !== branch.name) return null;\n\n      var ref = _this.createBranchLabelRef(commit);\n\n      var branchLabel = branch.renderLabel ? branch.renderLabel(branch) : React.createElement(BranchLabel, {\n        branch: branch,\n        commit: commit\n      });\n\n      if (_this.gitgraph.isVertical) {\n        return React.createElement(\"g\", {\n          key: branch.name,\n          ref: ref\n        }, branchLabel);\n      } else {\n        var commitDotSize = commit.style.dot.size * 2;\n        var horizontalMarginTop = 10;\n        var y = commitDotSize + horizontalMarginTop;\n        return React.createElement(\"g\", {\n          key: branch.name,\n          ref: ref,\n          transform: \"translate(\" + commit.x + \", \" + y + \")\"\n        }, branchLabel);\n      }\n    });\n  };\n\n  Gitgraph.prototype.renderTags = function (commit) {\n    var _this = this;\n\n    if (!commit.tags) return null;\n    if (this.gitgraph.isHorizontal) return null;\n    return commit.tags.map(function (tag) {\n      var ref = _this.createTagRef(commit);\n\n      return React.createElement(\"g\", {\n        key: commit.hashAbbrev + \"-\" + tag.name,\n        ref: ref,\n        transform: \"translate(0, \" + commit.style.dot.size + \")\"\n      }, tag.render ? tag.render(tag.name, tag.style) : React.createElement(Tag, {\n        tag: tag\n      }));\n    });\n  };\n\n  Gitgraph.prototype.createBranchLabelRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].branchLabel = ref;\n    return ref;\n  };\n\n  Gitgraph.prototype.createMessageRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].message = ref;\n    return ref;\n  };\n\n  Gitgraph.prototype.createTagRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].tags.push(ref);\n    return ref;\n  };\n\n  Gitgraph.prototype.initCommitElements = function (commit) {\n    this.commitsElements[commit.hashAbbrev] = {\n      branchLabel: null,\n      tags: [],\n      message: null\n    };\n  };\n\n  Gitgraph.prototype.positionCommitsElements = function () {\n    var _this = this;\n\n    if (this.gitgraph.isHorizontal) {\n      // Elements don't appear on horizontal mode, yet.\n      return;\n    }\n\n    var padding = 10; // Ensure commits elements (branch labels, message…) are well positionned.\n    // It can't be done at render time since elements size is dynamic.\n\n    Object.keys(this.commitsElements).forEach(function (commitHash) {\n      var _a = _this.commitsElements[commitHash],\n          branchLabel = _a.branchLabel,\n          tags = _a.tags,\n          message = _a.message; // We'll store X position progressively and translate elements.\n\n      var x = _this.state.commitMessagesX;\n\n      if (branchLabel && branchLabel.current) {\n        moveElement(branchLabel.current, x); // For some reason, one paddingX is missing in BBox width.\n\n        var branchLabelWidth = branchLabel.current.getBBox().width + BranchLabel.paddingX;\n        x += branchLabelWidth + padding;\n      }\n\n      tags.forEach(function (tag) {\n        if (!tag || !tag.current) return;\n        moveElement(tag.current, x); // For some reason, one paddingX is missing in BBox width.\n\n        var tagWidth = tag.current.getBBox().width + TAG_PADDING_X;\n        x += tagWidth + padding;\n      });\n\n      if (message && message.current) {\n        moveElement(message.current, x);\n      }\n    });\n  };\n\n  Gitgraph.prototype.computeOffsets = function (commits) {\n    var totalOffsetY = 0; // In VerticalReverse orientation, commits are in the same order in the DOM.\n\n    var orientedCommits = this.gitgraph.orientation === Orientation.VerticalReverse ? commits : commits.reverse();\n    return orientedCommits.reduce(function (newOffsets, commit) {\n      var commitY = parseInt(commit.getAttribute(\"transform\").split(\",\")[1].slice(0, -1), 10);\n      var firstForeignObject = commit.getElementsByTagName(\"foreignObject\")[0];\n      var customHtmlMessage = firstForeignObject && firstForeignObject.firstElementChild;\n      var messageHeight = 0;\n\n      if (customHtmlMessage) {\n        var height = customHtmlMessage.getBoundingClientRect().height;\n        var marginTopInPx = window.getComputedStyle(customHtmlMessage).marginTop || \"0px\";\n        var marginTop = parseInt(marginTopInPx.replace(\"px\", \"\"), 10);\n        messageHeight = height + marginTop;\n      } // Force the height of the foreignObject (browser issue)\n\n\n      if (firstForeignObject) {\n        firstForeignObject.setAttribute(\"height\", messageHeight + \"px\");\n      }\n\n      newOffsets[commitY] = commitY + totalOffsetY; // Increment total offset after setting the offset\n      // => offset next commits accordingly.\n\n      totalOffsetY += messageHeight;\n      return newOffsets;\n    }, {});\n  };\n\n  Gitgraph.prototype.getWithCommitOffset = function (_a) {\n    var x = _a.x,\n        y = _a.y;\n    return {\n      x: x,\n      y: this.state.commitYWithOffsets[y] || y\n    };\n  };\n\n  Gitgraph.defaultProps = {\n    options: {}\n  };\n  return Gitgraph;\n}(React.Component);\n\nfunction moveElement(target, x) {\n  var transform = target.getAttribute(\"transform\") || \"translate(0, 0)\";\n  target.setAttribute(\"transform\", transform.replace(/translate\\(([\\d\\.]+),/, \"translate(\" + x + \",\"));\n}","import { Gitgraph } from \"@gitgraph/react\"\r\nimport React from 'react'\r\n\r\nconst Clean = () => (\r\n    <Gitgraph>{(gitgraph) => {\r\n        const master = gitgraph.branch('master')\r\n        master.commit('Initial Commit')\r\n        master.commit('Feature Release')\r\n\r\n        const feature1 = master.branch('feature1')\r\n        feature1.commit('feature1')\r\n\r\n        const feature = master.branch('feature_branch')\r\n        feature.commit('FiX Formatted with Black')\r\n        feature.commit('FEAT implemented feature into the project')\r\n        master.merge(feature)\r\n\r\n\r\n    }}</Gitgraph>\r\n)\r\n\r\nexport default Clean\r\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.set\");\n\nvar _slicedToArray = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nvar _classCallCheck = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/mnt/c/personal/ww/waylonwalkerv2/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/createClass\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar branch_1 = require(\"./branch\");\n\nvar graph_rows_1 = require(\"./graph-rows\");\n\nvar mode_1 = require(\"./mode\");\n\nvar branches_order_1 = require(\"./branches-order\");\n\nvar template_1 = require(\"./template\");\n\nvar refs_1 = require(\"./refs\");\n\nvar branches_paths_1 = require(\"./branches-paths\");\n\nvar utils_1 = require(\"./utils\");\n\nvar orientation_1 = require(\"./orientation\");\n\nvar gitgraph_user_api_1 = require(\"./user-api/gitgraph-user-api\");\n\nvar GitgraphCore =\n/*#__PURE__*/\nfunction () {\n  function GitgraphCore() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, GitgraphCore);\n\n    this.refs = new refs_1.Refs();\n    this.tags = new refs_1.Refs();\n    this.tagStyles = {};\n    this.tagRenders = {};\n    this.commits = [];\n    this.branches = new Map();\n    this.listeners = [];\n    this.nextTimeoutId = null;\n    this.template = template_1.getTemplate(options.template); // Set a default `master` branch\n\n    this.currentBranch = this.createBranch(\"master\"); // Set all options with default values\n\n    this.orientation = options.orientation;\n    this.reverseArrow = utils_1.booleanOptionOr(options.reverseArrow, false);\n    this.initCommitOffsetX = utils_1.numberOptionOr(options.initCommitOffsetX, 0);\n    this.initCommitOffsetY = utils_1.numberOptionOr(options.initCommitOffsetY, 0);\n    this.mode = options.mode;\n    this.author = options.author || \"Sergio Flores <saxo-guy@epic.com>\";\n    this.commitMessage = options.commitMessage || \"He doesn't like George Michael! Boooo!\";\n    this.generateCommitHash = typeof options.generateCommitHash === \"function\" ? options.generateCommitHash : function () {\n      return undefined;\n    };\n    this.branchesOrderFunction = typeof options.compareBranchesOrder === \"function\" ? options.compareBranchesOrder : undefined;\n    this.branchLabelOnEveryCommit = utils_1.booleanOptionOr(options.branchLabelOnEveryCommit, false);\n  }\n\n  _createClass(GitgraphCore, [{\n    key: \"getUserApi\",\n\n    /**\n     * Return the API to manipulate Gitgraph as a user.\n     * Rendering library should give that API to their consumer.\n     */\n    value: function getUserApi() {\n      var _this = this;\n\n      return new gitgraph_user_api_1.GitgraphUserApi(this, function () {\n        return _this.next();\n      });\n    }\n    /**\n     * Add a change listener.\n     * It will be called any time the graph have changed (commit, merge…).\n     *\n     * @param listener A callback to be invoked on every change.\n     * @returns A function to remove this change listener.\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this2 = this;\n\n      this.listeners.push(listener);\n      var isSubscribed = true;\n      return function () {\n        if (!isSubscribed) return;\n        isSubscribed = false;\n\n        var index = _this2.listeners.indexOf(listener);\n\n        _this2.listeners.splice(index, 1);\n      };\n    }\n    /**\n     * Return all data required for rendering.\n     * Rendering libraries will use this to implement their rendering strategy.\n     */\n\n  }, {\n    key: \"getRenderedData\",\n    value: function getRenderedData() {\n      var commits = this.computeRenderedCommits();\n      var branchesPaths = this.computeRenderedBranchesPaths(commits);\n      var commitMessagesX = this.computeCommitMessagesX(branchesPaths);\n      this.computeBranchesColor(commits, branchesPaths);\n      return {\n        commits: commits,\n        branchesPaths: branchesPaths,\n        commitMessagesX: commitMessagesX\n      };\n    }\n  }, {\n    key: \"createBranch\",\n    value: function createBranch(args) {\n      var _this3 = this;\n\n      var defaultParentBranchName = \"HEAD\";\n      var options = {\n        gitgraph: this,\n        name: \"\",\n        parentCommitHash: this.refs.getCommit(defaultParentBranchName),\n        style: this.template.branch,\n        onGraphUpdate: function onGraphUpdate() {\n          return _this3.next();\n        }\n      };\n\n      if (typeof args === \"string\") {\n        options.name = args;\n        options.parentCommitHash = this.refs.getCommit(defaultParentBranchName);\n      } else {\n        var parentBranchName = args.from ? args.from.name : defaultParentBranchName;\n        var parentCommitHash = this.refs.getCommit(parentBranchName) || (this.refs.hasCommit(args.from) ? args.from : undefined);\n        args.style = args.style || {};\n        options = Object.assign({}, options, args, {\n          parentCommitHash: parentCommitHash,\n          style: Object.assign({}, options.style, args.style, {\n            label: Object.assign({}, options.style.label, args.style.label)\n          })\n        });\n      }\n\n      var branch = new branch_1.Branch(options);\n      this.branches.set(branch.name, branch);\n      return branch;\n    }\n    /**\n     * Return commits with data for rendering.\n     */\n\n  }, {\n    key: \"computeRenderedCommits\",\n    value: function computeRenderedCommits() {\n      var _this4 = this;\n\n      var branches = this.getBranches();\n      var commitsWithBranches = this.commits.map(function (commit) {\n        return _this4.withBranches(branches, commit);\n      });\n      var rows = graph_rows_1.createGraphRows(this.mode, this.commits);\n      var branchesOrder = new branches_order_1.BranchesOrder(commitsWithBranches, this.template.colors, this.branchesOrderFunction);\n      return commitsWithBranches.map(function (commit) {\n        return commit.setRefs(_this4.refs);\n      }).map(function (commit) {\n        return _this4.withPosition(rows, branchesOrder, commit);\n      }) // Fallback commit computed color on branch color.\n      .map(function (commit) {\n        return commit.withDefaultColor(_this4.getBranchDefaultColor(branchesOrder, commit.branchToDisplay));\n      }) // Tags need commit style to be computed (with default color).\n      .map(function (commit) {\n        return commit.setTags(_this4.tags, function (name) {\n          return Object.assign({}, _this4.tagStyles[name], _this4.template.tag);\n        }, function (name) {\n          return _this4.tagRenders[name];\n        });\n      });\n    }\n    /**\n     * Return branches paths with all data required for rendering.\n     *\n     * @param commits List of commits with rendering data computed\n     */\n\n  }, {\n    key: \"computeRenderedBranchesPaths\",\n    value: function computeRenderedBranchesPaths(commits) {\n      var _this5 = this;\n\n      return new branches_paths_1.BranchesPathsCalculator(commits, this.branches, this.template.commit.spacing, this.isVertical, this.isReverse, function () {\n        return branch_1.createDeletedBranch(_this5, _this5.template.branch, function () {\n          return _this5.next();\n        });\n      }).execute();\n    }\n    /**\n     * Set branches colors based on branches paths.\n     *\n     * @param commits List of graph commits\n     * @param branchesPaths Branches paths to be rendered\n     */\n\n  }, {\n    key: \"computeBranchesColor\",\n    value: function computeBranchesColor(commits, branchesPaths) {\n      var _this6 = this;\n\n      var branchesOrder = new branches_order_1.BranchesOrder(commits, this.template.colors, this.branchesOrderFunction);\n      Array.from(branchesPaths).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n            branch = _ref2[0];\n\n        branch.computedColor = branch.style.color || _this6.getBranchDefaultColor(branchesOrder, branch.name);\n      });\n    }\n    /**\n     * Return commit messages X position for rendering.\n     *\n     * @param branchesPaths Branches paths to be rendered\n     */\n\n  }, {\n    key: \"computeCommitMessagesX\",\n    value: function computeCommitMessagesX(branchesPaths) {\n      var numberOfColumns = Array.from(branchesPaths).length;\n      return numberOfColumns * this.template.branch.spacing;\n    }\n    /**\n     * Add `branches` property to commit.\n     *\n     * @param branches All branches mapped by commit hash\n     * @param commit Commit\n     */\n\n  }, {\n    key: \"withBranches\",\n    value: function withBranches(branches, commit) {\n      var commitBranches = Array.from((branches.get(commit.hash) || new Set()).values());\n\n      if (commitBranches.length === 0) {\n        // No branch => branch has been deleted.\n        commitBranches = [branch_1.DELETED_BRANCH_NAME];\n      }\n\n      return commit.setBranches(commitBranches);\n    }\n    /**\n     * Get all branches from current commits.\n     */\n\n  }, {\n    key: \"getBranches\",\n    value: function getBranches() {\n      var _this7 = this;\n\n      var result = new Map();\n      var queue = [];\n      var branches = this.refs.getAllNames().filter(function (name) {\n        return name !== \"HEAD\";\n      });\n      branches.forEach(function (branch) {\n        var commitHash = _this7.refs.getCommit(branch);\n\n        if (commitHash) {\n          queue.push(commitHash);\n        }\n\n        var _loop = function _loop() {\n          var currentHash = queue.pop();\n\n          var current = _this7.commits.find(function (_ref3) {\n            var hash = _ref3.hash;\n            return hash === currentHash;\n          });\n\n          var prevBranches = result.get(currentHash) || new Set();\n          prevBranches.add(branch);\n          result.set(currentHash, prevBranches);\n\n          if (current.parents.length > 0) {\n            queue.push(current.parents[0]);\n          }\n        };\n\n        while (queue.length > 0) {\n          _loop();\n        }\n      });\n      return result;\n    }\n    /**\n     * Add position to given commit.\n     *\n     * @param rows Graph rows\n     * @param branchesOrder Computed order of branches\n     * @param commit Commit to position\n     */\n\n  }, {\n    key: \"withPosition\",\n    value: function withPosition(rows, branchesOrder, commit) {\n      var row = rows.getRowOf(commit.hash);\n      var maxRow = rows.getMaxRow();\n      var order = branchesOrder.get(commit.branchToDisplay);\n\n      switch (this.orientation) {\n        default:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.branch.spacing * order,\n            y: this.initCommitOffsetY + this.template.commit.spacing * (maxRow - row)\n          });\n\n        case orientation_1.Orientation.VerticalReverse:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.branch.spacing * order,\n            y: this.initCommitOffsetY + this.template.commit.spacing * row\n          });\n\n        case orientation_1.Orientation.Horizontal:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.commit.spacing * row,\n            y: this.initCommitOffsetY + this.template.branch.spacing * order\n          });\n\n        case orientation_1.Orientation.HorizontalReverse:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.commit.spacing * (maxRow - row),\n            y: this.initCommitOffsetY + this.template.branch.spacing * order\n          });\n      }\n    }\n    /**\n     * Return the default color for given branch.\n     *\n     * @param branchesOrder Computed order of branches\n     * @param branchName Name of the branch\n     */\n\n  }, {\n    key: \"getBranchDefaultColor\",\n    value: function getBranchDefaultColor(branchesOrder, branchName) {\n      return branchesOrder.getColorOf(branchName);\n    }\n    /**\n     * Tell each listener something new happened.\n     * E.g. a rendering library will know it needs to re-render the graph.\n     */\n\n  }, {\n    key: \"next\",\n    value: function next() {\n      var _this8 = this;\n\n      if (this.nextTimeoutId) {\n        window.clearTimeout(this.nextTimeoutId);\n      } // Use setTimeout() with `0` to debounce call to next tick.\n\n\n      this.nextTimeoutId = window.setTimeout(function () {\n        _this8.listeners.forEach(function (listener) {\n          return listener(_this8.getRenderedData());\n        });\n      }, 0);\n    }\n  }, {\n    key: \"isHorizontal\",\n    get: function get() {\n      return this.orientation === orientation_1.Orientation.Horizontal || this.orientation === orientation_1.Orientation.HorizontalReverse;\n    }\n  }, {\n    key: \"isVertical\",\n    get: function get() {\n      return !this.isHorizontal;\n    }\n  }, {\n    key: \"isReverse\",\n    get: function get() {\n      return this.orientation === orientation_1.Orientation.HorizontalReverse || this.orientation === orientation_1.Orientation.VerticalReverse;\n    }\n  }, {\n    key: \"shouldDisplayCommitMessage\",\n    get: function get() {\n      return !this.isHorizontal && this.mode !== mode_1.Mode.Compact;\n    }\n  }]);\n\n  return GitgraphCore;\n}();\n\nexports.GitgraphCore = GitgraphCore;","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;"],"sourceRoot":""}