{"version":3,"sources":["webpack:///./node_modules/@gitgraph/core/lib/index.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@gitgraph/core/lib/user-api/gitgraph-user-api.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@gitgraph/core/lib/refs.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@gitgraph/react/lib/BranchLabel.js","webpack:///./node_modules/@gitgraph/react/lib/Tooltip.js","webpack:///./node_modules/@gitgraph/react/lib/Dot.js","webpack:///./node_modules/@gitgraph/react/lib/Tag.js","webpack:///./node_modules/@gitgraph/react/lib/Gitgraph.js","webpack:///./src/pages/realistic-git-workflow/clean.js","webpack:///./node_modules/@gitgraph/core/lib/branches-paths.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/index.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@gitgraph/core/lib/orientation.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@gitgraph/core/lib/tag.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@gitgraph/core/lib/branches-order.js","webpack:///./node_modules/@gitgraph/core/lib/template.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/regular.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@gitgraph/core/lib/commit.js","webpack:///./node_modules/@gitgraph/core/lib/mode.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@gitgraph/core/lib/user-api/branch-user-api.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@gitgraph/core/lib/utils.js","webpack:///./node_modules/@gitgraph/core/lib/branch.js","webpack:///./node_modules/@gitgraph/core/lib/graph-rows/compact.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@gitgraph/core/lib/gitgraph.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js"],"names":["Object","defineProperty","exports","value","gitgraph_1","GitgraphCore","mode_1","Mode","gitgraph_user_api_1","GitgraphUserApi","branch_user_api_1","BranchUserApi","branch_1","Branch","commit_1","Commit","tag_1","Tag","refs_1","Refs","template_1","MergeStyle","TemplateName","templateExtend","orientation_1","Orientation","branches_paths_1","toSvgPath","utils_1","arrowSvgPath","setPrototypeOf","module","subClass","superClass","TypeError","prototype","create","constructor","writable","configurable","_slicedToArray","_classCallCheck","_createClass","graph","onGraphUpdate","this","_graph","_onGraphUpdate","key","refs","tags","commits","branches","Map","currentBranch","createBranch","options","getUserApi","commit","args","name","ref","style","render","commitHash","_len","arguments","length","Array","_key","head","getCommit","hasCommit","hasName","Error","concat","set","tagStyles","tagRenders","data","_this","invalidData","isArray","every","author","commitOptionsList","map","assign","template","message","display","shouldDisplayCommitMessage","email","reverse","clear","forEach","_ref","hash","split","_ref2","_ref3","filter","tag","startsWith","_getBranches","_withBranches","reduce","mem","branch","add","Set","commitBranches","from","get","values","DELETED_BRANCH_NAME","setBranches","_this2","result","queue","getAllNames","push","_loop","currentHash","pop","current","find","_ref4","prevBranches","parents","_toConsumableArray","commitPerName","namesPerCommit","prevCommitHash","removeNameFrom","addNameTo","addCommitTo","keys","has","nameToRemove","names","nameToAdd","prevNames","commitHashToAdd","iter","Symbol","iterator","toString","call","_extendStatics","__extends","d","b","__proto__","p","hasOwnProperty","__","_super","BranchLabel","apply","state","textWidth","textHeight","$text","componentDidMount","box","getBBox","setState","width","height","_a","props","boxWidth","paddingX","boxHeight","paddingY","stroke","label","strokeColor","color","fill","bgColor","rx","borderRadius","font","alignmentBaseline","dominantBaseline","x","y","Tooltip","commitSize","dot","size","padding","path","join","transform","children","onMouseOver","onMouseOut","id","cx","cy","r","xlinkHref","onClick","clipPath","strokeWidth","dotText","textAnchor","offset","pointerWidth","radius","isPropsWithGraph","Gitgraph","$graph","$commits","$tooltip","commitsElements","branchesPaths","commitMessagesX","commitYWithOffsets","shouldRecomputeOffsets","currentCommitOver","gitgraph","subscribe","renderBranchesPaths","renderCommits","componentDidUpdate","setAttribute","positionCommitsElements","computeOffsets","isBezier","mergeStyle","Bezier","coordinates","a","getWithCommitOffset","isVertical","computedColor","lineWidth","renderCommit","isHorizontal","mode","Compact","hasTooltipInCompactMode","hashAbbrev","renderTooltip","renderDot","arrow","renderArrows","renderMessage","renderBranchLabels","renderTags","subject","commitRadius","parentHash","parent","origin","reverseArrow","createMessageRef","body","onMessageClick","branchLabelOnEveryCommit","branchToDisplay","createBranchLabelRef","branchLabel","renderLabel","createTagRef","initCommitElements","moveElement","branchLabelWidth","tagWidth","totalOffsetY","orientation","VerticalReverse","newOffsets","commitY","parseInt","getAttribute","slice","firstForeignObject","getElementsByTagName","customHtmlMessage","firstElementChild","messageHeight","getBoundingClientRect","marginTopInPx","window","getComputedStyle","marginTop","replace","defaultProps","target","Clean","main","feature","merge","BranchesPathsCalculator","commitSpacing","isGraphVertical","isGraphReverse","createDeletedBranch","fromCommits","withMergeCommits","smoothBranchesPaths","getDeletedBranchInPath","existingBranchPath","firstParentCommit","mergeCommit","parentOnOriginBranch","originBranchName","lastPoints","isDeleted","_this3","points","sort","paths","point","i","pick","j","previousPoint","subPath","firstPoint","lastPoint","column","branchSize","Math","round","abs","branchPoints","_","lastSubPaths","previous","middleY","middleX","compact_1","regular_1","GraphRows","RegularGraphRows","createGraphRows","CompactGraphRows","arr","arr2","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_getPrototypeOf","o","getPrototypeOf","self","ReferenceError","commitStyle","tagStyle","DEFAULT_FONT","numberOptionOr","arrayWithoutHoles","iterableToArray","nonIterableSpread","BranchesOrder","colors","compareFunction","branchName","findIndex","_defineProperty","Template","spacing","booleanOptionOr","displayAuthor","displayHash","blackArrowTemplate","Straight","metroTemplate","getTemplate","_TemplateName$BlackAr","BlackArrow","Metro","selectedTemplate","_setPrototypeOf","rows","maxRowCache","undefined","computeRowsFromCommits","array","_defineProperties","descriptor","enumerable","Constructor","protoProps","staticProps","_options$author$match","match","_options$author$match2","e","timestamp","Date","now","committer","random","substring","parentsAbbrev","getNames","getTagStyle","getTagRender","newStyle","cloneCommit","_typeof","assertThisInitialized","__rest","s","t","indexOf","getOwnPropertySymbols","_branch","_commitWithParents","isBranchMergeOptions","fastForward","commitOptions","_options","branchLastCommitHash","canFastForward","lastCommitHash","_areCommitsConnected","_fastForwardTo","headCommit","parentOnSameBranch","unshift","parentCommitHash","generateCommitHash","commitDefaultOptions","commitMessage","_getCommitStyle","checkout","childCommitHash","childCommit","includes","some","directParentHash","withoutUndefinedKeys","_typeof2","obj","isUndefined","defaultValue","debug","console","log","JSON","stringify","h","delta","PI","alpha","alphaY","alphaX","deltaX","deltaY","Horizontal","HorizontalReverse","atan2","getAlpha","x1","cos","y1","sin","x2","y2","x3","y3","x4","y4","_inherits","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","_regular_1$RegularGra","newRow","parentRow","getRowOf","historyParent","max","instance","_arr","_n","_d","_e","_s","_i","next","done","err","graph_rows_1","branches_order_1","listeners","nextTimeoutId","initCommitOffsetX","initCommitOffsetY","branchesOrderFunction","compareBranchesOrder","listener","isSubscribed","index","splice","computeRenderedCommits","computeRenderedBranchesPaths","computeCommitMessagesX","computeBranchesColor","parentBranchName","_this4","getBranches","commitsWithBranches","withBranches","branchesOrder","setRefs","withPosition","withDefaultColor","getBranchDefaultColor","setTags","_this5","isReverse","execute","_this6","_this7","row","maxRow","getMaxRow","order","setPosition","getColorOf","_this8","clearTimeout","setTimeout","getRenderedData"],"mappings":"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","file":"component---src-pages-realistic-git-workflow-clean-js-c44a2bf5a2e506287f6b.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar gitgraph_1 = require(\"./gitgraph\");\n\nexports.GitgraphCore = gitgraph_1.GitgraphCore;\n\nvar mode_1 = require(\"./mode\");\n\nexports.Mode = mode_1.Mode;\n\nvar gitgraph_user_api_1 = require(\"./user-api/gitgraph-user-api\");\n\nexports.GitgraphUserApi = gitgraph_user_api_1.GitgraphUserApi;\n\nvar branch_user_api_1 = require(\"./user-api/branch-user-api\");\n\nexports.BranchUserApi = branch_user_api_1.BranchUserApi;\n\nvar branch_1 = require(\"./branch\");\n\nexports.Branch = branch_1.Branch;\n\nvar commit_1 = require(\"./commit\");\n\nexports.Commit = commit_1.Commit;\n\nvar tag_1 = require(\"./tag\");\n\nexports.Tag = tag_1.Tag;\n\nvar refs_1 = require(\"./refs\");\n\nexports.Refs = refs_1.Refs;\n\nvar template_1 = require(\"./template\");\n\nexports.MergeStyle = template_1.MergeStyle;\nexports.TemplateName = template_1.TemplateName;\nexports.templateExtend = template_1.templateExtend;\n\nvar orientation_1 = require(\"./orientation\");\n\nexports.Orientation = orientation_1.Orientation;\n\nvar branches_paths_1 = require(\"./branches-paths\");\n\nexports.toSvgPath = branches_paths_1.toSvgPath;\n\nvar utils_1 = require(\"./utils\");\n\nexports.arrowSvgPath = utils_1.arrowSvgPath;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar _slicedToArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar commit_1 = require(\"../commit\");\n\nvar branch_1 = require(\"../branch\");\n\nvar refs_1 = require(\"../refs\");\n\nvar GitgraphUserApi = /*#__PURE__*/function () {\n  // tslint:enable:variable-name\n  function GitgraphUserApi(graph, onGraphUpdate) {\n    _classCallCheck(this, GitgraphUserApi);\n\n    this._graph = graph;\n    this._onGraphUpdate = onGraphUpdate;\n  }\n  /**\n   * Clear everything (as `rm -rf .git && git init`).\n   */\n\n\n  _createClass(GitgraphUserApi, [{\n    key: \"clear\",\n    value: function clear() {\n      this._graph.refs = new refs_1.Refs();\n      this._graph.tags = new refs_1.Refs();\n      this._graph.commits = [];\n      this._graph.branches = new Map();\n      this._graph.currentBranch = this._graph.createBranch(\"master\");\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"commit\",\n    value: function commit(options) {\n      this._graph.currentBranch.getUserApi().commit(options);\n\n      return this;\n    }\n  }, {\n    key: \"branch\",\n    value: function branch(args) {\n      return this._graph.createBranch(args).getUserApi();\n    }\n  }, {\n    key: \"tag\",\n    value: function tag() {\n      // Deal with shorter syntax\n      var name;\n      var ref;\n      var style;\n      var render;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (typeof args[0] === \"string\") {\n        name = args[0];\n        ref = args[1];\n      } else {\n        name = args[0].name;\n        ref = args[0].ref;\n        style = args[0].style;\n        render = args[0].render;\n      }\n\n      if (!ref) {\n        var head = this._graph.refs.getCommit(\"HEAD\");\n\n        if (!head) return this;\n        ref = head;\n      }\n\n      var commitHash;\n\n      if (this._graph.refs.hasCommit(ref)) {\n        // `ref` is a `Commit[\"hash\"]`\n        commitHash = ref;\n      }\n\n      if (this._graph.refs.hasName(ref)) {\n        // `ref` is a `Branch[\"name\"]`\n        commitHash = this._graph.refs.getCommit(ref);\n      }\n\n      if (!commitHash) {\n        throw new Error(\"The ref \\\"\".concat(ref, \"\\\" does not exist\"));\n      }\n\n      this._graph.tags.set(name, commitHash);\n\n      this._graph.tagStyles[name] = style;\n      this._graph.tagRenders[name] = render;\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n    /**\n     * Import a JSON.\n     *\n     * Data can't be typed since it comes from a JSON.\n     * We validate input format and throw early if something is invalid.\n     *\n     * @experimental\n     * @param data JSON from `git2json` output\n     */\n\n  }, {\n    key: \"import\",\n    value: function _import(data) {\n      var _this = this;\n\n      var invalidData = new Error(\"Only `git2json` format is supported for imported data.\"); // We manually validate input data instead of using a lib like yup.\n      // => this is to keep bundlesize small.\n\n      if (!Array.isArray(data)) {\n        throw invalidData;\n      }\n\n      var areDataValid = data.every(function (options) {\n        return typeof options === \"object\" && typeof options.author === \"object\" && Array.isArray(options.refs);\n      });\n\n      if (!areDataValid) {\n        throw invalidData;\n      }\n\n      var commitOptionsList = data.map(function (options) {\n        return Object.assign({}, options, {\n          style: Object.assign({}, _this._graph.template.commit, {\n            message: Object.assign({}, _this._graph.template.commit.message, {\n              display: _this._graph.shouldDisplayCommitMessage\n            })\n          }),\n          author: \"\".concat(options.author.name, \" <\").concat(options.author.email, \">\")\n        });\n      }) // Git2json outputs is reverse-chronological.\n      // We need to commit it chronological order.\n      .reverse(); // Use validated `value`.\n\n      this.clear();\n      this._graph.commits = commitOptionsList.map(function (options) {\n        return new commit_1.Commit(options);\n      }); // Create tags & refs.\n\n      commitOptionsList.forEach(function (_ref) {\n        var refs = _ref.refs,\n            hash = _ref.hash;\n        if (!refs) return;\n        if (!hash) return;\n        var TAG_PREFIX = \"tag: \";\n        var tags = refs.map(function (ref) {\n          return ref.split(TAG_PREFIX);\n        }).map(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              _ = _ref3[0],\n              tag = _ref3[1];\n\n          return tag;\n        }).filter(function (tag) {\n          return typeof tag === \"string\";\n        });\n        tags.forEach(function (tag) {\n          return _this._graph.tags.set(tag, hash);\n        });\n        refs.filter(function (ref) {\n          return !ref.startsWith(TAG_PREFIX);\n        }).forEach(function (ref) {\n          return _this._graph.refs.set(ref, hash);\n        });\n      }); // Create branches.\n\n      var branches = this._getBranches();\n\n      this._graph.commits.map(function (commit) {\n        return _this._withBranches(branches, commit);\n      }).reduce(function (mem, commit) {\n        if (!commit.branches) return mem;\n        commit.branches.forEach(function (branch) {\n          return mem.add(branch);\n        });\n        return mem;\n      }, new Set()).forEach(function (branch) {\n        return _this.branch(branch);\n      });\n\n      this._onGraphUpdate();\n\n      return this;\n    } // tslint:disable:variable-name - Prefix `_` = explicitly private for JS users\n    // TODO: get rid of these duplicated private methods.\n    //\n    // These belong to Gitgraph. It is duplicated because of `import()`.\n    // `import()` should use regular user API instead.\n\n  }, {\n    key: \"_withBranches\",\n    value: function _withBranches(branches, commit) {\n      var commitBranches = Array.from((branches.get(commit.hash) || new Set()).values());\n\n      if (commitBranches.length === 0) {\n        // No branch => branch has been deleted.\n        commitBranches = [branch_1.DELETED_BRANCH_NAME];\n      }\n\n      return commit.setBranches(commitBranches);\n    }\n  }, {\n    key: \"_getBranches\",\n    value: function _getBranches() {\n      var _this2 = this;\n\n      var result = new Map();\n      var queue = [];\n\n      var branches = this._graph.refs.getAllNames().filter(function (name) {\n        return name !== \"HEAD\";\n      });\n\n      branches.forEach(function (branch) {\n        var commitHash = _this2._graph.refs.getCommit(branch);\n\n        if (commitHash) {\n          queue.push(commitHash);\n        }\n\n        var _loop = function _loop() {\n          var currentHash = queue.pop();\n\n          var current = _this2._graph.commits.find(function (_ref4) {\n            var hash = _ref4.hash;\n            return hash === currentHash;\n          });\n\n          var prevBranches = result.get(currentHash) || new Set();\n          prevBranches.add(branch);\n          result.set(currentHash, prevBranches);\n\n          if (current && current.parents && current.parents.length > 0) {\n            queue.push(current.parents[0]);\n          }\n        };\n\n        while (queue.length > 0) {\n          _loop();\n        }\n      });\n      return result;\n    }\n  }]);\n\n  return GitgraphUserApi;\n}();\n\nexports.GitgraphUserApi = GitgraphUserApi;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\n\nvar _toConsumableArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Refs = /*#__PURE__*/function () {\n  function Refs() {\n    _classCallCheck(this, Refs);\n\n    this.commitPerName = new Map();\n    this.namesPerCommit = new Map();\n  }\n  /**\n   * Set a new reference to a commit hash.\n   *\n   * @param name Name of the ref (ex: \"master\", \"v1.0\")\n   * @param commitHash Commit hash\n   */\n\n\n  _createClass(Refs, [{\n    key: \"set\",\n    value: function set(name, commitHash) {\n      var prevCommitHash = this.commitPerName.get(name);\n\n      if (prevCommitHash) {\n        this.removeNameFrom(prevCommitHash, name);\n      }\n\n      this.addNameTo(commitHash, name);\n      this.addCommitTo(name, commitHash);\n      return this;\n    }\n    /**\n     * Get the commit hash associated with the given reference name.\n     *\n     * @param name Name of the ref\n     */\n\n  }, {\n    key: \"getCommit\",\n    value: function getCommit(name) {\n      return this.commitPerName.get(name);\n    }\n    /**\n     * Get the list of reference names associated with given commit hash.\n     *\n     * @param commitHash Commit hash\n     */\n\n  }, {\n    key: \"getNames\",\n    value: function getNames(commitHash) {\n      return this.namesPerCommit.get(commitHash) || [];\n    }\n    /**\n     * Get all reference names known.\n     */\n\n  }, {\n    key: \"getAllNames\",\n    value: function getAllNames() {\n      return Array.from(this.commitPerName.keys());\n    }\n    /**\n     * Returns true if given commit hash is referenced.\n     *\n     * @param commitHash Commit hash\n     */\n\n  }, {\n    key: \"hasCommit\",\n    value: function hasCommit(commitHash) {\n      return this.namesPerCommit.has(commitHash);\n    }\n    /**\n     * Returns true if given reference name exists.\n     *\n     * @param name Name of the ref\n     */\n\n  }, {\n    key: \"hasName\",\n    value: function hasName(name) {\n      return this.commitPerName.has(name);\n    }\n  }, {\n    key: \"removeNameFrom\",\n    value: function removeNameFrom(commitHash, nameToRemove) {\n      var names = this.namesPerCommit.get(commitHash) || [];\n      this.namesPerCommit.set(commitHash, names.filter(function (name) {\n        return name !== nameToRemove;\n      }));\n    }\n  }, {\n    key: \"addNameTo\",\n    value: function addNameTo(commitHash, nameToAdd) {\n      var prevNames = this.namesPerCommit.get(commitHash) || [];\n      this.namesPerCommit.set(commitHash, [].concat(_toConsumableArray(prevNames), [nameToAdd]));\n    }\n  }, {\n    key: \"addCommitTo\",\n    value: function addCommitTo(name, commitHashToAdd) {\n      this.commitPerName.set(name, commitHashToAdd);\n    }\n  }]);\n\n  return Refs;\n}();\n\nexports.Refs = Refs;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\n\nvar BranchLabel =\n/** @class */\nfunction (_super) {\n  __extends(BranchLabel, _super);\n\n  function BranchLabel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      textWidth: 0,\n      textHeight: 0\n    };\n    _this.$text = React.createRef();\n    return _this;\n  }\n\n  BranchLabel.prototype.componentDidMount = function () {\n    var box = this.$text.current.getBBox();\n    this.setState({\n      textWidth: box.width,\n      textHeight: box.height\n    });\n  };\n\n  BranchLabel.prototype.render = function () {\n    var _a = this.props,\n        branch = _a.branch,\n        commit = _a.commit;\n    var boxWidth = this.state.textWidth + 2 * BranchLabel.paddingX;\n    var boxHeight = this.state.textHeight + 2 * BranchLabel.paddingY;\n    return React.createElement(\"g\", null, React.createElement(\"rect\", {\n      stroke: branch.style.label.strokeColor || commit.style.color,\n      fill: branch.style.label.bgColor,\n      rx: branch.style.label.borderRadius,\n      width: boxWidth,\n      height: boxHeight\n    }), React.createElement(\"text\", {\n      ref: this.$text,\n      fill: branch.style.label.color || commit.style.color,\n      style: {\n        font: branch.style.label.font\n      },\n      alignmentBaseline: \"middle\",\n      dominantBaseline: \"middle\",\n      x: BranchLabel.paddingX,\n      y: boxHeight / 2\n    }, branch.name));\n  };\n\n  BranchLabel.paddingX = 10;\n  BranchLabel.paddingY = 5;\n  return BranchLabel;\n}(React.Component);\n\nexport { BranchLabel };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n\n  function Tooltip() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      textWidth: 0\n    };\n    _this.$text = React.createRef();\n    return _this;\n  }\n\n  Tooltip.prototype.componentDidMount = function () {\n    this.setState({\n      textWidth: this.$text.current.getBBox().width\n    });\n  };\n\n  Tooltip.prototype.render = function () {\n    var commitSize = this.props.commit.style.dot.size * 2;\n    var offset = 10;\n    var padding = Tooltip.padding;\n    var radius = 5;\n    var boxHeight = 50;\n    var boxWidth = offset + this.state.textWidth + 2 * padding;\n    var path = [\"M 0,0\", \"L \" + offset + \",\" + offset, \"V \" + (boxHeight / 2 - radius), \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2, \"H \" + (boxWidth - radius), \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius), \"V -\" + (boxHeight / 2 - radius), \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2, \"H \" + (offset + radius), \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + (boxHeight / 2 - radius), \"V -\" + offset, \"z\"].join(\" \");\n    return React.createElement(\"g\", {\n      transform: \"translate(\" + commitSize + \", \" + commitSize / 2 + \")\"\n    }, React.createElement(\"path\", {\n      d: path,\n      fill: \"#EEE\"\n    }), React.createElement(\"text\", {\n      ref: this.$text,\n      x: offset + padding,\n      y: 0,\n      alignmentBaseline: \"central\",\n      fill: \"#333\"\n    }, this.props.children));\n  };\n\n  Tooltip.padding = 10;\n  return Tooltip;\n}(React.Component);\n\nexport { Tooltip };","import * as React from \"react\";\nexport var Dot = function Dot(_a) {\n  var commit = _a.commit,\n      onMouseOver = _a.onMouseOver,\n      onMouseOut = _a.onMouseOut;\n  return (\n    /*\n      In order to handle strokes, we need to do some complex stuff here \n         Problem: strokes are drawn inside & outside the circle.\n      But we want the stroke to be drawn inside only!\n         The outside overlaps with other elements, as we expect the dot to have a fixed size. So we want to crop the outside part.\n         Solution:\n      1. Create the circle in a <defs>\n      2. Define a clip path that references the circle\n      3. Use the clip path, adding the stroke.\n      4. Double stroke width as half of it will be clipped (the outside part).\n         Ref.: https://stackoverflow.com/a/32162431/3911841\n         P.S. there is a proposal for a stroke-alignment property,\n      but it's still a W3C Draft \\_()_/\n      https://svgwg.org/specs/strokes/#SpecifyingStrokeAlignment\n    */\n    React.createElement(React.Fragment, null, React.createElement(\"defs\", null, React.createElement(\"circle\", {\n      id: commit.hash,\n      cx: commit.style.dot.size,\n      cy: commit.style.dot.size,\n      r: commit.style.dot.size,\n      fill: commit.style.dot.color\n    }), React.createElement(\"clipPath\", {\n      id: \"clip-\" + commit.hash\n    }, React.createElement(\"use\", {\n      xlinkHref: \"#\" + commit.hash\n    }))), React.createElement(\"g\", {\n      onClick: commit.onClick,\n      onMouseOver: onMouseOver,\n      onMouseOut: onMouseOut\n    }, React.createElement(\"use\", {\n      xlinkHref: \"#\" + commit.hash,\n      clipPath: \"url(#clip-\" + commit.hash + \")\",\n      stroke: commit.style.dot.strokeColor,\n      strokeWidth: commit.style.dot.strokeWidth && commit.style.dot.strokeWidth * 2\n    }), commit.dotText && React.createElement(\"text\", {\n      alignmentBaseline: \"central\",\n      textAnchor: \"middle\",\n      x: commit.style.dot.size,\n      y: commit.style.dot.size,\n      style: {\n        font: commit.style.dot.font\n      }\n    }, commit.dotText)))\n  );\n};","import * as React from \"react\";\nimport { useState, useEffect, useRef } from \"react\";\nexport var TAG_PADDING_X = 10;\nexport var TAG_PADDING_Y = 5;\nexport function Tag(props) {\n  var _a = useState({\n    textWidth: 0,\n    textHeight: 0\n  }),\n      state = _a[0],\n      setState = _a[1];\n\n  var $text = useRef(null);\n  useEffect(function () {\n    var box = $text.current.getBBox();\n    setState({\n      textWidth: box.width,\n      textHeight: box.height\n    });\n  }, []);\n  var tag = props.tag;\n  var offset = tag.style.pointerWidth;\n  var radius = tag.style.borderRadius;\n  var boxWidth = offset + state.textWidth + 2 * TAG_PADDING_X;\n  var boxHeight = state.textHeight + 2 * TAG_PADDING_Y;\n  var path = [\"M 0,0\", \"L \" + offset + \",\" + boxHeight / 2, \"V \" + boxHeight / 2, \"Q \" + offset + \",\" + boxHeight / 2 + \" \" + (offset + radius) + \",\" + boxHeight / 2, \"H \" + (boxWidth - radius), \"Q \" + boxWidth + \",\" + boxHeight / 2 + \" \" + boxWidth + \",\" + (boxHeight / 2 - radius), \"V \" + -(boxHeight / 2 - radius), \"Q \" + boxWidth + \",-\" + boxHeight / 2 + \" \" + (boxWidth - radius) + \",-\" + boxHeight / 2, \"H \" + (offset + radius), \"Q \" + offset + \",-\" + boxHeight / 2 + \" \" + offset + \",-\" + boxHeight / 2, \"V -\" + boxHeight / 2, \"z\"].join(\" \");\n  return React.createElement(\"g\", null, React.createElement(\"path\", {\n    d: path,\n    fill: tag.style.bgColor,\n    stroke: tag.style.strokeColor\n  }), React.createElement(\"text\", {\n    ref: $text,\n    fill: tag.style.color,\n    style: {\n      font: tag.style.font\n    },\n    alignmentBaseline: \"middle\",\n    dominantBaseline: \"middle\",\n    x: offset + TAG_PADDING_X,\n    y: 0\n  }, tag.name));\n}","import \"core-js/modules/es.array.reduce.js\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from \"react\";\nimport { GitgraphCore, MergeStyle, Mode, Orientation, TemplateName, templateExtend, toSvgPath, arrowSvgPath } from \"@gitgraph/core\";\nimport { BranchLabel } from \"./BranchLabel\";\nimport { Tooltip } from \"./Tooltip\";\nimport { Dot } from \"./Dot\";\nimport { Tag, TAG_PADDING_X } from \"./Tag\";\nexport { Gitgraph, TemplateName, templateExtend, MergeStyle, Mode, Orientation };\n\nfunction isPropsWithGraph(props) {\n  return \"graph\" in props;\n}\n\nvar Gitgraph =\n/** @class */\nfunction (_super) {\n  __extends(Gitgraph, _super);\n\n  function Gitgraph(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.$graph = React.createRef();\n    _this.$commits = React.createRef();\n    _this.$tooltip = null;\n    _this.commitsElements = {};\n    _this.state = {\n      commits: [],\n      branchesPaths: new Map(),\n      commitMessagesX: 0,\n      commitYWithOffsets: {},\n      shouldRecomputeOffsets: true,\n      currentCommitOver: null\n    };\n    _this.gitgraph = isPropsWithGraph(props) ? props.graph : new GitgraphCore(props.options);\n\n    _this.gitgraph.subscribe(function (data) {\n      var commits = data.commits,\n          branchesPaths = data.branchesPaths,\n          commitMessagesX = data.commitMessagesX;\n\n      _this.setState({\n        commits: commits,\n        branchesPaths: branchesPaths,\n        commitMessagesX: commitMessagesX,\n        shouldRecomputeOffsets: true\n      });\n    });\n\n    return _this;\n  }\n\n  Gitgraph.prototype.render = function () {\n    return React.createElement(\"svg\", {\n      ref: this.$graph\n    }, React.createElement(\"g\", {\n      transform: \"translate(\" + BranchLabel.paddingX + \", \" + Tooltip.padding + \")\"\n    }, this.renderBranchesPaths(), this.renderCommits(), this.$tooltip));\n  };\n\n  Gitgraph.prototype.componentDidMount = function () {\n    if (isPropsWithGraph(this.props)) return;\n    this.props.children(this.gitgraph.getUserApi());\n  };\n\n  Gitgraph.prototype.componentDidUpdate = function () {\n    if (this.$graph.current) {\n      var _a = this.$graph.current.getBBox(),\n          height = _a.height,\n          width = _a.width;\n\n      this.$graph.current.setAttribute(\"width\", // Add `Tooltip.padding` so we don't crop the tooltip text.\n      // Add `BranchLabel.paddingX` so we don't cut branch label.\n      (width + Tooltip.padding + BranchLabel.paddingX).toString());\n      this.$graph.current.setAttribute(\"height\", // Add `Tooltip.padding` so we don't crop tooltip text\n      // Add `BranchLabel.paddingY` so we don't crop branch label.\n      (height + Tooltip.padding + BranchLabel.paddingY).toString());\n    }\n\n    if (!this.state.shouldRecomputeOffsets) return;\n    if (!this.$commits.current) return;\n    this.positionCommitsElements();\n    var commits = Array.from(this.$commits.current.children);\n    this.setState({\n      commitYWithOffsets: this.computeOffsets(commits),\n      shouldRecomputeOffsets: false\n    });\n  };\n\n  Gitgraph.prototype.renderBranchesPaths = function () {\n    var _this = this;\n\n    var offset = this.gitgraph.template.commit.dot.size;\n    var isBezier = this.gitgraph.template.branch.mergeStyle === MergeStyle.Bezier;\n    return Array.from(this.state.branchesPaths).map(function (_a) {\n      var branch = _a[0],\n          coordinates = _a[1];\n      return React.createElement(\"path\", {\n        key: branch.name,\n        d: toSvgPath(coordinates.map(function (a) {\n          return a.map(function (b) {\n            return _this.getWithCommitOffset(b);\n          });\n        }), isBezier, _this.gitgraph.isVertical),\n        fill: \"transparent\",\n        stroke: branch.computedColor,\n        strokeWidth: branch.style.lineWidth,\n        transform: \"translate(\" + offset + \", \" + offset + \")\"\n      });\n    });\n  };\n\n  Gitgraph.prototype.renderCommits = function () {\n    var _this = this;\n\n    return React.createElement(\"g\", {\n      ref: this.$commits\n    }, this.state.commits.map(function (commit) {\n      return _this.renderCommit(commit);\n    }));\n  };\n\n  Gitgraph.prototype.renderCommit = function (commit) {\n    var _a = this.getWithCommitOffset(commit),\n        x = _a.x,\n        y = _a.y;\n\n    var shouldRenderTooltip = this.state.currentCommitOver === commit && (this.gitgraph.isHorizontal || this.gitgraph.mode === Mode.Compact && commit.style.hasTooltipInCompactMode);\n\n    if (shouldRenderTooltip) {\n      this.$tooltip = React.createElement(\"g\", {\n        key: commit.hashAbbrev,\n        transform: \"translate(\" + x + \", \" + y + \")\"\n      }, this.renderTooltip(commit));\n    }\n\n    return React.createElement(\"g\", {\n      key: commit.hashAbbrev,\n      transform: \"translate(\" + x + \", \" + y + \")\"\n    }, this.renderDot(commit), this.gitgraph.template.arrow.size && this.renderArrows(commit), React.createElement(\"g\", {\n      transform: \"translate(\" + -x + \", 0)\"\n    }, commit.style.message.display && this.renderMessage(commit), this.renderBranchLabels(commit), this.renderTags(commit)));\n  };\n\n  Gitgraph.prototype.renderTooltip = function (commit) {\n    if (commit.renderTooltip) {\n      return commit.renderTooltip(commit);\n    }\n\n    return React.createElement(Tooltip, {\n      commit: commit\n    }, commit.hashAbbrev, \" - \", commit.subject);\n  };\n\n  Gitgraph.prototype.renderDot = function (commit) {\n    var _this = this;\n\n    if (commit.renderDot) {\n      return commit.renderDot(commit);\n    }\n\n    return React.createElement(Dot, {\n      commit: commit,\n      onMouseOver: function onMouseOver() {\n        _this.setState({\n          currentCommitOver: commit\n        });\n\n        commit.onMouseOver();\n      },\n      onMouseOut: function onMouseOut() {\n        _this.setState({\n          currentCommitOver: null\n        });\n\n        _this.$tooltip = null;\n        commit.onMouseOut();\n      }\n    });\n  };\n\n  Gitgraph.prototype.renderArrows = function (commit) {\n    var _this = this;\n\n    var commitRadius = commit.style.dot.size;\n    return commit.parents.map(function (parentHash) {\n      var parent = _this.state.commits.find(function (_a) {\n        var hash = _a.hash;\n        return hash === parentHash;\n      });\n\n      if (!parent) return null; // Starting point, relative to commit\n\n      var origin = _this.gitgraph.reverseArrow ? {\n        x: commitRadius + (parent.x - commit.x),\n        y: commitRadius + (parent.y - commit.y)\n      } : {\n        x: commitRadius,\n        y: commitRadius\n      };\n      return React.createElement(\"g\", {\n        transform: \"translate(\" + origin.x + \", \" + origin.y + \")\"\n      }, React.createElement(\"path\", {\n        d: arrowSvgPath(_this.gitgraph, parent, commit),\n        fill: _this.gitgraph.template.arrow.color\n      }));\n    });\n  };\n\n  Gitgraph.prototype.renderMessage = function (commit) {\n    var ref = this.createMessageRef(commit);\n\n    if (commit.renderMessage) {\n      return React.createElement(\"g\", {\n        ref: ref\n      }, commit.renderMessage(commit));\n    }\n\n    var body = null;\n\n    if (commit.body) {\n      body = React.createElement(\"foreignObject\", {\n        width: \"600\",\n        x: \"10\"\n      }, React.createElement(\"p\", null, commit.body));\n    } // Use commit dot radius to align text with the middle of the dot.\n\n\n    var y = commit.style.dot.size;\n    return React.createElement(\"g\", {\n      ref: ref,\n      transform: \"translate(0, \" + y + \")\"\n    }, React.createElement(\"text\", {\n      alignmentBaseline: \"central\",\n      fill: commit.style.message.color,\n      style: {\n        font: commit.style.message.font\n      },\n      onClick: commit.onMessageClick\n    }, commit.message), body);\n  };\n\n  Gitgraph.prototype.renderBranchLabels = function (commit) {\n    var _this = this; // @gitgraph/core could compute branch labels into commits directly.\n    // That will make it easier to retrieve them, just like tags.\n\n\n    var branches = Array.from(this.gitgraph.branches.values());\n    return branches.map(function (branch) {\n      if (!branch.style.label.display) return null;\n\n      if (!_this.gitgraph.branchLabelOnEveryCommit) {\n        var commitHash = _this.gitgraph.refs.getCommit(branch.name);\n\n        if (commit.hash !== commitHash) return null;\n      } // For the moment, we don't handle multiple branch labels.\n      // To do so, we'd need to reposition each of them appropriately.\n\n\n      if (commit.branchToDisplay !== branch.name) return null;\n\n      var ref = _this.createBranchLabelRef(commit);\n\n      var branchLabel = branch.renderLabel ? branch.renderLabel(branch) : React.createElement(BranchLabel, {\n        branch: branch,\n        commit: commit\n      });\n\n      if (_this.gitgraph.isVertical) {\n        return React.createElement(\"g\", {\n          key: branch.name,\n          ref: ref\n        }, branchLabel);\n      } else {\n        var commitDotSize = commit.style.dot.size * 2;\n        var horizontalMarginTop = 10;\n        var y = commitDotSize + horizontalMarginTop;\n        return React.createElement(\"g\", {\n          key: branch.name,\n          ref: ref,\n          transform: \"translate(\" + commit.x + \", \" + y + \")\"\n        }, branchLabel);\n      }\n    });\n  };\n\n  Gitgraph.prototype.renderTags = function (commit) {\n    var _this = this;\n\n    if (!commit.tags) return null;\n    if (this.gitgraph.isHorizontal) return null;\n    return commit.tags.map(function (tag) {\n      var ref = _this.createTagRef(commit);\n\n      return React.createElement(\"g\", {\n        key: commit.hashAbbrev + \"-\" + tag.name,\n        ref: ref,\n        transform: \"translate(0, \" + commit.style.dot.size + \")\"\n      }, tag.render ? tag.render(tag.name, tag.style) : React.createElement(Tag, {\n        tag: tag\n      }));\n    });\n  };\n\n  Gitgraph.prototype.createBranchLabelRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].branchLabel = ref;\n    return ref;\n  };\n\n  Gitgraph.prototype.createMessageRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].message = ref;\n    return ref;\n  };\n\n  Gitgraph.prototype.createTagRef = function (commit) {\n    var ref = React.createRef();\n\n    if (!this.commitsElements[commit.hashAbbrev]) {\n      this.initCommitElements(commit);\n    }\n\n    this.commitsElements[commit.hashAbbrev].tags.push(ref);\n    return ref;\n  };\n\n  Gitgraph.prototype.initCommitElements = function (commit) {\n    this.commitsElements[commit.hashAbbrev] = {\n      branchLabel: null,\n      tags: [],\n      message: null\n    };\n  };\n\n  Gitgraph.prototype.positionCommitsElements = function () {\n    var _this = this;\n\n    if (this.gitgraph.isHorizontal) {\n      // Elements don't appear on horizontal mode, yet.\n      return;\n    }\n\n    var padding = 10; // Ensure commits elements (branch labels, message) are well positionned.\n    // It can't be done at render time since elements size is dynamic.\n\n    Object.keys(this.commitsElements).forEach(function (commitHash) {\n      var _a = _this.commitsElements[commitHash],\n          branchLabel = _a.branchLabel,\n          tags = _a.tags,\n          message = _a.message; // We'll store X position progressively and translate elements.\n\n      var x = _this.state.commitMessagesX;\n\n      if (branchLabel && branchLabel.current) {\n        moveElement(branchLabel.current, x); // For some reason, one paddingX is missing in BBox width.\n\n        var branchLabelWidth = branchLabel.current.getBBox().width + BranchLabel.paddingX;\n        x += branchLabelWidth + padding;\n      }\n\n      tags.forEach(function (tag) {\n        if (!tag || !tag.current) return;\n        moveElement(tag.current, x); // For some reason, one paddingX is missing in BBox width.\n\n        var tagWidth = tag.current.getBBox().width + TAG_PADDING_X;\n        x += tagWidth + padding;\n      });\n\n      if (message && message.current) {\n        moveElement(message.current, x);\n      }\n    });\n  };\n\n  Gitgraph.prototype.computeOffsets = function (commits) {\n    var totalOffsetY = 0; // In VerticalReverse orientation, commits are in the same order in the DOM.\n\n    var orientedCommits = this.gitgraph.orientation === Orientation.VerticalReverse ? commits : commits.reverse();\n    return orientedCommits.reduce(function (newOffsets, commit) {\n      var commitY = parseInt(commit.getAttribute(\"transform\").split(\",\")[1].slice(0, -1), 10);\n      var firstForeignObject = commit.getElementsByTagName(\"foreignObject\")[0];\n      var customHtmlMessage = firstForeignObject && firstForeignObject.firstElementChild;\n      var messageHeight = 0;\n\n      if (customHtmlMessage) {\n        var height = customHtmlMessage.getBoundingClientRect().height;\n        var marginTopInPx = window.getComputedStyle(customHtmlMessage).marginTop || \"0px\";\n        var marginTop = parseInt(marginTopInPx.replace(\"px\", \"\"), 10);\n        messageHeight = height + marginTop;\n      } // Force the height of the foreignObject (browser issue)\n\n\n      if (firstForeignObject) {\n        firstForeignObject.setAttribute(\"height\", messageHeight + \"px\");\n      }\n\n      newOffsets[commitY] = commitY + totalOffsetY; // Increment total offset after setting the offset\n      // => offset next commits accordingly.\n\n      totalOffsetY += messageHeight;\n      return newOffsets;\n    }, {});\n  };\n\n  Gitgraph.prototype.getWithCommitOffset = function (_a) {\n    var x = _a.x,\n        y = _a.y;\n    return {\n      x: x,\n      y: this.state.commitYWithOffsets[y] || y\n    };\n  };\n\n  Gitgraph.defaultProps = {\n    options: {}\n  };\n  return Gitgraph;\n}(React.Component);\n\nfunction moveElement(target, x) {\n  var transform = target.getAttribute(\"transform\") || \"translate(0, 0)\";\n  target.setAttribute(\"transform\", transform.replace(/translate\\(([\\d\\.]+),/, \"translate(\" + x + \",\"));\n}","import { Gitgraph } from '@gitgraph/react'\nimport React from 'react'\n\nconst Clean = () => (\n  <Gitgraph>\n    {(gitgraph) => {\n      const main = gitgraph.branch('main')\n      main.commit('Initial Commit')\n      main.commit('Feature Release')\n\n      const feature1 = main.branch('feature1')\n      feature1.commit('feature1')\n\n      const feature = main.branch('feature_branch')\n      feature.commit('FiX Formatted with Black')\n      feature.commit('FEAT implemented feature into the project')\n      main.merge(feature)\n    }}\n  </Gitgraph>\n)\n\nexport default Clean\n","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar _toConsumableArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils_1 = require(\"./utils\");\n/**\n * Calculate branches paths of the graph.\n *\n * It follows the Command pattern:\n * => a class with a single `execute()` public method.\n *\n * Main benefit is we can split computation in smaller steps without\n * passing around parameters (we can rely on private data).\n */\n\n\nvar BranchesPathsCalculator = /*#__PURE__*/function () {\n  function BranchesPathsCalculator(commits, branches, commitSpacing, isGraphVertical, isGraphReverse, createDeletedBranch) {\n    _classCallCheck(this, BranchesPathsCalculator);\n\n    this.branchesPaths = new Map();\n    this.commits = commits;\n    this.branches = branches;\n    this.commitSpacing = commitSpacing;\n    this.isGraphVertical = isGraphVertical;\n    this.isGraphReverse = isGraphReverse;\n    this.createDeletedBranch = createDeletedBranch;\n  }\n  /**\n   * Compute branches paths for graph.\n   */\n\n\n  _createClass(BranchesPathsCalculator, [{\n    key: \"execute\",\n    value: function execute() {\n      this.fromCommits();\n      this.withMergeCommits();\n      return this.smoothBranchesPaths();\n    }\n    /**\n     * Initialize branches paths from calculator's commits.\n     */\n\n  }, {\n    key: \"fromCommits\",\n    value: function fromCommits() {\n      var _this = this;\n\n      this.commits.forEach(function (commit) {\n        var branch = _this.branches.get(commit.branchToDisplay);\n\n        if (!branch) {\n          // NB: may not work properly if there are many deleted branches.\n          branch = _this.getDeletedBranchInPath() || _this.createDeletedBranch();\n        }\n\n        var path = [];\n\n        var existingBranchPath = _this.branchesPaths.get(branch);\n\n        var firstParentCommit = _this.commits.find(function (_ref) {\n          var hash = _ref.hash;\n          return hash === commit.parents[0];\n        });\n\n        if (existingBranchPath) {\n          path.push.apply(path, _toConsumableArray(existingBranchPath));\n        } else if (firstParentCommit) {\n          // Make branch path starts from parent branch (parent commit).\n          path.push({\n            x: firstParentCommit.x,\n            y: firstParentCommit.y\n          });\n        }\n\n        path.push({\n          x: commit.x,\n          y: commit.y\n        });\n\n        _this.branchesPaths.set(branch, path);\n      });\n    }\n    /**\n     * Insert merge commits points into `branchesPaths`.\n     *\n     * @example\n     *     // Before\n     *     [\n     *       { x: 0, y: 640 },\n     *       { x: 50, y: 560 }\n     *     ]\n     *\n     *     // After\n     *     [\n     *       { x: 0, y: 640 },\n     *       { x: 50, y: 560 },\n     *       { x: 50, y: 560, mergeCommit: true }\n     *     ]\n     */\n\n  }, {\n    key: \"withMergeCommits\",\n    value: function withMergeCommits() {\n      var _this2 = this;\n\n      var mergeCommits = this.commits.filter(function (_ref2) {\n        var parents = _ref2.parents;\n        return parents.length > 1;\n      });\n      mergeCommits.forEach(function (mergeCommit) {\n        var parentOnOriginBranch = _this2.commits.find(function (_ref3) {\n          var hash = _ref3.hash;\n          return hash === mergeCommit.parents[1];\n        });\n\n        if (!parentOnOriginBranch) return;\n        var originBranchName = parentOnOriginBranch.branches ? parentOnOriginBranch.branches[0] : \"\";\n\n        var branch = _this2.branches.get(originBranchName);\n\n        if (!branch) {\n          branch = _this2.getDeletedBranchInPath();\n\n          if (!branch) {\n            // Still no branch? That's strange, we shouldn't set anything.\n            return;\n          }\n        }\n\n        var lastPoints = _toConsumableArray(_this2.branchesPaths.get(branch) || []);\n\n        _this2.branchesPaths.set(branch, [].concat(_toConsumableArray(lastPoints), [{\n          x: mergeCommit.x,\n          y: mergeCommit.y,\n          mergeCommit: true\n        }]));\n      });\n    }\n    /**\n     * Retrieve deleted branch from calculator's branches paths.\n     */\n\n  }, {\n    key: \"getDeletedBranchInPath\",\n    value: function getDeletedBranchInPath() {\n      return Array.from(this.branchesPaths.keys()).find(function (branch) {\n        return branch.isDeleted();\n      });\n    }\n    /**\n     * Smooth all paths by putting points on each row.\n     */\n\n  }, {\n    key: \"smoothBranchesPaths\",\n    value: function smoothBranchesPaths() {\n      var _this3 = this;\n\n      var branchesPaths = new Map();\n      this.branchesPaths.forEach(function (points, branch) {\n        if (points.length <= 1) {\n          branchesPaths.set(branch, [points]);\n          return;\n        } // Cut path on each merge commits\n        // Coordinate[] -> Coordinate[][]\n\n\n        if (_this3.isGraphVertical) {\n          points = points.sort(function (a, b) {\n            return a.y > b.y ? -1 : 1;\n          });\n        } else {\n          points = points.sort(function (a, b) {\n            return a.x > b.x ? 1 : -1;\n          });\n        }\n\n        if (_this3.isGraphReverse) {\n          points = points.reverse();\n        }\n\n        var paths = points.reduce(function (mem, point, i) {\n          if (point.mergeCommit) {\n            mem[mem.length - 1].push(utils_1.pick(point, [\"x\", \"y\"]));\n            var j = i - 1;\n            var previousPoint = points[j]; // Find the last point which is not a merge\n\n            while (j >= 0 && previousPoint.mergeCommit) {\n              j--;\n              previousPoint = points[j];\n            } // Start a new array with this point\n\n\n            if (j >= 0) {\n              mem.push([previousPoint]);\n            }\n          } else {\n            mem[mem.length - 1].push(point);\n          }\n\n          return mem;\n        }, [[]]);\n\n        if (_this3.isGraphReverse) {\n          paths.forEach(function (path) {\n            return path.reverse();\n          });\n        } // Add intermediate points on each sub paths\n\n\n        if (_this3.isGraphVertical) {\n          paths.forEach(function (subPath) {\n            if (subPath.length <= 1) return;\n            var firstPoint = subPath[0];\n            var lastPoint = subPath[subPath.length - 1];\n            var column = subPath[1].x;\n            var branchSize = Math.round(Math.abs(firstPoint.y - lastPoint.y) / _this3.commitSpacing) - 1;\n            var branchPoints = branchSize > 0 ? new Array(branchSize).fill(0).map(function (_, i) {\n              return {\n                x: column,\n                y: subPath[0].y - _this3.commitSpacing * (i + 1)\n              };\n            }) : [];\n            var lastSubPaths = branchesPaths.get(branch) || [];\n            branchesPaths.set(branch, [].concat(_toConsumableArray(lastSubPaths), [[firstPoint].concat(_toConsumableArray(branchPoints), [lastPoint])]));\n          });\n        } else {\n          paths.forEach(function (subPath) {\n            if (subPath.length <= 1) return;\n            var firstPoint = subPath[0];\n            var lastPoint = subPath[subPath.length - 1];\n            var column = subPath[1].y;\n            var branchSize = Math.round(Math.abs(firstPoint.x - lastPoint.x) / _this3.commitSpacing) - 1;\n            var branchPoints = branchSize > 0 ? new Array(branchSize).fill(0).map(function (_, i) {\n              return {\n                y: column,\n                x: subPath[0].x + _this3.commitSpacing * (i + 1)\n              };\n            }) : [];\n            var lastSubPaths = branchesPaths.get(branch) || [];\n            branchesPaths.set(branch, [].concat(_toConsumableArray(lastSubPaths), [[firstPoint].concat(_toConsumableArray(branchPoints), [lastPoint])]));\n          });\n        }\n      });\n      return branchesPaths;\n    }\n  }]);\n\n  return BranchesPathsCalculator;\n}();\n\nexports.BranchesPathsCalculator = BranchesPathsCalculator;\n/**\n * Return a string ready to use in `svg.path.d` from coordinates\n *\n * @param coordinates Collection of coordinates\n */\n\nfunction toSvgPath(coordinates, isBezier, isVertical) {\n  return coordinates.map(function (path) {\n    return \"M\" + path.map(function (_ref4, i, points) {\n      var x = _ref4.x,\n          y = _ref4.y;\n\n      if (isBezier && points.length > 1 && (i === 1 || i === points.length - 1)) {\n        var previous = points[i - 1];\n\n        if (isVertical) {\n          var middleY = (previous.y + y) / 2;\n          return \"C \".concat(previous.x, \" \").concat(middleY, \" \").concat(x, \" \").concat(middleY, \" \").concat(x, \" \").concat(y);\n        } else {\n          var middleX = (previous.x + x) / 2;\n          return \"C \".concat(middleX, \" \").concat(previous.y, \" \").concat(middleX, \" \").concat(y, \" \").concat(x, \" \").concat(y);\n        }\n      }\n\n      return \"L \".concat(x, \" \").concat(y);\n    }).join(\" \").slice(1);\n  }).join(\" \");\n}\n\nexports.toSvgPath = toSvgPath;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar mode_1 = require(\"../mode\");\n\nvar compact_1 = require(\"./compact\");\n\nvar regular_1 = require(\"./regular\");\n\nexports.GraphRows = regular_1.RegularGraphRows;\n\nfunction createGraphRows(mode, commits) {\n  return mode === mode_1.Mode.Compact ? new compact_1.CompactGraphRows(commits) : new regular_1.RegularGraphRows(commits);\n}\n\nexports.createGraphRows = createGraphRows;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","\"use strict\"; // Extracted from `gitgraph.ts` because it caused `utils` tests to fail\n// because of circular dependency between `utils` and `template`.\n// It's not clear why (the circular dependency still exist) but `Orientation`\n// was the only one causing issue. Maybe because it's an enum?\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Orientation;\n\n(function (Orientation) {\n  Orientation[\"VerticalReverse\"] = \"vertical-reverse\";\n  Orientation[\"Horizontal\"] = \"horizontal\";\n  Orientation[\"HorizontalReverse\"] = \"horizontal-reverse\";\n})(Orientation = exports.Orientation || (exports.Orientation = {}));","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","\"use strict\";\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar template_1 = require(\"./template\");\n\nvar utils_1 = require(\"./utils\");\n\nvar Tag = /*#__PURE__*/function () {\n  function Tag(name, style, render, commitStyle) {\n    _classCallCheck(this, Tag);\n\n    this.name = name;\n    this.tagStyle = style;\n    this.commitStyle = commitStyle;\n    this.render = render;\n  }\n  /**\n   * Style\n   */\n\n\n  _createClass(Tag, [{\n    key: \"style\",\n    get: function get() {\n      return {\n        strokeColor: this.tagStyle.strokeColor || this.commitStyle.color,\n        bgColor: this.tagStyle.bgColor || this.commitStyle.color,\n        color: this.tagStyle.color || \"white\",\n        font: this.tagStyle.font || this.commitStyle.message.font || template_1.DEFAULT_FONT,\n        borderRadius: utils_1.numberOptionOr(this.tagStyle.borderRadius, 10),\n        pointerWidth: utils_1.numberOptionOr(this.tagStyle.pointerWidth, 12)\n      };\n    }\n  }]);\n\n  return Tag;\n}();\n\nexports.Tag = Tag;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","\"use strict\";\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BranchesOrder = /*#__PURE__*/function () {\n  function BranchesOrder(commits, colors, compareFunction) {\n    var _this = this;\n\n    _classCallCheck(this, BranchesOrder);\n\n    this.branches = new Set();\n    this.colors = colors;\n    commits.forEach(function (commit) {\n      return _this.branches.add(commit.branchToDisplay);\n    });\n\n    if (compareFunction) {\n      this.branches = new Set(Array.from(this.branches).sort(compareFunction));\n    }\n  }\n  /**\n   * Return the order of the given branch name.\n   *\n   * @param branchName Name of the branch\n   */\n\n\n  _createClass(BranchesOrder, [{\n    key: \"get\",\n    value: function get(branchName) {\n      return Array.from(this.branches).findIndex(function (branch) {\n        return branch === branchName;\n      });\n    }\n    /**\n     * Return the color of the given branch.\n     *\n     * @param branchName Name of the branch\n     */\n\n  }, {\n    key: \"getColorOf\",\n    value: function getColorOf(branchName) {\n      return this.colors[this.get(branchName) % this.colors.length];\n    }\n  }]);\n\n  return BranchesOrder;\n}();\n\nexports.BranchesOrder = BranchesOrder;","\"use strict\";\n\nvar _defineProperty = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils_1 = require(\"./utils\");\n/**\n * Branch merge style enum\n */\n\n\nvar MergeStyle;\n\n(function (MergeStyle) {\n  MergeStyle[\"Bezier\"] = \"bezier\";\n  MergeStyle[\"Straight\"] = \"straight\";\n})(MergeStyle || (MergeStyle = {}));\n\nexports.MergeStyle = MergeStyle;\nexports.DEFAULT_FONT = \"normal 12pt Calibri\";\n/**\n * Gitgraph template\n *\n * Set of design rules for the rendering.\n */\n\nvar Template = function Template(options) {\n  _classCallCheck(this, Template);\n\n  // Options\n  options.branch = options.branch || {};\n  options.branch.label = options.branch.label || {};\n  options.arrow = options.arrow || {};\n  options.commit = options.commit || {};\n  options.commit.dot = options.commit.dot || {};\n  options.commit.message = options.commit.message || {}; // One color per column\n\n  this.colors = options.colors || [\"#000000\"]; // Branch style\n\n  this.branch = {\n    color: options.branch.color,\n    lineWidth: options.branch.lineWidth || 2,\n    mergeStyle: options.branch.mergeStyle || MergeStyle.Bezier,\n    spacing: utils_1.numberOptionOr(options.branch.spacing, 20),\n    label: {\n      display: utils_1.booleanOptionOr(options.branch.label.display, true),\n      color: options.branch.label.color || options.commit.color,\n      strokeColor: options.branch.label.strokeColor || options.commit.color,\n      bgColor: options.branch.label.bgColor || \"white\",\n      font: options.branch.label.font || options.commit.message.font || exports.DEFAULT_FONT,\n      borderRadius: utils_1.numberOptionOr(options.branch.label.borderRadius, 10)\n    }\n  }; // Arrow style\n\n  this.arrow = {\n    size: options.arrow.size || null,\n    color: options.arrow.color || null,\n    offset: options.arrow.offset || 2\n  }; // Commit style\n\n  this.commit = {\n    color: options.commit.color,\n    spacing: utils_1.numberOptionOr(options.commit.spacing, 25),\n    hasTooltipInCompactMode: utils_1.booleanOptionOr(options.commit.hasTooltipInCompactMode, true),\n    dot: {\n      color: options.commit.dot.color || options.commit.color,\n      size: options.commit.dot.size || 3,\n      strokeWidth: utils_1.numberOptionOr(options.commit.dot.strokeWidth, 0),\n      strokeColor: options.commit.dot.strokeColor,\n      font: options.commit.dot.font || options.commit.message.font || \"normal 10pt Calibri\"\n    },\n    message: {\n      display: utils_1.booleanOptionOr(options.commit.message.display, true),\n      displayAuthor: utils_1.booleanOptionOr(options.commit.message.displayAuthor, true),\n      displayHash: utils_1.booleanOptionOr(options.commit.message.displayHash, true),\n      color: options.commit.message.color || options.commit.color,\n      font: options.commit.message.font || exports.DEFAULT_FONT\n    }\n  }; // Tag style\n  // This one is computed in the Tag instance. It needs Commit style\n  // that is partially computed at runtime (for colors).\n\n  this.tag = options.tag || {};\n};\n\nexports.Template = Template;\n/**\n * Black arrow template\n */\n\nvar blackArrowTemplate = new Template({\n  colors: [\"#6963FF\", \"#47E8D4\", \"#6BDB52\", \"#E84BA5\", \"#FFA657\"],\n  branch: {\n    color: \"#000000\",\n    lineWidth: 4,\n    spacing: 50,\n    mergeStyle: MergeStyle.Straight\n  },\n  commit: {\n    spacing: 60,\n    dot: {\n      size: 16,\n      strokeColor: \"#000000\",\n      strokeWidth: 4\n    },\n    message: {\n      color: \"black\"\n    }\n  },\n  arrow: {\n    size: 16,\n    offset: -1.5\n  }\n});\nexports.blackArrowTemplate = blackArrowTemplate;\n/**\n * Metro template\n */\n\nvar metroTemplate = new Template({\n  colors: [\"#979797\", \"#008fb5\", \"#f1c109\"],\n  branch: {\n    lineWidth: 10,\n    spacing: 50\n  },\n  commit: {\n    spacing: 80,\n    dot: {\n      size: 14\n    },\n    message: {\n      font: \"normal 14pt Arial\"\n    }\n  }\n});\nexports.metroTemplate = metroTemplate;\nvar TemplateName;\n\n(function (TemplateName) {\n  TemplateName[\"Metro\"] = \"metro\";\n  TemplateName[\"BlackArrow\"] = \"blackarrow\";\n})(TemplateName || (TemplateName = {}));\n\nexports.TemplateName = TemplateName;\n/**\n * Extend an existing template with new options.\n *\n * @param selectedTemplate Template to extend\n * @param options Template options\n */\n\nfunction templateExtend(selectedTemplate, options) {\n  var template = getTemplate(selectedTemplate);\n  if (!options.branch) options.branch = {};\n  if (!options.commit) options.commit = {}; // This is tedious, but it seems acceptable so we don't need lodash\n  // as we want to keep bundlesize small.\n\n  return {\n    colors: options.colors || template.colors,\n    arrow: Object.assign({}, template.arrow, options.arrow),\n    branch: Object.assign({}, template.branch, options.branch, {\n      label: Object.assign({}, template.branch.label, options.branch.label)\n    }),\n    commit: Object.assign({}, template.commit, options.commit, {\n      dot: Object.assign({}, template.commit.dot, options.commit.dot),\n      message: Object.assign({}, template.commit.message, options.commit.message)\n    }),\n    tag: Object.assign({}, template.tag, options.tag)\n  };\n}\n\nexports.templateExtend = templateExtend;\n/**\n * Resolve the template to use regarding given `template` value.\n *\n * @param template Selected template name, or instance.\n */\n\nfunction getTemplate(template) {\n  if (!template) return metroTemplate;\n\n  if (typeof template === \"string\") {\n    var _TemplateName$BlackAr;\n\n    return (_TemplateName$BlackAr = {}, _defineProperty(_TemplateName$BlackAr, TemplateName.BlackArrow, blackArrowTemplate), _defineProperty(_TemplateName$BlackAr, TemplateName.Metro, metroTemplate), _TemplateName$BlackAr)[template];\n  }\n\n  return template;\n}\n\nexports.getTemplate = getTemplate;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","\"use strict\";\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar RegularGraphRows = /*#__PURE__*/function () {\n  function RegularGraphRows(commits) {\n    _classCallCheck(this, RegularGraphRows);\n\n    this.rows = new Map();\n    this.maxRowCache = undefined;\n    this.computeRowsFromCommits(commits);\n  }\n\n  _createClass(RegularGraphRows, [{\n    key: \"getRowOf\",\n    value: function getRowOf(commitHash) {\n      return this.rows.get(commitHash) || 0;\n    }\n  }, {\n    key: \"getMaxRow\",\n    value: function getMaxRow() {\n      if (this.maxRowCache === undefined) {\n        this.maxRowCache = uniq(Array.from(this.rows.values())).length - 1;\n      }\n\n      return this.maxRowCache;\n    }\n  }, {\n    key: \"computeRowsFromCommits\",\n    value: function computeRowsFromCommits(commits) {\n      var _this = this;\n\n      commits.forEach(function (commit, i) {\n        _this.rows.set(commit.hash, i);\n      });\n      this.maxRowCache = undefined;\n    }\n  }]);\n\n  return RegularGraphRows;\n}();\n\nexports.RegularGraphRows = RegularGraphRows;\n/**\n * Creates a duplicate-free version of an array.\n *\n * Don't use lodash's `uniq` as it increased bundlesize a lot for such a\n * simple function.\n * => The way we bundle for browser seems not to work with `lodash-es`.\n * => I didn't to get tree-shaking to work with `lodash` (the CommonJS version).\n *\n * @param array Array of values\n */\n\nfunction uniq(array) {\n  var set = new Set();\n  array.forEach(function (value) {\n    return set.add(value);\n  });\n  return Array.from(set);\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","\"use strict\";\n\nvar _slicedToArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tag_1 = require(\"./tag\");\n/**\n * Generate a random hash.\n *\n * @return hex string with 40 chars\n */\n\n\nvar getRandomHash = function getRandomHash() {\n  return (Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3) + Math.random().toString(16).substring(3)).substring(0, 40);\n};\n\nvar Commit = /*#__PURE__*/function () {\n  function Commit(options) {\n    var _this = this;\n\n    _classCallCheck(this, Commit);\n\n    /**\n     * Ref names\n     */\n    this.refs = [];\n    /**\n     * Commit x position\n     */\n\n    this.x = 0;\n    /**\n     * Commit y position\n     */\n\n    this.y = 0; // Set author & committer\n\n    var name, email;\n\n    try {\n      var _options$author$match = options.author.match(/(.*) <(.*)>/);\n\n      var _options$author$match2 = _slicedToArray(_options$author$match, 3);\n\n      name = _options$author$match2[1];\n      email = _options$author$match2[2];\n    } catch (e) {\n      var _ref = [options.author, \"\"];\n      name = _ref[0];\n      email = _ref[1];\n    }\n\n    this.author = {\n      name: name,\n      email: email,\n      timestamp: Date.now()\n    };\n    this.committer = {\n      name: name,\n      email: email,\n      timestamp: Date.now()\n    }; // Set commit message\n\n    this.subject = options.subject;\n    this.body = options.body || \"\"; // Set commit hash\n\n    this.hash = options.hash || getRandomHash();\n    this.hashAbbrev = this.hash.substring(0, 7); // Set parent hash\n\n    this.parents = options.parents ? options.parents : [];\n    this.parentsAbbrev = this.parents.map(function (commit) {\n      return commit.substring(0, 7);\n    }); // Set style\n\n    this.style = Object.assign({}, options.style, {\n      message: Object.assign({}, options.style.message),\n      dot: Object.assign({}, options.style.dot)\n    });\n    this.dotText = options.dotText; // Set callbacks\n\n    this.onClick = function () {\n      return options.onClick ? options.onClick(_this) : undefined;\n    };\n\n    this.onMessageClick = function () {\n      return options.onMessageClick ? options.onMessageClick(_this) : undefined;\n    };\n\n    this.onMouseOver = function () {\n      return options.onMouseOver ? options.onMouseOver(_this) : undefined;\n    };\n\n    this.onMouseOut = function () {\n      return options.onMouseOut ? options.onMouseOut(_this) : undefined;\n    }; // Set custom renders\n\n\n    this.renderDot = options.renderDot;\n    this.renderMessage = options.renderMessage;\n    this.renderTooltip = options.renderTooltip;\n  }\n  /**\n   * Message\n   */\n\n\n  _createClass(Commit, [{\n    key: \"setRefs\",\n    value: function setRefs(refs) {\n      this.refs = refs.getNames(this.hash);\n      return this;\n    }\n  }, {\n    key: \"setTags\",\n    value: function setTags(tags, getTagStyle, getTagRender) {\n      var _this2 = this;\n\n      this.tags = tags.getNames(this.hash).map(function (name) {\n        return new tag_1.Tag(name, getTagStyle(name), getTagRender(name), _this2.style);\n      });\n      return this;\n    }\n  }, {\n    key: \"setBranches\",\n    value: function setBranches(branches) {\n      this.branches = branches;\n      return this;\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(_ref2) {\n      var x = _ref2.x,\n          y = _ref2.y;\n      this.x = x;\n      this.y = y;\n      return this;\n    }\n  }, {\n    key: \"withDefaultColor\",\n    value: function withDefaultColor(color) {\n      var newStyle = Object.assign({}, this.style, {\n        dot: Object.assign({}, this.style.dot),\n        message: Object.assign({}, this.style.message)\n      });\n      if (!newStyle.color) newStyle.color = color;\n      if (!newStyle.dot.color) newStyle.dot.color = color;\n      if (!newStyle.message.color) newStyle.message.color = color;\n      var commit = this.cloneCommit();\n      commit.style = newStyle;\n      return commit;\n    }\n    /**\n     * Ideally, we want Commit to be a [Value Object](https://martinfowler.com/bliki/ValueObject.html).\n     * We started with a mutable class. So we'll refactor that little by little.\n     * This private function is a helper to create a new Commit from existing one.\n     */\n\n  }, {\n    key: \"cloneCommit\",\n    value: function cloneCommit() {\n      var commit = new Commit({\n        author: \"\".concat(this.author.name, \" <\").concat(this.author.email, \">\"),\n        subject: this.subject,\n        style: this.style,\n        body: this.body,\n        hash: this.hash,\n        parents: this.parents,\n        dotText: this.dotText,\n        onClick: this.onClick,\n        onMessageClick: this.onMessageClick,\n        onMouseOver: this.onMouseOver,\n        onMouseOut: this.onMouseOut,\n        renderDot: this.renderDot,\n        renderMessage: this.renderMessage,\n        renderTooltip: this.renderTooltip\n      });\n      commit.refs = this.refs;\n      commit.branches = this.branches;\n      commit.tags = this.tags;\n      commit.x = this.x;\n      commit.y = this.y;\n      return commit;\n    }\n  }, {\n    key: \"message\",\n    get: function get() {\n      var message = \"\";\n\n      if (this.style.message.displayHash) {\n        message += \"\".concat(this.hashAbbrev, \" \");\n      }\n\n      message += this.subject;\n\n      if (this.style.message.displayAuthor) {\n        message += \" - \".concat(this.author.name, \" <\").concat(this.author.email, \">\");\n      }\n\n      return message;\n    }\n    /**\n     * Branch that should be rendered\n     */\n\n  }, {\n    key: \"branchToDisplay\",\n    get: function get() {\n      return this.branches ? this.branches[0] : \"\";\n    }\n  }]);\n\n  return Commit;\n}();\n\nexports.Commit = Commit;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Mode;\n\n(function (Mode) {\n  Mode[\"Compact\"] = \"compact\";\n})(Mode || (Mode = {}));\n\nexports.Mode = Mode;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","\"use strict\";\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar commit_1 = require(\"../commit\");\n\nvar utils_1 = require(\"../utils\");\n\nvar BranchUserApi = /*#__PURE__*/function () {\n  // tslint:enable:variable-name\n  function BranchUserApi(branch, graph, onGraphUpdate) {\n    _classCallCheck(this, BranchUserApi);\n\n    this._branch = branch;\n    this.name = branch.name;\n    this._graph = graph;\n    this._onGraphUpdate = onGraphUpdate;\n  }\n\n  _createClass(BranchUserApi, [{\n    key: \"branch\",\n    value: function branch(args) {\n      var options = typeof args === \"string\" ? {\n        name: args\n      } : args;\n      options.from = this;\n      return this._graph.createBranch(options).getUserApi();\n    }\n  }, {\n    key: \"commit\",\n    value: function commit(options) {\n      // Deal with shorter syntax\n      if (typeof options === \"string\") options = {\n        subject: options\n      };\n      if (!options) options = {};\n\n      this._commitWithParents(options, []);\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"merge\",\n    value: function merge() {\n      var options = arguments.length <= 0 ? undefined : arguments[0];\n\n      if (!isBranchMergeOptions(options)) {\n        options = {\n          branch: arguments.length <= 0 ? undefined : arguments[0],\n          fastForward: false,\n          commitOptions: {\n            subject: arguments.length <= 1 ? undefined : arguments[1]\n          }\n        };\n      }\n\n      var _options = options,\n          branch = _options.branch,\n          fastForward = _options.fastForward,\n          commitOptions = _options.commitOptions;\n      var branchName = typeof branch === \"string\" ? branch : branch.name;\n\n      var branchLastCommitHash = this._graph.refs.getCommit(branchName);\n\n      if (!branchLastCommitHash) {\n        throw new Error(\"The branch called \\\"\".concat(branchName, \"\\\" is unknown\"));\n      }\n\n      var canFastForward = false;\n\n      if (fastForward) {\n        var lastCommitHash = this._graph.refs.getCommit(this._branch.name);\n\n        if (lastCommitHash) {\n          canFastForward = this._areCommitsConnected(lastCommitHash, branchLastCommitHash);\n        }\n      }\n\n      if (fastForward && canFastForward) {\n        this._fastForwardTo(branchLastCommitHash);\n      } else {\n        this._commitWithParents(Object.assign({}, commitOptions, {\n          subject: commitOptions && commitOptions.subject || \"Merge branch \".concat(branchName)\n        }), [branchLastCommitHash]);\n      }\n\n      this._onGraphUpdate();\n\n      return this;\n    }\n  }, {\n    key: \"tag\",\n    value: function tag(options) {\n      if (typeof options === \"string\") {\n        this._graph.getUserApi().tag({\n          name: options,\n          ref: this._branch.name\n        });\n      } else {\n        this._graph.getUserApi().tag(Object.assign({}, options, {\n          ref: this._branch.name\n        }));\n      }\n\n      return this;\n    }\n    /**\n     * Checkout onto this branch and update \"HEAD\" in refs\n     */\n\n  }, {\n    key: \"checkout\",\n    value: function checkout() {\n      var target = this._branch;\n\n      var headCommit = this._graph.refs.getCommit(target.name);\n\n      this._graph.currentBranch = target; // Update \"HEAD\" in refs when the target branch is not empty\n\n      if (headCommit) {\n        this._graph.refs.set(\"HEAD\", headCommit);\n      }\n\n      return this;\n    } // tslint:disable:variable-name - Prefix `_` = explicitly private for JS users\n\n  }, {\n    key: \"_commitWithParents\",\n    value: function _commitWithParents(options, parents) {\n      var _this = this;\n\n      var parentOnSameBranch = this._graph.refs.getCommit(this._branch.name);\n\n      if (parentOnSameBranch) {\n        parents.unshift(parentOnSameBranch);\n      } else if (this._branch.parentCommitHash) {\n        parents.unshift(this._branch.parentCommitHash);\n      }\n\n      var tag = options.tag,\n          commitOptions = __rest(options, [\"tag\"]);\n\n      var commit = new commit_1.Commit(Object.assign({\n        hash: this._graph.generateCommitHash(),\n        author: this._branch.commitDefaultOptions.author || this._graph.author,\n        subject: this._branch.commitDefaultOptions.subject || this._graph.commitMessage\n      }, commitOptions, {\n        parents: parents,\n        style: this._getCommitStyle(options.style)\n      }));\n\n      if (parentOnSameBranch) {\n        // Take all the refs from the parent\n        var parentRefs = this._graph.refs.getNames(parentOnSameBranch);\n\n        parentRefs.forEach(function (ref) {\n          return _this._graph.refs.set(ref, commit.hash);\n        });\n      } else {\n        // Set the branch ref\n        this._graph.refs.set(this._branch.name, commit.hash);\n      } // Add the new commit\n\n\n      this._graph.commits.push(commit); // Move HEAD on the last commit\n\n\n      this.checkout(); // Add a tag to the commit if `option.tag` is provide\n\n      if (tag) this.tag(tag);\n    }\n  }, {\n    key: \"_areCommitsConnected\",\n    value: function _areCommitsConnected(parentCommitHash, childCommitHash) {\n      var _this2 = this;\n\n      var childCommit = this._graph.commits.find(function (_ref) {\n        var hash = _ref.hash;\n        return childCommitHash === hash;\n      });\n\n      if (!childCommit) return false;\n      var isFirstCommitOfGraph = childCommit.parents.length === 0;\n      if (isFirstCommitOfGraph) return false;\n\n      if (childCommit.parents.includes(parentCommitHash)) {\n        return true;\n      } // `childCommitHash` is not a direct child of `parentCommitHash`.\n      // But maybe one of `childCommitHash` parent is.\n\n\n      return childCommit.parents.some(function (directParentHash) {\n        return _this2._areCommitsConnected(parentCommitHash, directParentHash);\n      });\n    }\n  }, {\n    key: \"_fastForwardTo\",\n    value: function _fastForwardTo(commitHash) {\n      this._graph.refs.set(this._branch.name, commitHash);\n    }\n  }, {\n    key: \"_getCommitStyle\",\n    value: function _getCommitStyle() {\n      var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style), style, {\n        message: Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit.message), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.message), style.message, utils_1.withoutUndefinedKeys({\n          display: this._graph.shouldDisplayCommitMessage && undefined\n        })),\n        dot: Object.assign({}, utils_1.withoutUndefinedKeys(this._graph.template.commit.dot), utils_1.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.dot), style.dot)\n      });\n    }\n  }]);\n\n  return BranchUserApi;\n}();\n\nexports.BranchUserApi = BranchUserApi;\n\nfunction isBranchMergeOptions(options) {\n  return typeof options === \"object\" && !(options instanceof BranchUserApi);\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.reduce.js\");\n\nvar _defineProperty = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/defineProperty\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar orientation_1 = require(\"./orientation\");\n/**\n * Provide a default value to a boolean.\n * @param value\n * @param defaultValue\n */\n\n\nfunction booleanOptionOr(value, defaultValue) {\n  return typeof value === \"boolean\" ? value : defaultValue;\n}\n\nexports.booleanOptionOr = booleanOptionOr;\n/**\n * Provide a default value to a number.\n * @param value\n * @param defaultValue\n */\n\nfunction numberOptionOr(value, defaultValue) {\n  return typeof value === \"number\" ? value : defaultValue;\n}\n\nexports.numberOptionOr = numberOptionOr;\n/**\n * Creates an object composed of the picked object properties.\n * @param obj The source object\n * @param paths The property paths to pick\n */\n\nfunction pick(obj, paths) {\n  return Object.assign({}, paths.reduce(function (mem, key) {\n    return Object.assign({}, mem, _defineProperty({}, key, obj[key]));\n  }, {}));\n}\n\nexports.pick = pick;\n/**\n * Print a light version of commits into the console.\n * @param commits List of commits\n * @param paths The property paths to pick\n */\n\nfunction debug(commits, paths) {\n  // tslint:disable-next-line:no-console\n  console.log(JSON.stringify(commits.map(function (commit) {\n    return pick(commit, paths);\n  }), null, 2));\n}\n\nexports.debug = debug;\n/**\n * Return true if is undefined.\n *\n * @param obj\n */\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nexports.isUndefined = isUndefined;\n/**\n * Return a version of the object without any undefined keys.\n *\n * @param obj\n */\n\nfunction withoutUndefinedKeys() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.keys(obj).reduce(function (mem, key) {\n    return isUndefined(obj[key]) ? mem : Object.assign({}, mem, _defineProperty({}, key, obj[key]));\n  }, {});\n}\n\nexports.withoutUndefinedKeys = withoutUndefinedKeys;\n/**\n * Return a string ready to use in `svg.path.d` to draw an arrow from params.\n *\n * @param graph Graph context\n * @param parent Parent commit of the target commit\n * @param commit Target commit\n */\n\nfunction arrowSvgPath(graph, parent, commit) {\n  var commitRadius = commit.style.dot.size;\n  var size = graph.template.arrow.size;\n  var h = commitRadius + graph.template.arrow.offset; // Delta between left & right (radian)\n\n  var delta = Math.PI / 7; // Alpha angle between parent & commit (radian)\n\n  var alpha = getAlpha(graph, parent, commit); // Top\n\n  var x1 = h * Math.cos(alpha);\n  var y1 = h * Math.sin(alpha); // Bottom right\n\n  var x2 = (h + size) * Math.cos(alpha - delta);\n  var y2 = (h + size) * Math.sin(alpha - delta); // Bottom center\n\n  var x3 = (h + size / 2) * Math.cos(alpha);\n  var y3 = (h + size / 2) * Math.sin(alpha); // Bottom left\n\n  var x4 = (h + size) * Math.cos(alpha + delta);\n  var y4 = (h + size) * Math.sin(alpha + delta);\n  return \"M\".concat(x1, \",\").concat(y1, \" L\").concat(x2, \",\").concat(y2, \" Q\").concat(x3, \",\").concat(y3, \" \").concat(x4, \",\").concat(y4, \" L\").concat(x4, \",\").concat(y4);\n}\n\nexports.arrowSvgPath = arrowSvgPath;\n\nfunction getAlpha(graph, parent, commit) {\n  var deltaX = parent.x - commit.x;\n  var deltaY = parent.y - commit.y;\n  var commitSpacing = graph.template.commit.spacing;\n  var alphaY;\n  var alphaX; // Angle usually start from previous commit Y position:\n  //\n  // o\n  //   \n  // o  |  <-- path is straight until last commit Y position\n  //   o\n  // | \n  // o\n  //\n  // So we can to default to commit spacing.\n  // For horizontal orientation => same with commit X position.\n\n  switch (graph.orientation) {\n    case orientation_1.Orientation.Horizontal:\n      alphaY = deltaY;\n      alphaX = -commitSpacing;\n      break;\n\n    case orientation_1.Orientation.HorizontalReverse:\n      alphaY = deltaY;\n      alphaX = commitSpacing;\n      break;\n\n    case orientation_1.Orientation.VerticalReverse:\n      alphaY = -commitSpacing;\n      alphaX = deltaX;\n      break;\n\n    default:\n      alphaY = commitSpacing;\n      alphaX = deltaX;\n      break;\n  } // If commit is distant from its parent, there should be no angle.\n  //\n  //    o \n  //      <-- arrow is like previous commit was on same X position\n  // o  |\n  // | /\n  // o\n  //\n  // For horizontal orientation => same with commit Y position.\n\n\n  if (graph.isVertical) {\n    if (Math.abs(deltaY) > commitSpacing) alphaX = 0;\n  } else {\n    if (Math.abs(deltaX) > commitSpacing) alphaY = 0;\n  }\n\n  if (graph.reverseArrow) {\n    alphaY *= -1;\n    alphaX *= -1;\n  }\n\n  return Math.atan2(alphaY, alphaX);\n}","\"use strict\";\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar branch_user_api_1 = require(\"./user-api/branch-user-api\");\n\nvar DELETED_BRANCH_NAME = \"\";\nexports.DELETED_BRANCH_NAME = DELETED_BRANCH_NAME;\n\nvar Branch = /*#__PURE__*/function () {\n  function Branch(options) {\n    _classCallCheck(this, Branch);\n\n    this.gitgraph = options.gitgraph;\n    this.name = options.name;\n    this.style = options.style;\n    this.parentCommitHash = options.parentCommitHash;\n    this.commitDefaultOptions = options.commitDefaultOptions || {\n      style: {}\n    };\n    this.onGraphUpdate = options.onGraphUpdate;\n    this.renderLabel = options.renderLabel;\n  }\n  /**\n   * Return the API to manipulate Gitgraph branch as a user.\n   */\n\n\n  _createClass(Branch, [{\n    key: \"getUserApi\",\n    value: function getUserApi() {\n      return new branch_user_api_1.BranchUserApi(this, this.gitgraph, this.onGraphUpdate);\n    }\n    /**\n     * Return true if branch was deleted.\n     */\n\n  }, {\n    key: \"isDeleted\",\n    value: function isDeleted() {\n      return this.name === DELETED_BRANCH_NAME;\n    }\n  }]);\n\n  return Branch;\n}();\n\nexports.Branch = Branch;\n\nfunction createDeletedBranch(gitgraph, style, onGraphUpdate) {\n  return new Branch({\n    name: DELETED_BRANCH_NAME,\n    gitgraph: gitgraph,\n    style: style,\n    onGraphUpdate: onGraphUpdate\n  });\n}\n\nexports.createDeletedBranch = createDeletedBranch;","\"use strict\";\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar regular_1 = require(\"./regular\");\n\nvar CompactGraphRows = /*#__PURE__*/function (_regular_1$RegularGra) {\n  _inherits(CompactGraphRows, _regular_1$RegularGra);\n\n  var _super = _createSuper(CompactGraphRows);\n\n  function CompactGraphRows() {\n    _classCallCheck(this, CompactGraphRows);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CompactGraphRows, [{\n    key: \"computeRowsFromCommits\",\n    value: function computeRowsFromCommits(commits) {\n      var _this = this;\n\n      commits.forEach(function (commit, i) {\n        var newRow = i;\n        var isFirstCommit = i === 0;\n\n        if (!isFirstCommit) {\n          var parentRow = _this.getRowOf(commit.parents[0]);\n\n          var historyParent = commits[i - 1];\n          newRow = Math.max(parentRow + 1, _this.getRowOf(historyParent.hash));\n          var isMergeCommit = commit.parents.length > 1;\n\n          if (isMergeCommit) {\n            // Push commit to next row to avoid collision when the branch in which\n            // the merge happens has more commits than the merged branch.\n            var mergeTargetParentRow = _this.getRowOf(commit.parents[1]);\n\n            if (parentRow < mergeTargetParentRow) newRow++;\n          }\n        }\n\n        _this.rows.set(commit.hash, newRow);\n      });\n    }\n  }]);\n\n  return CompactGraphRows;\n}(regular_1.RegularGraphRows);\n\nexports.CompactGraphRows = CompactGraphRows;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","\"use strict\";\n\nvar _slicedToArray = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _classCallCheck = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/runner/work/waylonwalkerv2/waylonwalkerv2/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar branch_1 = require(\"./branch\");\n\nvar graph_rows_1 = require(\"./graph-rows\");\n\nvar mode_1 = require(\"./mode\");\n\nvar branches_order_1 = require(\"./branches-order\");\n\nvar template_1 = require(\"./template\");\n\nvar refs_1 = require(\"./refs\");\n\nvar branches_paths_1 = require(\"./branches-paths\");\n\nvar utils_1 = require(\"./utils\");\n\nvar orientation_1 = require(\"./orientation\");\n\nvar gitgraph_user_api_1 = require(\"./user-api/gitgraph-user-api\");\n\nvar GitgraphCore = /*#__PURE__*/function () {\n  function GitgraphCore() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, GitgraphCore);\n\n    this.refs = new refs_1.Refs();\n    this.tags = new refs_1.Refs();\n    this.tagStyles = {};\n    this.tagRenders = {};\n    this.commits = [];\n    this.branches = new Map();\n    this.listeners = [];\n    this.nextTimeoutId = null;\n    this.template = template_1.getTemplate(options.template); // Set a default `master` branch\n\n    this.currentBranch = this.createBranch(\"master\"); // Set all options with default values\n\n    this.orientation = options.orientation;\n    this.reverseArrow = utils_1.booleanOptionOr(options.reverseArrow, false);\n    this.initCommitOffsetX = utils_1.numberOptionOr(options.initCommitOffsetX, 0);\n    this.initCommitOffsetY = utils_1.numberOptionOr(options.initCommitOffsetY, 0);\n    this.mode = options.mode;\n    this.author = options.author || \"Sergio Flores <saxo-guy@epic.com>\";\n    this.commitMessage = options.commitMessage || \"He doesn't like George Michael! Boooo!\";\n    this.generateCommitHash = typeof options.generateCommitHash === \"function\" ? options.generateCommitHash : function () {\n      return undefined;\n    };\n    this.branchesOrderFunction = typeof options.compareBranchesOrder === \"function\" ? options.compareBranchesOrder : undefined;\n    this.branchLabelOnEveryCommit = utils_1.booleanOptionOr(options.branchLabelOnEveryCommit, false);\n  }\n\n  _createClass(GitgraphCore, [{\n    key: \"getUserApi\",\n\n    /**\n     * Return the API to manipulate Gitgraph as a user.\n     * Rendering library should give that API to their consumer.\n     */\n    value: function getUserApi() {\n      var _this = this;\n\n      return new gitgraph_user_api_1.GitgraphUserApi(this, function () {\n        return _this.next();\n      });\n    }\n    /**\n     * Add a change listener.\n     * It will be called any time the graph have changed (commit, merge).\n     *\n     * @param listener A callback to be invoked on every change.\n     * @returns A function to remove this change listener.\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this2 = this;\n\n      this.listeners.push(listener);\n      var isSubscribed = true;\n      return function () {\n        if (!isSubscribed) return;\n        isSubscribed = false;\n\n        var index = _this2.listeners.indexOf(listener);\n\n        _this2.listeners.splice(index, 1);\n      };\n    }\n    /**\n     * Return all data required for rendering.\n     * Rendering libraries will use this to implement their rendering strategy.\n     */\n\n  }, {\n    key: \"getRenderedData\",\n    value: function getRenderedData() {\n      var commits = this.computeRenderedCommits();\n      var branchesPaths = this.computeRenderedBranchesPaths(commits);\n      var commitMessagesX = this.computeCommitMessagesX(branchesPaths);\n      this.computeBranchesColor(commits, branchesPaths);\n      return {\n        commits: commits,\n        branchesPaths: branchesPaths,\n        commitMessagesX: commitMessagesX\n      };\n    }\n  }, {\n    key: \"createBranch\",\n    value: function createBranch(args) {\n      var _this3 = this;\n\n      var defaultParentBranchName = \"HEAD\";\n      var options = {\n        gitgraph: this,\n        name: \"\",\n        parentCommitHash: this.refs.getCommit(defaultParentBranchName),\n        style: this.template.branch,\n        onGraphUpdate: function onGraphUpdate() {\n          return _this3.next();\n        }\n      };\n\n      if (typeof args === \"string\") {\n        options.name = args;\n        options.parentCommitHash = this.refs.getCommit(defaultParentBranchName);\n      } else {\n        var parentBranchName = args.from ? args.from.name : defaultParentBranchName;\n        var parentCommitHash = this.refs.getCommit(parentBranchName) || (this.refs.hasCommit(args.from) ? args.from : undefined);\n        args.style = args.style || {};\n        options = Object.assign({}, options, args, {\n          parentCommitHash: parentCommitHash,\n          style: Object.assign({}, options.style, args.style, {\n            label: Object.assign({}, options.style.label, args.style.label)\n          })\n        });\n      }\n\n      var branch = new branch_1.Branch(options);\n      this.branches.set(branch.name, branch);\n      return branch;\n    }\n    /**\n     * Return commits with data for rendering.\n     */\n\n  }, {\n    key: \"computeRenderedCommits\",\n    value: function computeRenderedCommits() {\n      var _this4 = this;\n\n      var branches = this.getBranches();\n      var commitsWithBranches = this.commits.map(function (commit) {\n        return _this4.withBranches(branches, commit);\n      });\n      var rows = graph_rows_1.createGraphRows(this.mode, this.commits);\n      var branchesOrder = new branches_order_1.BranchesOrder(commitsWithBranches, this.template.colors, this.branchesOrderFunction);\n      return commitsWithBranches.map(function (commit) {\n        return commit.setRefs(_this4.refs);\n      }).map(function (commit) {\n        return _this4.withPosition(rows, branchesOrder, commit);\n      }) // Fallback commit computed color on branch color.\n      .map(function (commit) {\n        return commit.withDefaultColor(_this4.getBranchDefaultColor(branchesOrder, commit.branchToDisplay));\n      }) // Tags need commit style to be computed (with default color).\n      .map(function (commit) {\n        return commit.setTags(_this4.tags, function (name) {\n          return Object.assign({}, _this4.tagStyles[name], _this4.template.tag);\n        }, function (name) {\n          return _this4.tagRenders[name];\n        });\n      });\n    }\n    /**\n     * Return branches paths with all data required for rendering.\n     *\n     * @param commits List of commits with rendering data computed\n     */\n\n  }, {\n    key: \"computeRenderedBranchesPaths\",\n    value: function computeRenderedBranchesPaths(commits) {\n      var _this5 = this;\n\n      return new branches_paths_1.BranchesPathsCalculator(commits, this.branches, this.template.commit.spacing, this.isVertical, this.isReverse, function () {\n        return branch_1.createDeletedBranch(_this5, _this5.template.branch, function () {\n          return _this5.next();\n        });\n      }).execute();\n    }\n    /**\n     * Set branches colors based on branches paths.\n     *\n     * @param commits List of graph commits\n     * @param branchesPaths Branches paths to be rendered\n     */\n\n  }, {\n    key: \"computeBranchesColor\",\n    value: function computeBranchesColor(commits, branchesPaths) {\n      var _this6 = this;\n\n      var branchesOrder = new branches_order_1.BranchesOrder(commits, this.template.colors, this.branchesOrderFunction);\n      Array.from(branchesPaths).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n            branch = _ref2[0];\n\n        branch.computedColor = branch.style.color || _this6.getBranchDefaultColor(branchesOrder, branch.name);\n      });\n    }\n    /**\n     * Return commit messages X position for rendering.\n     *\n     * @param branchesPaths Branches paths to be rendered\n     */\n\n  }, {\n    key: \"computeCommitMessagesX\",\n    value: function computeCommitMessagesX(branchesPaths) {\n      var numberOfColumns = Array.from(branchesPaths).length;\n      return numberOfColumns * this.template.branch.spacing;\n    }\n    /**\n     * Add `branches` property to commit.\n     *\n     * @param branches All branches mapped by commit hash\n     * @param commit Commit\n     */\n\n  }, {\n    key: \"withBranches\",\n    value: function withBranches(branches, commit) {\n      var commitBranches = Array.from((branches.get(commit.hash) || new Set()).values());\n\n      if (commitBranches.length === 0) {\n        // No branch => branch has been deleted.\n        commitBranches = [branch_1.DELETED_BRANCH_NAME];\n      }\n\n      return commit.setBranches(commitBranches);\n    }\n    /**\n     * Get all branches from current commits.\n     */\n\n  }, {\n    key: \"getBranches\",\n    value: function getBranches() {\n      var _this7 = this;\n\n      var result = new Map();\n      var queue = [];\n      var branches = this.refs.getAllNames().filter(function (name) {\n        return name !== \"HEAD\";\n      });\n      branches.forEach(function (branch) {\n        var commitHash = _this7.refs.getCommit(branch);\n\n        if (commitHash) {\n          queue.push(commitHash);\n        }\n\n        var _loop = function _loop() {\n          var currentHash = queue.pop();\n\n          var current = _this7.commits.find(function (_ref3) {\n            var hash = _ref3.hash;\n            return hash === currentHash;\n          });\n\n          var prevBranches = result.get(currentHash) || new Set();\n          prevBranches.add(branch);\n          result.set(currentHash, prevBranches);\n\n          if (current && current.parents && current.parents.length > 0) {\n            queue.push(current.parents[0]);\n          }\n        };\n\n        while (queue.length > 0) {\n          _loop();\n        }\n      });\n      return result;\n    }\n    /**\n     * Add position to given commit.\n     *\n     * @param rows Graph rows\n     * @param branchesOrder Computed order of branches\n     * @param commit Commit to position\n     */\n\n  }, {\n    key: \"withPosition\",\n    value: function withPosition(rows, branchesOrder, commit) {\n      var row = rows.getRowOf(commit.hash);\n      var maxRow = rows.getMaxRow();\n      var order = branchesOrder.get(commit.branchToDisplay);\n\n      switch (this.orientation) {\n        default:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.branch.spacing * order,\n            y: this.initCommitOffsetY + this.template.commit.spacing * (maxRow - row)\n          });\n\n        case orientation_1.Orientation.VerticalReverse:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.branch.spacing * order,\n            y: this.initCommitOffsetY + this.template.commit.spacing * row\n          });\n\n        case orientation_1.Orientation.Horizontal:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.commit.spacing * row,\n            y: this.initCommitOffsetY + this.template.branch.spacing * order\n          });\n\n        case orientation_1.Orientation.HorizontalReverse:\n          return commit.setPosition({\n            x: this.initCommitOffsetX + this.template.commit.spacing * (maxRow - row),\n            y: this.initCommitOffsetY + this.template.branch.spacing * order\n          });\n      }\n    }\n    /**\n     * Return the default color for given branch.\n     *\n     * @param branchesOrder Computed order of branches\n     * @param branchName Name of the branch\n     */\n\n  }, {\n    key: \"getBranchDefaultColor\",\n    value: function getBranchDefaultColor(branchesOrder, branchName) {\n      return branchesOrder.getColorOf(branchName);\n    }\n    /**\n     * Tell each listener something new happened.\n     * E.g. a rendering library will know it needs to re-render the graph.\n     */\n\n  }, {\n    key: \"next\",\n    value: function next() {\n      var _this8 = this;\n\n      if (this.nextTimeoutId) {\n        window.clearTimeout(this.nextTimeoutId);\n      } // Use setTimeout() with `0` to debounce call to next tick.\n\n\n      this.nextTimeoutId = window.setTimeout(function () {\n        _this8.listeners.forEach(function (listener) {\n          return listener(_this8.getRenderedData());\n        });\n      }, 0);\n    }\n  }, {\n    key: \"isHorizontal\",\n    get: function get() {\n      return this.orientation === orientation_1.Orientation.Horizontal || this.orientation === orientation_1.Orientation.HorizontalReverse;\n    }\n  }, {\n    key: \"isVertical\",\n    get: function get() {\n      return !this.isHorizontal;\n    }\n  }, {\n    key: \"isReverse\",\n    get: function get() {\n      return this.orientation === orientation_1.Orientation.HorizontalReverse || this.orientation === orientation_1.Orientation.VerticalReverse;\n    }\n  }, {\n    key: \"shouldDisplayCommitMessage\",\n    get: function get() {\n      return !this.isHorizontal && this.mode !== mode_1.Mode.Compact;\n    }\n  }]);\n\n  return GitgraphCore;\n}();\n\nexports.GitgraphCore = GitgraphCore;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;"],"sourceRoot":""}