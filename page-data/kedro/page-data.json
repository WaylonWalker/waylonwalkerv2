{"componentChunkName":"component---src-templates-blog-post-js","path":"/kedro/","result":{"data":{"markdownRemark":{"id":"fb9f98c2-2a4e-50ad-8ab7-5decac03b11f","html":"<h1><a href=\"https://twitter.com/search?q=%23kedrotips&#x26;f=live\">#kedrotips</a></h1>\n<p>I am tweeting out most of these snippets as I add them, you can find them all here <a href=\"https://twitter.com/search?q=%23kedrotips\">#kedrotips</a>.</p>\n<h1>🗣 Heads up</h1>\n<p>Below are some quick snippets/notes for when using kedro to build data pipelines. So far I am just compiling snippets. Eventually I will create several posts on kedro. These are mostly things that I use In my everyday with kedro. Some are a bit more essoteric. Some are helpful when writing production code, some are useful more usefule for exploration.</p>\n<h2>📚 Catalog</h2>\n<p><img src=\"../../jesse-orrico-h6xNSDlgciU-unsplash.jpg\" alt=\"catalogs\">\n<em>Photo by jesse orrico on Unsplash</em></p>\n<h3>CSVLocalDataSet</h3>\n<p><strong>python</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\niris <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class=\"token punctuation\">)</span>\n\ndata_set <span class=\"token operator\">=</span> CSVLocalDataSet<span class=\"token punctuation\">(</span>filepath<span class=\"token operator\">=</span><span class=\"token string\">\"test.csv\"</span><span class=\"token punctuation\">,</span>\n                                 load_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n                                 save_args<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"index\"</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\niris_data_set<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>iris<span class=\"token punctuation\">)</span>\nreloaded_iris <span class=\"token operator\">=</span> iris_data_set<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>yaml</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">test_data</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> CSVLocalDataset\n   <span class=\"token key atrule\">filepath</span><span class=\"token punctuation\">:</span> test.csv\n   <span class=\"token key atrule\">load_args</span><span class=\"token punctuation\">:</span> None\n   <span class=\"token key atrule\">save_args</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">index</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">False</span></code></pre></div>\n<h2>CSVHTTPDataSet</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">cities <span class=\"token operator\">=</span> CSVHTTPDataSet<span class=\"token punctuation\">(</span>\n    fileurl<span class=\"token operator\">=</span><span class=\"token string\">\"https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv\"</span><span class=\"token punctuation\">,</span>\n    auth<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n    load_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n\niris <span class=\"token operator\">=</span> iris_data_set<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">cities</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> CSVHTTPDataSet\n    <span class=\"token key atrule\">fileurl</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//people.sc.fsu.edu/~jburkardt/data/csv/cities.csv\n    <span class=\"token key atrule\">auth</span><span class=\"token punctuation\">:</span> None\n    <span class=\"token key atrule\">load_args</span><span class=\"token punctuation\">:</span> None</code></pre></div>\n<h2>HDFLocalDataSet</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> HDFLocalDataSet\n\niris <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class=\"token punctuation\">)</span>\niris_data_set <span class=\"token operator\">=</span> HDFLocalDataSet<span class=\"token punctuation\">(</span>filepath<span class=\"token operator\">=</span><span class=\"token string\">\"iris.hdf\"</span><span class=\"token punctuation\">,</span>\n                           key<span class=\"token operator\">=</span><span class=\"token string\">\"test_hdf_key\"</span><span class=\"token punctuation\">,</span>\n                           load_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n                           save_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n\niris_data_set<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>iris<span class=\"token punctuation\">)</span>\nreloaded_iris <span class=\"token operator\">=</span> iris_data_set<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">cars</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> HDFLocalDataSet\n   <span class=\"token key atrule\">filepath</span><span class=\"token punctuation\">:</span> test.hdf\n   <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> test_hdf_key</code></pre></div>\n<h2>HDFS3LocalDataSet</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> HDFS3DataSet\n\niris <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class=\"token punctuation\">)</span>\niris_data_set <span class=\"token operator\">=</span> HDFS3DataSet<span class=\"token punctuation\">(</span>filepath<span class=\"token operator\">=</span><span class=\"token string\">\"iris.hdf\"</span><span class=\"token punctuation\">,</span>\n                        bucket_name<span class=\"token operator\">=</span><span class=\"token string\">\"bucket-us-west-1\"</span><span class=\"token punctuation\">,</span>\n                        key<span class=\"token operator\">=</span><span class=\"token string\">\"test_hdf_key\"</span><span class=\"token punctuation\">,</span>\n                        load_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n                        save_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n\niris_data_set<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>iris<span class=\"token punctuation\">)</span>\nreloaded_iris <span class=\"token operator\">=</span> iris_data_set<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">cars</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> HDFS3DataSet\n   <span class=\"token key atrule\">filepath</span><span class=\"token punctuation\">:</span> cars.hdf\n   <span class=\"token key atrule\">bucket_name</span><span class=\"token punctuation\">:</span> bucket<span class=\"token punctuation\">-</span>us<span class=\"token punctuation\">-</span>west<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n   <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> test_hdf_key</code></pre></div>\n<h2>JSONLocalDataSet</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> JSONLocalDataSet\n\niris <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class=\"token punctuation\">)</span>\ncars <span class=\"token operator\">=</span> JSONLocalDataSet<span class=\"token punctuation\">(</span>filepath<span class=\"token operator\">=</span><span class=\"token string\">\"iris.json\"</span><span class=\"token punctuation\">,</span>\n                        load_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n                        save_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n\niris_data_set<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>iris<span class=\"token punctuation\">)</span>\nreloaded_iris <span class=\"token operator\">=</span> iris_data_set<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">cars</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> JSONLocalDataSet\n   <span class=\"token key atrule\">filepath</span><span class=\"token punctuation\">:</span> iris.json</code></pre></div>\n<h2>ParquetLocalDataSet</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> ParquetLocalDataSet\n\niris <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'https://raw.githubusercontent.com/quantumblacklabs/kedro/d3218bd89ce8d1148b1f79dfe589065f47037be6/kedro/template/%7B%7B%20cookiecutter.repo_name%20%7D%7D/data/01_raw/iris.csv'</span><span class=\"token punctuation\">)</span>\n\niris_data_set <span class=\"token operator\">=</span> ParquetLocalDataSet<span class=\"token punctuation\">(</span><span class=\"token string\">'iris'</span><span class=\"token punctuation\">,</span>\n                           engine<span class=\"token operator\">=</span><span class=\"token string\">'auto'</span><span class=\"token punctuation\">,</span>\n                           load_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n                           save_args<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n                           version<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n\niris_data_set<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>iris<span class=\"token punctuation\">)</span>\nreloaded_iris <span class=\"token operator\">=</span> iris_data_set<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">cars</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> JSONLocalDataSet\n   <span class=\"token key atrule\">filepath</span><span class=\"token punctuation\">:</span> cars</code></pre></div>\n<p>PickleS3DataSet</p>\n<p>SQLTableDataSet</p>\n<p>SQLQueryDataSet</p>\n<p>TextLocalDataSet</p>\n<p>ExcelLocalDataSet</p>\n<h2>⏳ Loading Data</h2>\n<p><img src=\"../../battlecreek-coffee-roasters-eg6OUchGCsw-unsplash.jpg\" alt=\"loading data\">\n<em>Photo by Battlecreek Coffee Roasters on Unsplash</em></p>\n<h3>Simple Loading</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df <span class=\"token operator\">=</span> catalog<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>list all datasets</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">catalog<span class=\"token punctuation\">.</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Saving Data</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">catalog<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">'cars'</span><span class=\"token punctuation\">,</span> cars<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>🔍 Finding data</h3>\n<p><strong>simple keyword search</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">query <span class=\"token operator\">=</span> <span class=\"token string\">'raw'</span>\n<span class=\"token punctuation\">[</span>data <span class=\"token keyword\">for</span> data <span class=\"token keyword\">in</span> catalog<span class=\"token punctuation\">.</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> query <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">]</span></code></pre></div>\n<p><em>see on</em> <a href=\"https://twitter.com/_WaylonWalker/status/1197130980659732480?s=20\"><em>#kedrotips</em></a></p>\n<p><strong>multi keyword serch</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">query <span class=\"token operator\">=</span> <span class=\"token string\">'raw sales'</span>\ndata_sets <span class=\"token operator\">=</span> catalog<span class=\"token punctuation\">.</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> word <span class=\"token keyword\">in</span> query<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\tdata_sets <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n       data\n       <span class=\"token keyword\">for</span> data <span class=\"token keyword\">in</span> data_sets\n       <span class=\"token keyword\">if</span> query <span class=\"token keyword\">in</span> data\n       <span class=\"token punctuation\">]</span></code></pre></div>\n<p><em>see on</em> <a href=\"https://twitter.com/_WaylonWalker/status/1197528461587419139?s=20\"><em>#kedrotips</em></a></p>\n<p><strong>🐒 monkey patch it</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>search_terms<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n     data_sets <span class=\"token operator\">=</span> catalog<span class=\"token punctuation\">.</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n     <span class=\"token keyword\">for</span> search <span class=\"token keyword\">in</span> search_terms<span class=\"token punctuation\">:</span>\n         data_sets <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n         data\n         <span class=\"token keyword\">for</span> data <span class=\"token keyword\">in</span> data_sets\n         <span class=\"token keyword\">if</span> search <span class=\"token keyword\">in</span> data\n         <span class=\"token punctuation\">]</span>\n     <span class=\"token keyword\">return</span> data_sets\n\ncatalog<span class=\"token punctuation\">.</span>query <span class=\"token operator\">=</span> query</code></pre></div>\n<p><em>see on [#kedrotips](<a href=\"https://twitter.com/\">https://twitter.com/</a></em>WaylonWalker/status/1197855759507300352?s=20)</p>\n<h3>🤙 YOLO</h3>\n<p><em>You Only Load Once</em></p>\n<p><strong>simple</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>catalog<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">for</span> d <span class=\"token keyword\">in</span>\n        catalog<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string\">'c_pri'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">]</span></code></pre></div>\n<p><strong>more refined</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n   d<span class=\"token punctuation\">:</span> catalog<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">for</span> d <span class=\"token keyword\">in</span> catalog<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string\">'c_pri'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>🍷 refined like a fine wine</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> types <span class=\"token keyword\">import</span> SimpleNamespace\ndata <span class=\"token operator\">=</span> SimpleNamespace<span class=\"token operator\">**</span><span class=\"token punctuation\">{</span>\n   d<span class=\"token punctuation\">:</span> catalog<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">for</span> d <span class=\"token keyword\">in</span> catalog<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string\">'c_pri'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>🧀 Make it a function</strong>\n<em>getting funcy</em></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> types <span class=\"token keyword\">import</span> SimpleNamespace\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">yolo</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>search_terms<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n   <span class=\"token triple-quoted-string string\">\"\"\"you only load once\n   using query method from previous tip\"\"\"</span>\n   data <span class=\"token operator\">=</span> SimpleNamespace<span class=\"token punctuation\">(</span><span class=\"token operator\">**</span><span class=\"token punctuation\">{</span>\n       d<span class=\"token punctuation\">:</span> catalog<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">for</span> d <span class=\"token keyword\">in</span> catalog<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>search_terms<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> data\n\nall_pri <span class=\"token operator\">=</span> yolo<span class=\"token punctuation\">(</span><span class=\"token string\">'c_pri'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>🐒 monkey patch it</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> functools <span class=\"token keyword\">import</span> partial\n\ncatalog<span class=\"token punctuation\">.</span>yolo <span class=\"token operator\">=</span> yolo\ncatalog<span class=\"token punctuation\">.</span>yolo<span class=\"token punctuation\">.</span>__doc__ <span class=\"token operator\">=</span> <span class=\"token string\">\"you only load once\"</span>\n\nall_pri <span class=\"token operator\">=</span> catalog<span class=\"token punctuation\">.</span>yolo<span class=\"token punctuation\">(</span><span class=\"token string\">'c_pri'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>adding catalogs together</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> DataCatalog\nDataCatalog<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token operator\">**</span>cat1<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">[</span><span class=\"token string\">'_data_sets'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>cat2<span class=\"token punctuation\">.</span>__dict__<span class=\"token punctuation\">[</span><span class=\"token string\">'_data_sets'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>🛢 Building pipelines</h2>\n<p><img src=\"../../roman-pentin-T5QT2bmiD4E-unsplash.jpg\" alt=\"building pipelines\">\n<em>Photo by roman pentin on Unsplash</em></p>\n<h3>📍 Creating Nodes</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>pipeline <span class=\"token keyword\">import</span> node\nnode <span class=\"token operator\">=</span> node<span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">.</span>dropna<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> inputs<span class=\"token operator\">=</span><span class=\"token string\">'raw_cars'</span><span class=\"token punctuation\">,</span> outputs<span class=\"token operator\">=</span><span class=\"token string\">'int_cars'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>pipeline <span class=\"token keyword\">import</span> node\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">drop_columns</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>columns<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n   <span class=\"token keyword\">for</span> column <span class=\"token keyword\">in</span> columns<span class=\"token punctuation\">:</span>\n      df <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>drop<span class=\"token punctuation\">(</span>columns<span class=\"token operator\">=</span>column<span class=\"token punctuation\">)</span>\n   <span class=\"token keyword\">return</span> df\n\nnode <span class=\"token operator\">=</span> node<span class=\"token punctuation\">(</span>\n   <span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> drop_columns<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> <span class=\"token string\">'vs'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'am'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gear'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'carb'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n   inputs<span class=\"token operator\">=</span><span class=\"token string\">'int_cars'</span><span class=\"token punctuation\">,</span>\n   outputs<span class=\"token operator\">=</span><span class=\"token string\">'pri_cars'</span>\n   <span class=\"token punctuation\">)</span></code></pre></div>\n<h3>🛢 Creating a pipeline</h3>\n<h3>Don't be so verbose</h3>\n<p>Create similar nodes dynamically</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">halve_dataframe</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span>pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n   <span class=\"token triple-quoted-string string\">\"\"\" splits a dataframe in half \"\"\"</span>\n    <span class=\"token keyword\">return</span> np<span class=\"token punctuation\">.</span>array_split<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\nnodes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\ndatasets <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n   <span class=\"token string\">'cars'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'trucks'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'boats'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'motorcycles'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'planes'</span><span class=\"token punctuation\">,</span>\n   <span class=\"token string\">'ships'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'busses'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'trains'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'subways'</span>\n   <span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># creates a pipeline node for every dataset in the datasets list</span>\n<span class=\"token keyword\">for</span> dataset <span class=\"token keyword\">in</span> datasets\n   nodes<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>\n       node<span class=\"token punctuation\">(</span>halve_dataframe<span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'e_modin_{dataset}'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">[</span><span class=\"token string\">'train_{dataset}'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test_{dataset}'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">)</span></code></pre></div>\n<h2>🏃‍♂️ Running Pipelines</h2>\n<p><img src=\"../../rodion-kutsaev-xNdPWGJ6UCQ-unsplash.jpg\" alt=\"running pipelines\">\n<em>Photo by Rodion Kutsaev on Unsplash</em></p>\n<p><strong>🔖 filter by tags</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">nodes <span class=\"token operator\">=</span> pipeline<span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>see on</em> <a href=\"https://twitter.com/_WaylonWalker/status/1195319044808888321?s=20\"><em>#kedrotips</em></a></p>\n<p><strong>filter by node</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">nodes <span class=\"token operator\">=</span> pipeline<span class=\"token punctuation\">.</span>only_nodes<span class=\"token punctuation\">(</span><span class=\"token string\">'b_int_cars'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>see on [#kedrotips](<a href=\"https://twitter.com/\">https://twitter.com/</a></em>WaylonWalker/status/1196406204479737856?s=20)</p>\n<p><strong>filter nodes like</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">query_string <span class=\"token operator\">=</span> <span class=\"token string\">'cars'</span>\nnodes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n   node<span class=\"token punctuation\">.</span>name\n   <span class=\"token keyword\">for</span> node <span class=\"token keyword\">in</span> pipeline<span class=\"token punctuation\">.</span>nodes\n   <span class=\"token keyword\">if</span> query_string <span class=\"token keyword\">in</span> node<span class=\"token punctuation\">.</span>name\n   <span class=\"token punctuation\">]</span>\npipeline<span class=\"token punctuation\">.</span>only_nodes<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>nodes<span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>see on</em> <a href=\"https://twitter.com/_WaylonWalker/status/1196813895228428288?s=20\"><em>#kedrotips</em></a></p>\n<p><strong>only nodes with tags</strong> <em>or</em></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">nodes <span class=\"token operator\">=</span> pipeline<span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'cars'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'trains'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>only nodes with tags</strong> <em>and</em></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">raw_nodes <span class=\"token operator\">=</span> pipeline<span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'raw'</span><span class=\"token punctuation\">)</span>\ncar_nodes <span class=\"token operator\">=</span> pipeline<span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span>\nraw_car_nodes <span class=\"token operator\">=</span> raw_nodes <span class=\"token operator\">&amp;</span> car_nodes</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">raw_nodes <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n   pipeline\n   <span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'raw'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>add pipelines</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">car_nodes <span class=\"token operator\">=</span> pipeline<span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span>\ntrain_nodes <span class=\"token operator\">=</span> pipeline<span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'trains'</span><span class=\"token punctuation\">)</span>\ntransportation_nodes <span class=\"token operator\">=</span> car_nodes <span class=\"token operator\">+</span> train_nodes</code></pre></div>\n<p><strong>ensure nodes are attached</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">cars_attached <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>\n   pipeline\n   <span class=\"token punctuation\">.</span>only_nodes_with_tags<span class=\"token punctuation\">(</span><span class=\"token string\">'cars'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">.</span>grouped_nodes\n   <span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span></code></pre></div>\n<h3>🎂 Pipeline Decorators</h3>\n<p><a href=\"https://kedro.readthedocs.io/en/latest/_modules/kedro/pipeline/decorators.html#log_time\">example - log_time</a></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>pipeline<span class=\"token punctuation\">.</span>decorators <span class=\"token keyword\">import</span> log_time<span class=\"token punctuation\">,</span> mem_profile\npipeline<span class=\"token punctuation\">.</span>decorate<span class=\"token punctuation\">(</span>log_running_time<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Pipeline IO</h2>\n<p><code class=\"language-text\">pipleine.all_inputs()</code> and <code class=\"language-text\">pipeline.all_outputs()</code> return sets of pipeline inputs and outputs and you can do set operations on them.  This is particularly useful to find the upper and lower edges of your pipeline or subset of pipeline.  The pipeline object here is any <code class=\"language-text\">kedro</code> pipeline including a filtered subset.</p>\n<h3>Find all raw data</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pipeline<span class=\"token punctuation\">.</span>all_inputs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> pipeline<span class=\"token punctuation\">.</span>all_outputs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Find all final data</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pipeline<span class=\"token punctuation\">.</span>all_outputs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> pipeline<span class=\"token punctuation\">.</span>all_inputs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Find all nodes that do not raw</h3>\n<p>This one is probably one that is pushing the limits of what I would do in a list comprehension that I use in prod or even put into a text editor, but I commonly use ipython for my adhoc work and keeping it all in one line is very handy.  Complex list comprehensions kinda start becoming like regex in a way that they are really easy to write and really hard to read.  I don't think this one quite hits that point but its getting close.</p>\n<p>I find this one super useful to help me either move data beween environments, or avoid unnecessary database calls.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">raw_inputs <span class=\"token operator\">=</span> pipeline<span class=\"token punctuation\">.</span>all_inputs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> pipeline<span class=\"token punctuation\">.</span>all_outputs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nraw_nodes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>node <span class=\"token keyword\">for</span> node <span class=\"token keyword\">in</span> pipeline<span class=\"token punctuation\">.</span>nodes <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> raw_inputs <span class=\"token keyword\">if</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>inputs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span></code></pre></div>","fields":{"slug":"/kedro/"},"frontmatter":{"date":"2019-11-02T05:00:00.000Z","title":"Kedro","description":"My Notes about using kedro","status":"published","cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg","xsm_img":{"fixed":{"src":"/static/f48dce503132977a7ff910e8764b1a39/2c7f8/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg","srcWebp":"/static/f48dce503132977a7ff910e8764b1a39/f6b6d/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.webp"}},"sm_img":{"fixed":{"src":"/static/f48dce503132977a7ff910e8764b1a39/9dc27/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg","srcWebp":"/static/f48dce503132977a7ff910e8764b1a39/403a4/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.webp"}},"med_img":{"fixed":{"src":"/static/f48dce503132977a7ff910e8764b1a39/0f3a1/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg","srcWebp":"/static/f48dce503132977a7ff910e8764b1a39/e9589/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.webp"}},"full":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHHkJUD/8QAFhABAQEAAAAAAAAAAAAAAAAAAAER/9oACAEBAAEFAozFf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAQIf/aAAgBAQAGPwIq/8QAGBAAAgMAAAAAAAAAAAAAAAAAABEBITH/2gAIAQEAAT8hLQszR//aAAwDAQACAAMAAAAQj/8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qh//EABgQAAMBAQAAAAAAAAAAAAAAAAABETFB/9oACAEBAAE/EGUKmh1dIo//2Q==","width":1000,"height":420,"src":"/static/f48dce503132977a7ff910e8764b1a39/9cf42/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg","srcSet":"/static/f48dce503132977a7ff910e8764b1a39/9cf42/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg 1x"},"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHHkJUD/8QAFhABAQEAAAAAAAAAAAAAAAAAAAER/9oACAEBAAEFAozFf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAQIf/aAAgBAQAGPwIq/8QAGBAAAgMAAAAAAAAAAAAAAAAAABEBITH/2gAIAQEAAT8hLQszR//aAAwDAQACAAMAAAAQj/8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qh//EABgQAAMBAQAAAAAAAAAAAAAAAAABETFB/9oACAEBAAE/EGUKmh1dIo//2Q==","aspectRatio":2.380952380952381,"src":"/static/f48dce503132977a7ff910e8764b1a39/9cf42/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg","srcSet":"/static/f48dce503132977a7ff910e8764b1a39/ff9d4/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg 250w,\n/static/f48dce503132977a7ff910e8764b1a39/2dc04/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg 500w,\n/static/f48dce503132977a7ff910e8764b1a39/9cf42/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg 1000w,\n/static/f48dce503132977a7ff910e8764b1a39/48be0/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg 1200w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"fb9f98c2-2a4e-50ad-8ab7-5decac03b11f","prev":{"id":"f1fb8706-9daf-5077-b809-7377e4d3a9a2","html":"<p><a href=\"https://github.com/WaylonWalker/kedro-static-viz\">kedro-static-viz</a> is out with support for the newly released hooks feature.  This means that you can have <code class=\"language-text\">kedro-static-viz</code> automatically deploy a full gatsby site <code class=\"language-text\">before_pipeline_run</code> keeping your visualization always up to date.</p>\n<p>Even though it is a static site there is no functionality lost.  The only thing that's missing is the flask server.  With <a href=\"https://github.com/WaylonWalker/kedro-static-viz\">kedro-static-viz</a> you can deploy your visualization to a number of static hosting providers such as GitHub pages free of charge with wicked fast performance</p>\n<h2>⚡ It's Fast</h2>\n<p>Even though it's built on gatsbyjs the full site builds in under 2s even on slower hardware.  This is because the site is already pre-rendered and stripped of any excess.  It's zipped up right into the python package and is typically used with the cli, but now can be used with python, or as a hook as well.</p>\n<blockquote>\n<h3>What is <a href=\"https://github.com/quantumblacklabs/kedro-viz\">kedro-viz</a> 🤔</h3>\n</blockquote>\n<p>Kedro viz is a fantastic kedro plugin that allows you to visualize your data pipeline.  Kedro allows you to quickly build production-ready pipelines where you just configure a catalog, then toss python functions into a big pile.  Kedro figures out the order everything needs ran in for you, allows you to run a datasets dependencies or dependents only.  <a href=\"https://github.com/quantumblacklabs/kedro-viz\">kedro-viz</a> gives you a great way to see this ordering visually.</p>\n<p><img src=\"https://waylonwalker.com/pipeline_visualisation-1.png\" alt=\"a visualization of a kedro data pipeline featuring data and functions flowing together.\" title=\"kedro visualization\"></p>\n<blockquote>\n<p>kedro visualization from the projects readme</p>\n</blockquote>\n<h2>Check out a live running example</h2>\n<p>Using the power of GitHub actions the I have built a kedro iris pipeline visualization that can be found on <a href=\"https://static-viz.kedro.dev/\">https://static-viz.kedro.dev/</a></p>\n<h2>Itching to get started with kedro</h2>\n<p>You can be up and running in a matter of minutes if you already have python running on your machine.</p>\n<p>Make a virtual environment with your environment manager of choice.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">conda create <span class=\"token operator\">-</span>n kedro<span class=\"token operator\">-</span>practice python<span class=\"token operator\">=</span><span class=\"token number\">3.8</span> <span class=\"token operator\">-</span>y\nconda activate kedro<span class=\"token operator\">-</span>practice</code></pre></div>\n<p>Install kedro. Then create a new project with their awesome cli template built on cookiecutter. Make sure to answer <code class=\"language-text\">y</code> to get a prebuilt example pipeline with data.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pip install kedro kedro-static-viz\nkedro new</code></pre></div>\n<h2>Vizualize your pipeline with the cli 〽</h2>\n<p>For local use when you already have the full project <code class=\"language-text\">kedro viz</code> is a great tool to use, but this is an article about kedro-static-viz.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">kedro<span class=\"token operator\">-</span>static<span class=\"token operator\">-</span>viz static<span class=\"token operator\">-</span>viz</code></pre></div>\n<p>Since we used <code class=\"language-text\">kedro-static-viz</code> you will have a new directory called <code class=\"language-text\">public</code> that you can host on any static web hosting service, like GitHub pages or Netlify.</p>\n<h2>Ready to try out the new hooks feature 🙋‍♀️</h2>\n<p>Open up your <code class=\"language-text\">&lt;project&gt;/src/run.py</code> and add the hook to your <code class=\"language-text\">ProjectContext</code> class.  Next time you run your pipeline you will have an updated pipeline.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> kedro_static_viz<span class=\"token punctuation\">.</span>hooks <span class=\"token keyword\">import</span> StaticViz\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ProjectContext</span><span class=\"token punctuation\">(</span>KedroContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n   project_name <span class=\"token operator\">=</span> <span class=\"token string\">\"kedro0160\"</span>\n   project_version <span class=\"token operator\">=</span> <span class=\"token string\">\"0.16.1\"</span>\n   package_name <span class=\"token operator\">=</span> <span class=\"token string\">\"kedro0160\"</span>\n   hooks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> StaticViz<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span></code></pre></div>\n<h2>Now Run that pipeline 🏃‍♀️</h2>\n<p>Run your pipeline and enjoy that fresh kedro viz each and every time you run your pipeline.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kedro run</code></pre></div>\n<h2>Want to make your own hooks 🎣</h2>\n<p>Check out some of my other articles on building kedro hooks.</p>\n<p><a href=\"https://waylonwalker.com/kedro-class-hooks/\"><img src=\"https://waylonwalker.com/configurable-kedro-hooks.png\" alt=\"creating customizable kedro hooks\"></a></p>\n<p><a href=\"https://waylonwalker.com/creating-the-kedro-preflight-hook/\"><img src=\"https://waylonwalker.com/kedro-hooks.png\" alt=\"creating the kedro preflight hook\"></a></p>\n<p>Check out the example 👉 <a href=\"https://static-viz.kedro.dev/\">https://static-viz.kedro.dev/</a></p>","fields":{"slug":"/kedro-static-viz-0-3-0/"},"frontmatter":{"tags":[],"title":"Kedro Static Viz 0.3.0 is out with Hooks Support","description":"kedro-static-viz is out with support for the newly released hooks feature.  This means that you can have `kedro-static-viz` automatically deploy a full gatsby site `before_pipeline_run` keeping your visualization always up to date.","templateKey":"blog-post","status":"published","date":"2020-05-28T05:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVQY0wHoARf+ABoiMCcsNqaooHFzex4nMRMaJx8oNDA0Pw4ZIxYfLSgoODAwQS8vPzEvPjM0RDE3Rj06Qjg7Qzk6QTY3PAAZIS8mLTXe2cVqbncxOkQqMT4oMD1na3McJzIZIi4gJTIqLTwtLUApKT4zNUQyN0Y5OUM3OkM4OkE1Nz0AFSAuKTI85+PVbnV9rbC1m5+llJie09XXfIKKoaWvRUlgDRcsKy4/TEhAkX5EinpDMjVAPj4/NTg+NDY8ABchLiYtOktRXFlgaXZ8g2Jpc4yRmJKYokdMU+Dby6iXZm5iNUZBQoFwQ4l4QmxiQU1IP0xJPTs8Oi8yOQAaIzASIS8JGioNFygNGCgVHykYISk6PjCGejSgjzlwaTFPUDMnLDseJTowMT0zNDwzNDswMzotMjssLzYAFCMwOCYvSDAyQ0g3koI9ins9TU40VUdCfFpTZkBaVTFaVjBbgkR1ikh5UDhTKS46LCw1LiwhNzs5Njc4AA4eLIBlaMmcaYR6OGtjNzM3MxUlKFIvWLZNmb1Rm3U+apBGe4xFfOdiuj0yRiovOi8rIh4dGTUuGj07NQAYIjAbKTEpMzIXIC4OGi4VHy8OHypBL0iiTIapTYyRRn2RRn2hS4emTYttPmYwMT4oKS4TEg8eHyIfJzOwhov7CxxxpAAAAABJRU5ErkJggg==","width":500,"height":210,"src":"/static/9456ee4b2539231ffaff41415a2a03b7/46604/kedro-static-viz-0-3-0-xmas2020.png","srcSet":"/static/9456ee4b2539231ffaff41415a2a03b7/46604/kedro-static-viz-0-3-0-xmas2020.png 1x,\n/static/9456ee4b2539231ffaff41415a2a03b7/d8815/kedro-static-viz-0-3-0-xmas2020.png 1.5x,\n/static/9456ee4b2539231ffaff41415a2a03b7/31987/kedro-static-viz-0-3-0-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMElEQVQozwElAtr9ABwjMCYsNbO0qIqLki82QBYeKxUeKj5DThogKw8cJhYbKiksOjAuQS0vPjEvPjQ1RTE3Rz46Qzk8RDs6QgAYIjAlLDXZ2cSCh40nMDtHT1kIEiB1e4I8Q00ZJDAXHyseJTMqLD0sLT8nKT40NUY5PEc4OEQ3OkQ4OkMAFiAuKDA75eHSgYaNjpSay87RcHZ+1NXXrbG2h4yUqKm1HyQ8FiAyLi9AVU8/moZEjXtDMTVAPz8/Nzo+ABghLiMtOVBXYFdeZ32CiXp/hnuAh7O3vlhfa3uBiObfzH9xPmFZO0I9Qo98QpiEQ3BlQU1JP05KPkRDOwAaIzAWIzENGyoSGykJFScIFCYOGCgvNTVZVzOolT6dkTp6cTFSUzQjKjogKTczNTs0NDw6OTowMzsuMjsAFyQxIx4nJh0pICsybWU4fHE7cGc5MzcwiGtKWk89bEVXMCVEVzFeaz5nb0BoTTZSKS46Ky07LiskMDg7AAsdK4pkZ9KRaY2DOKWQPVtWNkBBMw8cLpxHh6ZHj51Hh288Z4pEd5hKhtZdrTAvPisvPDAsJickGjIsGwAVHy00P0ViY0k0ODAYIy8QHC8RHS8WIi2gSobSWaagSoamS4qNRHvDVJ3VW6pjPWAtMD0rKikUExIdGxcAGSMwExwqDBcqEx4vFyEvGSMvGiMvFiEuQC5IUjNVZzliUzRVUDNTUDJTMCk/RDBLLC07Ki46GBocGB0kB7mdwUJ99HcAAAAASUVORK5CYII=","width":200,"height":85,"src":"/static/9456ee4b2539231ffaff41415a2a03b7/71e30/kedro-static-viz-0-3-0-xmas2020.png","srcSet":"/static/9456ee4b2539231ffaff41415a2a03b7/71e30/kedro-static-viz-0-3-0-xmas2020.png 1x,\n/static/9456ee4b2539231ffaff41415a2a03b7/24123/kedro-static-viz-0-3-0-xmas2020.png 1.5x,\n/static/9456ee4b2539231ffaff41415a2a03b7/492a0/kedro-static-viz-0-3-0-xmas2020.png 2x"}}}}},"next":{"id":"b7c18bc5-14f5-52ad-a94f-d675ec2c72bc","html":"<p>Vim's (neovim in my case) location list can provide some very useful information while developing.  Mine gives me information about linting and type checking errors with fairly little config.  Generally, it sits nicely at the bottom of the screen and barely affects me.  Other times, especially while zoomed way in during a presentation, it just gets in the way.</p>\n<p><img src=\"https://waylonwalker.com/location-list-eats-screen.png\" alt=\"location list eats the screen\"></p>\n<blockquote>\n<p>Location List eating up the screen while I am zoomed in and trying to live code</p>\n</blockquote>\n<h2>Toggling the location list</h2>\n<p>Through some google search I found the culprit was syntastic.  It has an <code class=\"language-text\">auto_loc_list</code> feature.  We can turn it off by setting\n<code class=\"language-text\">syntastic_auto_loc_list=0</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> syntastic_auto_loc_list<span class=\"token operator\">=</span><span class=\"token number\">0</span></code></pre></div>\n<h2>Keybindings</h2>\n<p>I want to keep the location list open automatically most of the time, but when I don't want it to keep opening it's generally detrimental.  Trying to live code while the location list keeps taking up the whole screen is not cool.</p>\n<p>First, create a function that will toggle both the location list and syntactic together.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> s<span class=\"token punctuation\">:</span>syntastic_auto_loc_list <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">!</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">ToggleLocationList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> s<span class=\"token punctuation\">:</span>syntastic_auto_loc_list <span class=\"token operator\">==</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">let</span> s<span class=\"token punctuation\">:</span>syntastic_auto_loc_list <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">let</span> syntastic_auto_loc_list <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token punctuation\">:</span><span class=\"token keyword\">lclose</span>\n    <span class=\"token keyword\">else</span>\n        <span class=\"token keyword\">let</span> s<span class=\"token punctuation\">:</span>syntastic_auto_loc_list <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">let</span> syntastic_auto_loc_list <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">:</span><span class=\"token keyword\">lopen</span>\n    <span class=\"token keyword\">endif</span>\n<span class=\"token keyword\">endfunction</span></code></pre></div>\n<p>This binding will allow me to use <code class=\"language-text\">gtl</code> from normal mode to toggle the location list.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token punctuation\">:</span>command<span class=\"token operator\">!</span> ToggleLocationList <span class=\"token punctuation\">:</span><span class=\"token keyword\">call</span> s<span class=\"token punctuation\">:</span><span class=\"token function\">ToggleLocationList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nnnoremap <span class=\"token builtin\">gtl</span> <span class=\"token punctuation\">:</span>ToggleLocationList<span class=\"token operator\">&lt;</span>CR<span class=\"token operator\">></span></code></pre></div>\n<p>I am starting a set of <strong>toggle</strong> keymaps under the <code class=\"language-text\">gt</code> keybinding, this one is the second one after a keybinding made to toggle paste mode.</p>","fields":{"slug":"/keep-location-list-closed/"},"frontmatter":{"tags":["vim"],"title":"Keep Location List Closed","description":"Vim's (neovim in my case) location list can provide some very useful information while developing. Mine gives me inform","templateKey":"blog-post","status":"published","date":"2020-01-01T00:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVQY0yWRW2/TQBCF/cZj20Q0xJc4jbOx15fdWdt1fE2cKmkoalpawqUi5QEJtUhVH5BQEhAoQFt4AfEEf4QfyFCk0ejsaD6d3bOS1hY6AbkjGm2hdQC7jBODy4SrbWHRhPOSsz6wAiBjfhHwhPupEDGIroQbKhEy8VUDlDbgUTaE2uJ15A2uk8Byc8ZK9g8umMiBJ0ykXMRcRBL61A2oNT3kFeLfQ6wFOETR7ESOWyqG73o9j/epk3o8Q55B6kKXIYykRnwL8g2VbihU6wS1LbZWNysa3dQ9dSswnITauWWnvf7E47lBhO1GHsQMImlTd83twfXP32cXb88vF+PDk8XH67PL+fzD1Zvlanr6avbyYvnu5vns9Zer7zdffyyWq+X7T9104LBQqrSAN9zH5V6yezTaf0L93mBvWoweJjsT7H42ZvFw/OBZlu8Pd4+Pjk8fTV8cHD6FIPXQuWnBn2+fVyfnd2qkqtK7urcmm+uKhU9Yl62qZlc0u9ZgtpNbNCZmSMzApAHDa2PajPNf89kkO6jqHgaGEci3v/Vf1G8FVtMMfSjTcDjYvt+PRkWwY5jhX9cgZcOVjYmOAAAAAElFTkSuQmCC","width":500,"height":210,"src":"/static/8dbc13e5356fbb2c18d01b6ea40e0c61/46604/keep-location-list-closed-xmas2020.png","srcSet":"/static/8dbc13e5356fbb2c18d01b6ea40e0c61/46604/keep-location-list-closed-xmas2020.png 1x,\n/static/8dbc13e5356fbb2c18d01b6ea40e0c61/d8815/keep-location-list-closed-xmas2020.png 1.5x,\n/static/8dbc13e5356fbb2c18d01b6ea40e0c61/31987/keep-location-list-closed-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1klEQVQoz32QS2/TUBCFvWDZlqqEJn7Eqe3rV+x771w7tWvHTnFJK6qqKgpRkaKUIhIF0qQoD5BKJCrYdMMiO5BY8F/4ZziAWCLN4tPonNGcw8k6CAYrIyYbUEaeiEDSQEaE16GiMcuJgWSY7gNOGdSxl/okpl4EEFEWcrmaR0zQIAdRAwFBzoJGSxrlVSrrvu0kmOwTkhKaYEiAxoRFBPZWZl6DkkIFxETd+8f5uaJKbPeRWW2IyCMkc0mj6sSYJpQlBGIX9giEXC4tm/59wVwv6gXZLal0bRutl/QtyS6IrqT5ihkYZmQ79SA8NO1QRVS3vL9mEh/dLb92e+P+6F123B6M3/eGs27venbzaTxbJIdnw7c309nt09aL5fLbx9u7128mHxafs+aJ7XicUnHbx632xeDVcBofnJ6dv7zoj591+q1O/3Iw8dMnJ61urz9NG6edzmB4Nb8azUejeZw0HVzjvl9Pvpxf3nuINnmzUHHz/9eKaIM3NvgVPJCdTdGSdpjjpoYVqLq3g6iiEwvXSF7Yzx+L+fPxluSKOssDC7+bF/7UjlYbfsXMdOJd7yDyHzd2j9JaMwuajNa5pAYGotsKzXX/H80KMK4zmmISm9VQ1Ngvn0dyl2RnjAIAAAAASUVORK5CYII=","width":200,"height":85,"src":"/static/8dbc13e5356fbb2c18d01b6ea40e0c61/71e30/keep-location-list-closed-xmas2020.png","srcSet":"/static/8dbc13e5356fbb2c18d01b6ea40e0c61/71e30/keep-location-list-closed-xmas2020.png 1x,\n/static/8dbc13e5356fbb2c18d01b6ea40e0c61/24123/keep-location-list-closed-xmas2020.png 1.5x,\n/static/8dbc13e5356fbb2c18d01b6ea40e0c61/492a0/keep-location-list-closed-xmas2020.png 2x"}}}}},"similarPosts":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}},"staticQueryHashes":["2992646504"]}