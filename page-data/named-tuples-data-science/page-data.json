{"componentChunkName":"component---src-templates-blog-post-js","path":"/named-tuples-data-science/","result":{"data":{"markdownRemark":{"id":"5655d4a4-0c38-5d4e-bcc2-414a0bb74ed5","html":"<p>If you are a regular listener of <a href=\"https://talkpython.fm\">TalkPython</a> or PythonBytes you have hear Michael Kennedy talk about Named Tuples many times, but what are they and how do they fit into my data science workflow.</p>\n<h2>Example</h2>\n<p>As you graduate your scripts into modules and libraries you might start to notice that you need to pass a lot of data around to all of the functions that you have created. For example if you are running some analysis utilizing <code class=\"language-text\">sales</code>, <code class=\"language-text\">inventory</code>, and <code class=\"language-text\">pricing</code> data.  You may need to calculate total revenue, inventory on hand.  You may need to pass these data sets into various models to drive production or pricing based on predicted volumes.</p>\n<h2>Load data</h2>\n<p>Here we setup functions that can load data from the sales database.  Assume that we also have similar functions to <code class=\"language-text\">get_inventory</code> and <code class=\"language-text\">get_pricing</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">get_engine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    engine <span class=\"token operator\">=</span> create_engine<span class=\"token punctuation\">(</span><span class=\"token string\">'postgresql://scott:tiger@localhost:5432/mydatabase'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_sales</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">'''\n    gets sales history from the sales database\n    '''</span>\n    engine <span class=\"token operator\">=</span> get_engine<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">with</span> engine<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> con<span class=\"token punctuation\">:</span>\n        sql <span class=\"token operator\">=</span> <span class=\"token triple-quoted-string string\">'''select * from sales.history'''</span>\n        df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_sql<span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">,</span> con<span class=\"token punctuation\">)</span>\n    engine<span class=\"token punctuation\">.</span>dispose<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> df\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_inventory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_pricing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<h3>Create Metrics</h3>\n<p>Here we create our first function to calculate some metrics.  There are likely many of these functions that repeat a similar pattern.  They use similar data and have their own custom logic for calculations and joins.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">calculate_total_revenue</span><span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"calculates the total sales revenue for all of company XYZ\"\"\"</span>\n    sales <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>pricing<span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> on<span class=\"token operator\">=</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span>\n    sales<span class=\"token punctuation\">[</span><span class=\"token string\">'revenue'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'qty'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'price'</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'revenue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">calculate_inventory_sale_ratio</span><span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">calculate_inventory_sale_ratio</span><span class=\"token punctuation\">(</span>inventory<span class=\"token punctuation\">,</span> sales<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>Furthermore these functions will need to be called somewhere, this might be in a <code class=\"language-text\">make_report()</code> function that puts this data into an html template to be sent out to stakeholders, or to be served on a website. Notice how we have the same data showing up time and time again.  And sometimes we even ask for it in a different order 😲.It is important to recognize this early in the project before this gets our of hand.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">make_report</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Makes stakeholder report for company XYZ\"\"\"</span>\n    sales <span class=\"token operator\">=</span> get_sales<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    inventory <span class=\"token operator\">=</span> get_inventory<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    pricing <span class=\"token operator\">=</span> get_pricing<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    revenue <span class=\"token operator\">=</span> calculate_total_revenue<span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">)</span>\n    sales_ratio <span class=\"token operator\">=</span> inventory_sale_ratio<span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">)</span>\n    inventory_sale_ratio<span class=\"token punctuation\">(</span>inventory<span class=\"token punctuation\">,</span> sales<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>getting out of hand</h3>\n<p>Along the way our features, models, and out supervisors have all had their own needs and we have added new datasets, and several flags. This is the point at which anxiety starts creeping in.  We start spending a lot of time double checking the order of each call to make sure that we dont make a mistake.  And when someone else touches this model, we know what it looks like and cant help but think, \"Oh God I hope they didn't screw up that horrid module!\"</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">calculate_total_revenue</span><span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">,</span> stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    sales <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sales\n                <span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>pricing<span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> on<span class=\"token operator\">=</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>inventory<span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> on<span class=\"token operator\">=</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n    sales<span class=\"token punctuation\">[</span><span class=\"token string\">'revenue'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'qty'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'price'</span><span class=\"token punctuation\">]</span>\n    sales  <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'price > </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>min_price<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n    sales  <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'sale_date > </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>min_date<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n    sales  <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'sale_date &lt; </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>end_date<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'revenue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">calculate_inventory_sale_ratio</span><span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">,</span> stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">calculate_inventory_sale_ratio</span><span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">,</span> stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">model_new_prices</span><span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">,</span> stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">model_production</span><span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">,</span> stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">completely_custom_metric_for_steve</span><span class=\"token punctuation\">(</span>sales<span class=\"token punctuation\">,</span> pricing<span class=\"token punctuation\">,</span> inventory<span class=\"token punctuation\">,</span> stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Steve has been here 30 years and doesnt trust our metrics unless he can validate against the old metrics\"\"\"</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>It gets even crazier when you start calling all of these functions! Note that we have a common theme of the same data getting passed into</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">make_report</span><span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">,</span> is_for_steve<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Makes stakeholder report for company XYZ\"\"\"</span>\n    sales <span class=\"token operator\">=</span> get_sales<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    inventory <span class=\"token operator\">=</span> get_inventory<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    pricing <span class=\"token operator\">=</span> get_pricing<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    revenue <span class=\"token operator\">=</span> calculate_total_revenue<span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span>\n    sales_ratio <span class=\"token operator\">=</span> sales_ratio <span class=\"token operator\">=</span> inventory_sale_ratio<span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span>\n    inventory_sale_ratio <span class=\"token operator\">=</span> inventory_sale_ratio<span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span>\n    predicted_prices <span class=\"token operator\">=</span> model_new_prices<span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span>\n    predicted_production_rates <span class=\"token operator\">=</span> model_production_rate<span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span>\n    completely_custom_metric_for_steve<span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># render report</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<h3>This code Stinks</h3>\n<p>⌚ <em>Time for refactoring</em></p>\n<p>While our code started out good it has grown stinky over time.  It will works fine, but it could be better and more enjoyable to work with.  What we have here is a code smell called <code class=\"language-text\">data clump</code>.  This is a group of data that always appears together.  It would be appropriate to formally group this data together.  One way to do this in python is to use nametuples.  It is a very simple technique that allows us to define a data structure that contains a specific set of attributes that we can access using <code class=\"language-text\">.attribute_name</code>.  Replacing this <code class=\"language-text\">data clump</code> with a formal group of data will allow us to reduce the number of arguments in all of our functions. Add new attributes easily. And not rely on positional arguments.  This code will be easier to maintain, read, and write.</p>\n<blockquote>\n<p>What we have here is a code smell called <code class=\"language-text\">data clump</code></p>\n</blockquote>\n<p><strong>create a namedtuple</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> namedtuple\n\nModelData <span class=\"token operator\">=</span> namedtuple<span class=\"token punctuation\">(</span><span class=\"token string\">'modin_data'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sales pricing inventory stored_at min_price start_date end_date'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>use the namedtuple</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> ModelData<span class=\"token punctuation\">(</span>\n    sales<span class=\"token operator\">=</span>get_sales<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    pricing<span class=\"token operator\">=</span>get_pricing<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    inventory<span class=\"token operator\">=</span>get_inventory<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span>\n    min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span>\n    start_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n    end_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>refactor functions</strong>\nNow that we have a clean data object how do we use it.  Simple, we pass in one data object, then access each attribute with the dot operator. These functions are now much cleaner to call and read.  Here I have chosen a poor name for our <code class=\"language-text\">data</code>, but in a real scenario you may have multple <code class=\"language-text\">namedtuples</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">calculate_total_revenue</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    sales <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>sales\n                <span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>pricing<span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> on<span class=\"token operator\">=</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>inventory<span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> on<span class=\"token operator\">=</span><span class=\"token string\">'sku'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n    sales<span class=\"token punctuation\">[</span><span class=\"token string\">'revenue'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'qty'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'price'</span><span class=\"token punctuation\">]</span>\n    sales  <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'price > </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>min_price<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n    sales  <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'sale_date > </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>min_date<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n    sales  <span class=\"token operator\">=</span> sales<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'sale_date &lt; </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>end_date<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> sales<span class=\"token punctuation\">[</span><span class=\"token string\">'revenue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p><strong>call the function</strong></p>\n<p>Now that all of the data is store in a single object it is really easy to call each of our functions using one data instance.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">make_report</span><span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span><span class=\"token string\">'LAX'</span><span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-1999'</span><span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span><span class=\"token string\">'01-01-3000'</span><span class=\"token punctuation\">,</span> is_for_steve<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Makes stakeholder report for company XYZ\"\"\"</span>\n    data <span class=\"token operator\">=</span> ModelData<span class=\"token punctuation\">(</span>stored_at<span class=\"token operator\">=</span>stored_at<span class=\"token punctuation\">,</span> min_price<span class=\"token operator\">=</span>min_price<span class=\"token punctuation\">,</span> start_date<span class=\"token operator\">=</span>start_date<span class=\"token punctuation\">,</span> end_date<span class=\"token operator\">=</span>end_date<span class=\"token punctuation\">)</span>\n\n    revenue <span class=\"token operator\">=</span> calculate_total_revenue<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    sales_ratio <span class=\"token operator\">=</span> sales_ratio <span class=\"token operator\">=</span> inventory_sale_ratio<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    inventory_sale_ratio <span class=\"token operator\">=</span> inventory_sale_ratio<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    predicted_prices <span class=\"token operator\">=</span> model_new_prices<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    predicted_production_rates <span class=\"token operator\">=</span> model_production_rate<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    completely_custom_metric_for_steve<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># render report</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<h3>🧹 Clean up your data science</h3>\n<p>Named Tuples are a great way to clean up your data science code and reduce <code class=\"language-text\">Data Clumps</code>.  Anytime you have multiple data sets that almost always get used together <code class=\"language-text\">namedtuple</code>s are a great way to clean up your code, make it more readable and more maintainable.  If you find that you also have functions that are tightly coupled to this data you might want to consider using a <code class=\"language-text\">class</code> instead of a <code class=\"language-text\">namedtuple</code>, but that is for another article.</p>","fields":{"slug":"/named-tuples-data-science/"},"frontmatter":{"date":"2019-09-11T00:00:00.000Z","title":"Clean up Your Data Science with Named Tuples","description":null,"status":"published","cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/andrew-spencer-Ricopz7JkbE-unsplash.jpg","xsm_img":{"fixed":{"src":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/2c7f8/andrew-spencer-Ricopz7JkbE-unsplash.jpg","srcWebp":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/f6b6d/andrew-spencer-Ricopz7JkbE-unsplash.webp"}},"sm_img":{"fixed":{"src":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/9dc27/andrew-spencer-Ricopz7JkbE-unsplash.jpg","srcWebp":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/403a4/andrew-spencer-Ricopz7JkbE-unsplash.webp"}},"med_img":{"fixed":{"src":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/0f3a1/andrew-spencer-Ricopz7JkbE-unsplash.jpg","srcWebp":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/e9589/andrew-spencer-Ricopz7JkbE-unsplash.webp"}},"full":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGNkTJB/8QAGRAAAwADAAAAAAAAAAAAAAAAAAEDAgQi/9oACAEBAAEFAtSiRW3LlTI//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAABEBITJRof/aAAgBAQAGPwLGHsoa6f/EABkQAQACAwAAAAAAAAAAAAAAAAEAIRGBsf/aAAgBAQABPyEhHA3l8d1Eukf/2gAMAwEAAgADAAAAEHff/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/ELWv/8QAGhABAAMAAwAAAAAAAAAAAAAAAQARITFRcf/aAAgBAQABPxAommw6OkhI9VhsJYHPcPZ//9k=","width":1000,"height":420,"src":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/9cf42/andrew-spencer-Ricopz7JkbE-unsplash.jpg","srcSet":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/9cf42/andrew-spencer-Ricopz7JkbE-unsplash.jpg 1x"},"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGNkTJB/8QAGRAAAwADAAAAAAAAAAAAAAAAAAEDAgQi/9oACAEBAAEFAtSiRW3LlTI//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAABEBITJRof/aAAgBAQAGPwLGHsoa6f/EABkQAQACAwAAAAAAAAAAAAAAAAEAIRGBsf/aAAgBAQABPyEhHA3l8d1Eukf/2gAMAwEAAgADAAAAEHff/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/ELWv/8QAGhABAAMAAwAAAAAAAAAAAAAAAQARITFRcf/aAAgBAQABPxAommw6OkhI9VhsJYHPcPZ//9k=","aspectRatio":2.380952380952381,"src":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/9cf42/andrew-spencer-Ricopz7JkbE-unsplash.jpg","srcSet":"/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/ff9d4/andrew-spencer-Ricopz7JkbE-unsplash.jpg 250w,\n/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/2dc04/andrew-spencer-Ricopz7JkbE-unsplash.jpg 500w,\n/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/9cf42/andrew-spencer-Ricopz7JkbE-unsplash.jpg 1000w,\n/static/3bf58e8ea15f2aa7bcd1b8eb9edfd009/48be0/andrew-spencer-Ricopz7JkbE-unsplash.jpg 1200w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"5655d4a4-0c38-5d4e-bcc2-414a0bb74ed5","prev":{"id":"99c2a99a-9200-597c-8f3d-26dea9fb8979","html":"<p>I ran a discussion on dev that collected quite a list of examples in the comment section.  So many great calls to action, animations, memes, and weird tricks.</p>\n<p><a href=\"https://dev.to/waylonwalker/what-s-on-your-github-profile-40p3\"><img src=\"https://waylonwalker.com/whats-on-your-github-profile.png\" alt=\"dev.to whats-on-your-github-profile\"></a></p>\n<h2>My current profile</h2>\n<p><a href=\"https://github.com/waylonwalker/\"><img src=\"https://waylonwalker.com/github-profile.png\" alt=\"Waylon Walkers GitHub profile\"></a></p>\n<h2>social icons</h2>\n<p>Upload all of your icons to the repo in a directory such as <code class=\"language-text\">icons</code> or <code class=\"language-text\">assets</code>, then link them with a <code class=\"language-text\">height</code> attribute like below.  I used html for mine, not sure if you can set the <code class=\"language-text\">height</code> in markdown.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://dev.to/waylonwalker<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>30<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://raw.githubusercontent.com/WaylonWalker/WaylonWalker/main/icon/dev.png<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token entity named-entity\" title=\"&nbsp;\">&amp;nbsp;</span><span class=\"token entity named-entity\" title=\"&nbsp;\">&amp;nbsp;</span></code></pre></div>\n<p><strong>note</strong> I did add a bit of <code class=\"language-text\">&amp;nbsp;</code> (non-breaking-whitespace) between my icons.  Without adding css this seemed like the simplest way to do it.</p>\n<h2>Center</h2>\n<p>Aligning things in the center of the readme is super simple.  I used this trick to align my social icons in the middle.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">align</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>center<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n ...html\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>right</h2>\n<p>For my <a href=\"https://waylonwalker.com/latest\">latest post</a> I floated it to the right with a little bit of <code class=\"language-text\">align=&#39;right&#39;</code> action.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://waylonwalker.com/latest<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>400<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">align</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>right<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://waylonwalker.com/latest.png?raw=true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>You may need to play with where you put this in the document, and the size of elements to get things to flow right.</p>\n<h2>redirects</h2>\n<p>In order to keep my latest post always up to date on my readme I implemented a netlify redirect to always point to my latest post.  As a digital gardener this helps me keep pointed to a the best one in my opinion.  Any automated way would pick up half finished posts.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># /static/_redirects\n# netlify redirects\n\n# latest post\n/latest            /blog/kedro-catalog-search/\n/latest.png        /kedro-catalog-search.png</code></pre></div>\n<p>Now I can reference both the post and the post cover image.</p>\n<h2>summary/details</h2>\n<p>I also wanted to list out a few of my favorite posts without taking up a ton of space, so I used <code class=\"language-text\">details</code> and <code class=\"language-text\">summary</code> tags so that it would collapse.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">></span></span>other favorite posts<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://waylonwalker.com/eight-years-cat/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>400<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://waylonwalker.com/eight-years-cat.png?raw=true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://waylonwalker.com/keyboard-driven-vscode/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>400<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://waylonwalker.com/alt%20b.png?raw=true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://waylonwalker.com/what-are-github-actions/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>400<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://waylonwalker.com/what-are-github-actions.png?raw=true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Go ham on your profile, its your own slice of GitHub to completely personalize and speak your brand.  Give a powerfule call to action, share a funny meme, record a wicked cool GIF, its your space.</p>","fields":{"slug":"/my-github-profile/"},"frontmatter":{"tags":["webdev","catalytic"],"title":"How I Built My GitHub Profile","description":null,"templateKey":"blog-post","status":"published","date":"2020-07-10T03:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVQY0wHoARf+AB0kMiEmMRMfK2xveHh9giYsOQ0YJBccKRcjLBskMCgpOTAwQSkpO4F6f3xhS7u6tdvL0eLX3+De39rZ2gAcJDEeJjITHSuUmJ6vsrZARVEiKjgfJjISHCgZIS8gJTMqLT0mJjqUjJCafGLW08vq0tn/5ffy7ezs6uoAGiQxGiUyFR8tmJyiuLu/xMjKt7q+sbO5bXd8LTdEJyg+ICg2Gx4wmJqh9/b07+7t6+nn9ez19/f5////ABokMRsjMBwlMjtFT3lygZmXoXh7hHuKi7ewuk9EWh8jNSQqOSYgNpqXof///+/w8fLz9Nvf33t9iYGAigAaIzAUIzASIS8LGyVXLlU2Iz+KPnZuNWSIQHWfSYY2LEOjToqQQXvMiLb////3+Pn5+fru8PPJx87W1NcAFSQxMiArX0ZQIDI9VUBbNzFFbzZlbTtmXzxePytHHh8xPCtFOyNCvYuw//7+8PHy8/Lz7e3v8PHy7+/vABAfLXNbYt6/wICJka2ytZidomx5fSY2PmFtc1plbDZAS11pbz5HUj5CT5OTm1ZXYUNFTkBCS0JESz5BRgAZIy8TIzA5R1NBSVNIUFpxdn+Slp1GTVlNU15rcXqFipJ4fYaipqtARVJ5eoOLi5KSk5l6fIEhJCweJTCxItjtrm9r6QAAAABJRU5ErkJggg==","width":500,"height":210,"src":"/static/0bcea99a544ffa350db961638cab76cb/46604/my-github-profile-xmas2020.png","srcSet":"/static/0bcea99a544ffa350db961638cab76cb/46604/my-github-profile-xmas2020.png 1x,\n/static/0bcea99a544ffa350db961638cab76cb/d8815/my-github-profile-xmas2020.png 1.5x,\n/static/0bcea99a544ffa350db961638cab76cb/31987/my-github-profile-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMElEQVQozwElAtr9ACAnMg8cJ25xepaYnElOWAoTIRYdKxQbJhgkLh8jMSgrOjAuQCsuQJuQkHhXPMvKw+fS2e/Z5u7o6uDf3wAeJzMMFyWMkJbLzM5jaHEiKzcmLjsVHSoTHSoaIi8eJTMqKzwpLD+so6GVdFnh3NTo1tn/4fn37PDw7+0AHCYzDhglh4ySuL3AxsvNzdHTt7q/rbC1RVBYJyo+Jik9HSYzJCU3srO59PX28/Ly6uvo8/D08vP2////ABokMRchLjtFT2dlc6Whq4uPlnaEh6iws5+Uoh0gMyEnNyMoOCYlObGxt/////P09fLz9O7w75WWoHl2gwAYJTIWIzALGyVHLEw/J0ZsNWNlMl5yOmimT4xrOmNDL0qrUZCPQHrVmsH+///19PXy8/Tu8PO0tbyysrcAHBglOS87Gis1OChDQC9KazhkkEV8lEZ/WDFXQS1JMyc/WTRYXjJb3KHI/////fz9////////////////AH1YXuexsYGNlISJkJqepEdPWTJASCQzPGx3fRUhLSk1PzZHTR0iMmFfbaWmrHJzfGRmb2NmbGRmbWFjaAAnNEBteIB0eoJudH2UmZ/Aw8aIjJM6Qk2FiZGEiZCMkZeVmJ+bn6UpLjyQkJd3eIBeX2hZWmIkJi4hJCwAFB0qEBknEx0qFB4rFR8tICo2Hig0HCUyGyUyMTpGOUJNOEFMXGNsKDI+SU9aeXyDs7W5kZWaIyo0GyQxZJHzXyKhzQ4AAAAASUVORK5CYII=","width":200,"height":85,"src":"/static/0bcea99a544ffa350db961638cab76cb/71e30/my-github-profile-xmas2020.png","srcSet":"/static/0bcea99a544ffa350db961638cab76cb/71e30/my-github-profile-xmas2020.png 1x,\n/static/0bcea99a544ffa350db961638cab76cb/24123/my-github-profile-xmas2020.png 1.5x,\n/static/0bcea99a544ffa350db961638cab76cb/492a0/my-github-profile-xmas2020.png 2x"}}}}},"next":{"id":"0f15cbd1-acdc-51cb-b402-d0877c1193a1","html":"<p>Replacing text in vim can be quite frustrating especially since it doesn't have\nlive feedback to what is changing. Today I was watching Josh Branchaud's\nVim-Unalphabet series on Youtuve and realized that his vim was doing this and I\nhad to have it.</p>\n<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">neovim can live highlight substitutions.<br><br>:set inccommand=nosplit</p>&mdash; Waylon Walker 🐍 (@_WaylonWalker) <a href=\"https://twitter.com/_WaylonWalker/status/1346081617199198210?ref_src=twsrc%5Etfw\">January 4, 2021</a></blockquote>\n<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<h2>How to do it.</h2>\n<p>I had to do a bit of searching and found a great post from <a href=\"http://vimcasts.org/episodes/neovim-eyecandy/\">vimcasts</a> that shows exactly how to get the live search and replace highlighting using <code class=\"language-text\">inccomand</code></p>\n<h2>:h inccommand</h2>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token string\">'inccommand'</span> <span class=\"token string\">'icm'</span>\tstring\t<span class=\"token punctuation\">(</span>default <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n\t\t\tglobal\n\t\t\t\n\t<span class=\"token string\">\"nosplit\"</span><span class=\"token punctuation\">:</span> Shows the effects of a command incrementally<span class=\"token punctuation\">,</span> <span class=\"token keyword\">as</span> you type<span class=\"token operator\">.</span>\n\t<span class=\"token string\">\"split\"</span>\t <span class=\"token punctuation\">:</span> Also shows partial off<span class=\"token operator\">-</span>screen results <span class=\"token keyword\">in</span> a preview <span class=\"token builtin\">window</span><span class=\"token operator\">.</span>\n\n\tWorks <span class=\"token keyword\">for</span> |<span class=\"token punctuation\">:</span>substitute|<span class=\"token punctuation\">,</span> |<span class=\"token punctuation\">:</span><span class=\"token keyword\">smagic</span>|<span class=\"token punctuation\">,</span> |<span class=\"token punctuation\">:</span><span class=\"token keyword\">snomagic</span>|<span class=\"token operator\">.</span> |<span class=\"token builtin\">hl</span><span class=\"token operator\">-</span>Substitute|\n\n\tIf the preview <span class=\"token operator\">is</span> too slow <span class=\"token punctuation\">(</span>exceeds <span class=\"token string\">'redrawtime'</span><span class=\"token punctuation\">)</span> then <span class=\"token string\">'inccommand'</span> <span class=\"token operator\">is</span>\n\tautomatically disabled until |Command<span class=\"token operator\">-</span>line<span class=\"token operator\">-</span><span class=\"token keyword\">mode</span>| <span class=\"token operator\">is</span> done<span class=\"token operator\">.</span></code></pre></div>\n<h2>Add this to your config</h2>\n<p>I believe that this is a neovim only feature, add it into your\n<code class=\"language-text\">~/.config/nvim/init.vim</code> file. You can see it in my\n<a href=\"https://github.com/WaylonWalker/devtainer/blob/main/dotfiles/.config/nvim/settings.vim#L155\">dotfiles</a>\nas well.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">set</span> inccommand<span class=\"token operator\">=</span>nosplit</code></pre></div>\n<h2>See it in Action</h2>\n<p><img src=\"https://waylonwalker.com/nvim-live-substitute-inccommand.gif\" alt=\"example live\nsubstitution\"></p>\n<h2>The Video that inspired this</h2>\n<p>Check out Josh Branchaud's great series on the Vim-Unalphabet.</p>\n<p><iframe width=\"100%\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/5jMiYtXz2QA?rel=0\" frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe></p>","fields":{"slug":"/neovim-live-substitution/"},"frontmatter":{"tags":["linux","vim"],"title":"Live Substitution In Neovim","description":"Replacing text in vim can be quite frustrating especially since it doesn't have live feedback to what is changing. Today","templateKey":"blog-post","status":"published","date":"2021-01-04T00:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABpElEQVQY0z1Qy27TUBT0lg0ShD7i2HHwI7699r3nXL/jV9OmjSG0dEOQKrLoIu2iBCQeEQWBUClCYsEW2PEV/B83VYU0Go1GM9I5o+i2MBxU+6JrC72PklXpWKA6oNmCbA0AhsC3kVeIBQ+qEAYQ5EJkKFJFJrTrgmZjx0bNDlTJFrQlTDCckHgl50POa4CSiRIh5yIHkYFIFFlr22LTlGmUYsMEVQoLpdPrJ56/ozshZbXHKsYrwIphwTD3MeU3ZZkj0UaPrxnMIPG9rtfqepLXu0w3o7aJ1K+jeB+wdklM/ZSyhGPGMVE0J7it0wfTk7cXl6NH0/n5m8tvP2bzxfLDl9PF8tXF5+nsbH76+sXL979+/3m+WH789PXp8YlLAwgypWUJr0PGohD1hAY1S3bLvaOwbES+H5VNsj3xop2smCRpc3B43Dx8MhofFdXY4wmXg/UI/v1+dTU7v7Xprhu+PPhOh7R0KnFXQlsJ9T56fuWS1N1KCI0pS0EMVmdzgJ/vnh3kj1sGW/1v4Q1fz/Z/PKMfBTgchKNh3NTxXhnuWiT6B7FCYuJ+5CqmAAAAAElFTkSuQmCC","width":500,"height":210,"src":"/static/38d4e35c463a17c0b8d0bca0d8fd0430/46604/neovim-live-substitution-xmas2020.png","srcSet":"/static/38d4e35c463a17c0b8d0bca0d8fd0430/46604/neovim-live-substitution-xmas2020.png 1x,\n/static/38d4e35c463a17c0b8d0bca0d8fd0430/d8815/neovim-live-substitution-xmas2020.png 1.5x,\n/static/38d4e35c463a17c0b8d0bca0d8fd0430/31987/neovim-live-substitution-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVQoz32QzU8TURTFZ+dOSKvQeZ1poW8+Xmd47903MzDtfDAgtAmwoC2GyLRR60CgqQlp1cQQiXFhZGFMXJP4v/if+YpbY/JbnMU5995zlZoJyBK6IWoW6IZXNUDDUDOYakIdC+JGwHYpz4CmAmLqpT6LuNcGaHMRKtKtGgJhkKKKARkgNcK8grna4DXTb7oJZRljKeMxhQR4xESbQWsRltZKgyOZN72FwItBFQwq5sTNJLoVMLbrUhne5iJlImEi2oAWg1BR5U7TK+nOMrKlWEZkSbXLurOEbLQmVjSG1oGQmEFm2SE2PdP2TCIelodKeY32hhfjq9nhYDQ4Kz5//f5mMh8Vb68/3J5P348ns5P8oihmn26/3d39vJzMP958eTm+Im7ARUtZfdrYDrJuL087x9DuDPJikJ+n3d5BPz/oD+XEMDs6PMr3u89fvZ4OR5enL8bH/dylm4vO99fzH2fFo1WrrDWf1N3HFUtS0mQL8oAtG9WNwHFjbAaG7WN5dtNzIGSwpfz+dfPudFrSNuSfVfwP/n7RdqNAPGv5e2nQSfy9nc19wWMlCcAy+Mo6l6b/g8kWpbHgKWWR7YRVLP4AiEpvPxWfzTEAAAAASUVORK5CYII=","width":200,"height":85,"src":"/static/38d4e35c463a17c0b8d0bca0d8fd0430/71e30/neovim-live-substitution-xmas2020.png","srcSet":"/static/38d4e35c463a17c0b8d0bca0d8fd0430/71e30/neovim-live-substitution-xmas2020.png 1x,\n/static/38d4e35c463a17c0b8d0bca0d8fd0430/24123/neovim-live-substitution-xmas2020.png 1.5x,\n/static/38d4e35c463a17c0b8d0bca0d8fd0430/492a0/neovim-live-substitution-xmas2020.png 2x"}}}}},"similarPosts":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}},"staticQueryHashes":["2992646504"]}