{"componentChunkName":"component---src-templates-blog-post-js","path":"/fix-git-commit-author/","result":{"data":{"markdownRemark":{"id":"7b446eaa-096b-5b1d-b195-ddcc0e29144f","html":"<p>I was 20 commits into a hackoberfest PR when I suddenly realized they they all had my work email on them instead of my personal email ðŸ˜±.  This is the story of how I corrected my email address on 19 individual commits after already submitting for a PR.</p>\n<ol>\n<li><a href=\"#change-the-email-for-this-repo\">Change the email for this repo</a></li>\n<li><a href=\"#prepare-for-rebasing\">Prepare for rebasing</a></li>\n<li><a href=\"#start-the-rebase\">start the rebase</a></li>\n<li><a href=\"#fix-first-wrong-commit\">ðŸ›  Fix First wrong Commit</a></li>\n<li><a href=\"#fix-all-commits\">Fix all commits</a></li>\n<li><a href=\"#done\">Done</a></li>\n<li><a href=\"#recap\">ReCap</a></li>\n</ol>\n<h2>Change the email for this repo</h2>\n<p><em>stop the bleeding</em></p>\n<p>Before anything else set the email correctly!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> kedro\n<span class=\"token function\">git</span> config user.name <span class=\"token string\">\"Waylon Walker\"</span>\n<span class=\"token function\">git</span> config user.email quadmx08@gmail.com</code></pre></div>\n<h2>Prepare for rebasing</h2>\n<p>First thing is to find how many commits back this mistake goes.  I opened up the git log, and saw mine went back 19 commits.  I rolled back 20 just to be sure.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> log\n<span class=\"token punctuation\">..</span>.\ncommit a355926b9d7ec4c05659adaa254beefbdb036332\nAuthor: WaylonWalker <span class=\"token operator\">&lt;</span>email@work.com<span class=\"token operator\">></span>\nDate:   Sat Oct <span class=\"token number\">17</span> <span class=\"token number\">10</span>:28:59 <span class=\"token number\">2020</span> -0500\n\n    give name of <span class=\"token keyword\">function</span> inside incorrect parameters error\n  \ncommit 1756f5d121bd06c459560b2e982e0d7b6879e9ca\nAuthor: Kiyohito Kunii <span class=\"token punctuation\">(</span>Kiyo<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">8097799</span>+921kiyo@users.noreply.github.com<span class=\"token operator\">></span>\nDate:   Fri Oct <span class=\"token number\">2</span> <span class=\"token number\">15</span>:33:09 <span class=\"token number\">2020</span> +0100\n\n    Fix docs reference <span class=\"token keyword\">for</span> registering <span class=\"token variable\"><span class=\"token variable\">`</span>pipelines<span class=\"token variable\">`</span></span></code></pre></div>\n<h2>start the rebase</h2>\n<p>Now I start the rebase 20 commits back from HEAD.  THis will pop you into a text file with a list of commits, for this change simply replace all <code class=\"language-text\">pick</code> with <code class=\"language-text\">edit</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i HEAD~20</code></pre></div>\n<p>Run git log to see where we ended up.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> log\ncommit 1756f5d121bd06c459560b2e982e0d7b6879e9ca\nAuthor: Kiyohito Kunii <span class=\"token punctuation\">(</span>Kiyo<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">8097799</span>+921kiyo@users.noreply.github.com<span class=\"token operator\">></span>\nDate:   Fri Oct <span class=\"token number\">2</span> <span class=\"token number\">15</span>:33:09 <span class=\"token number\">2020</span> +0100\n\n    Fix docs reference <span class=\"token keyword\">for</span> registering <span class=\"token variable\"><span class=\"token variable\">`</span>pipelines<span class=\"token variable\">`</span></span></code></pre></div>\n<p>As expected we ended up on Kiyo's commit. So we can simply move forward without any edits.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> rebase --continue\nStopped at e162ca7<span class=\"token punctuation\">..</span>.  correct <span class=\"token keyword\">function</span> name <span class=\"token keyword\">in</span> tests\nYou can amend the commit now, with\n\n  <span class=\"token function\">git</span> commit --amend\n\nOnce you are satisfied with your changes, run\n\n  <span class=\"token function\">git</span> rebase --continue</code></pre></div>\n<h2>ðŸ›  Fix First wrong Commit</h2>\n<p>Checking the log again I an now on my first commit with a mistake.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> log\ncommit 95c209a740d6d0340e19a8fc36298cbf874f8bf7 <span class=\"token punctuation\">(</span>HEAD<span class=\"token punctuation\">)</span>\nAuthor: WaylonWalker <span class=\"token operator\">&lt;</span>email@work.com<span class=\"token operator\">></span>\nDate:   Sat Oct <span class=\"token number\">3</span> <span class=\"token number\">11</span>:59:44 <span class=\"token number\">2020</span> -0500\n\n    correct <span class=\"token keyword\">function</span> name <span class=\"token keyword\">in</span> tests\n\ncommit cde2e8baa3c1c4a9f1da4135258381466b1da40a\nAuthor: Waylon Walker <span class=\"token operator\">&lt;</span>quadmx08@gmail.com<span class=\"token operator\">></span>\nDate:   Sat Oct <span class=\"token number\">17</span> <span class=\"token number\">10</span>:30:07 <span class=\"token number\">2020</span> -0500\n\n    update tests\n\ncommit a355926b9d7ec4c05659adaa254beefbdb036332\nAuthor: Waylon Walker <span class=\"token operator\">&lt;</span>quadmx08@gmail.com<span class=\"token operator\">></span>\nDate:   Sat Oct <span class=\"token number\">17</span> <span class=\"token number\">10</span>:28:59 <span class=\"token number\">2020</span> -0500\n\n    give name of <span class=\"token keyword\">function</span> inside incorrect parameters error\n\ncommit 1756f5d121bd06c459560b2e982e0d7b6879e9ca\nAuthor: Kiyohito Kunii <span class=\"token punctuation\">(</span>Kiyo<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">8097799</span>+921kiyo@users.noreply.github.com<span class=\"token operator\">></span>\nDate:   Fri Oct <span class=\"token number\">2</span> <span class=\"token number\">15</span>:33:09 <span class=\"token number\">2020</span> +0100\n\n    Fix docs reference <span class=\"token keyword\">for</span> registering <span class=\"token variable\"><span class=\"token variable\">`</span>pipelines<span class=\"token variable\">`</span></span></code></pre></div>\n<p>Running the following command will reset the author on the current commit.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> commit --amend --reset-author</code></pre></div>\n<p>Double check with a quick <code class=\"language-text\">git log</code> that the author was fixed.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">commit ccaaa56059ee4554731fa83297ca9e8e387a7592 <span class=\"token punctuation\">(</span>HEAD<span class=\"token punctuation\">)</span>\nAuthor: Waylon Walker <span class=\"token operator\">&lt;</span>quadmx08@gmail.com<span class=\"token operator\">></span>\nDate:   Sat Oct <span class=\"token number\">17</span> <span class=\"token number\">10</span>:35:40 <span class=\"token number\">2020</span> -0500\n\n    correct <span class=\"token keyword\">function</span> name <span class=\"token keyword\">in</span> tests\n\ncommit cde2e8baa3c1c4a9f1da4135258381466b1da40a\nAuthor: Waylon Walker <span class=\"token operator\">&lt;</span>quadmx08@gmail.com<span class=\"token operator\">></span>\nDate:   Sat Oct <span class=\"token number\">17</span> <span class=\"token number\">10</span>:30:07 <span class=\"token number\">2020</span> -0500\n\n    update tests\n\ncommit a355926b9d7ec4c05659adaa254beefbdb036332\nAuthor: Waylon Walker <span class=\"token operator\">&lt;</span>quadmx08@gmail.com<span class=\"token operator\">></span>\nDate:   Sat Oct <span class=\"token number\">17</span> <span class=\"token number\">10</span>:28:59 <span class=\"token number\">2020</span> -0500\n\n    give name of <span class=\"token keyword\">function</span> inside incorrect parameters error\n\ncommit 1756f5d121bd06c459560b2e982e0d7b6879e9ca\nAuthor: Kiyohito Kunii <span class=\"token punctuation\">(</span>Kiyo<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span><span class=\"token number\">8097799</span>+921kiyo@users.noreply.github.com<span class=\"token operator\">></span>\nDate:   Fri Oct <span class=\"token number\">2</span> <span class=\"token number\">15</span>:33:09 <span class=\"token number\">2020</span> +0100\n\n    Fix docs reference <span class=\"token keyword\">for</span> registering <span class=\"token variable\"><span class=\"token variable\">`</span>pipelines<span class=\"token variable\">`</span></span></code></pre></div>\n<h2>Fix all commits</h2>\n<p>Now to do this for 18 other commits.  I found that chaining the three commands into a bash one-liner was quite helpful.  I turned off pre-commit hooks with <code class=\"language-text\">--no-verify</code>.  I also turned off the <code class=\"language-text\">log</code> pager by adding <code class=\"language-text\">--no-pager</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase --continue <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token function\">git</span> commit --amend --reset-author --no-edit --no-verify <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n<span class=\"token function\">git</span> --no-pager log -n <span class=\"token number\">3</span></code></pre></div>\n<h2>Done</h2>\n<p>This was quick and easy for 19 commits.  I have tried to loop through changes like this in the past, and it does get a bit hairy.  I find its easier to just setup a one-liner and crank through them one by one.</p>\n<h2>A note on changing history...</h2>\n<p>Since this was done in a rebase it has changed the history of the repo.  This is ok to do only when you are the only person or are in close communication with everyone using the repo.  One thing I have ran into is that if you do this after you submit a PR, but before its completed it duplicates your commits in a merge.  For this particular change I simply closed the first PR and opened a second.  If someone has a better suggestion, I would be glad to know a better way.</p>\n<h2>ReCap</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> kedro\n<span class=\"token function\">git</span> config user.name <span class=\"token string\">\"Waylon Walker\"</span>\n<span class=\"token function\">git</span> config user.email quadmx08@gmail.com\n<span class=\"token function\">git</span> log\n<span class=\"token function\">git</span> rebase -i HEAD~20\n<span class=\"token function\">git</span> log\n<span class=\"token function\">git</span> rebase --continue\n<span class=\"token function\">git</span> log\n<span class=\"token function\">git</span> rebase --continue <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">git</span> commit --amend --reset-author --no-edit --no-verify <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">git</span> --no-pager log -n <span class=\"token number\">3</span></code></pre></div>","fields":{"slug":"/fix-git-commit-author/"},"frontmatter":{"date":"2020-10-17T05:00:00.000Z","title":"Fix git commit author","description":"I was 20 commits into a hackoberfest PR when I suddenly realized they they all had my work email on them instead of my personal email ðŸ˜±.","status":"published","cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/fix-git-commit-author-xmas2020.png","xsm_img":{"fixed":{"src":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/ef958/fix-git-commit-author-xmas2020.png","srcWebp":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/f6b6d/fix-git-commit-author-xmas2020.webp"}},"sm_img":{"fixed":{"src":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/630fb/fix-git-commit-author-xmas2020.png","srcWebp":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/403a4/fix-git-commit-author-xmas2020.webp"}},"med_img":{"fixed":{"src":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/46604/fix-git-commit-author-xmas2020.png","srcWebp":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/e9589/fix-git-commit-author-xmas2020.webp"}},"full":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVQY013Q32oTQRQG8DyBpiE12U226c5s/u3OnDlnE5PZTdYtaSNG4oUQCq2hlZLeVHqjN7nQK8UiFcUbQRC86wsUfCFfxNkthVI4DMPAb76Zr+B41Gii3aItj5wWmtU2JxwrTNgM2x0NsKMgRUgQRxAmPRWpMCbSSMNC3SMzFqc6x5qHdU622bigBhPm60o96ARj4wESUCNJY1QRUKxIKxoUTI6VYazejsElx3/yYnFy+m55dO4GWgSp8RISqUZCxVJFAoeAObZzYN1OhYHjhfvh/vuLy+/ffg3Cqd3steXoBkuDMZKoc8zxUTMsm9cyrLLslo1tP5XP/h1f/zn4+nv26Wp+eTFd/5h90LTnQwx3cYmhdPwBE5ucLKYshmVXhv7OKnr9Rq+OhsuXvcXb9OwwfiVgfD/Z7eLfLx8/H58/2BI2V9XMK+NNftENitv+w0a3xGRLxKYzATk2hd9gRPVzvXwezTecIKuN5Z6rmuk8a55q+Y/c9mOCVIeTtP806e+OexPe6f8HuNxg+JTPJj0AAAAASUVORK5CYII=","width":1000,"height":420,"src":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/a8734/fix-git-commit-author-xmas2020.png","srcSet":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/a8734/fix-git-commit-author-xmas2020.png 1x"},"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVQY013Q32oTQRQG8DyBpiE12U226c5s/u3OnDlnE5PZTdYtaSNG4oUQCq2hlZLeVHqjN7nQK8UiFcUbQRC86wsUfCFfxNkthVI4DMPAb76Zr+B41Gii3aItj5wWmtU2JxwrTNgM2x0NsKMgRUgQRxAmPRWpMCbSSMNC3SMzFqc6x5qHdU622bigBhPm60o96ARj4wESUCNJY1QRUKxIKxoUTI6VYazejsElx3/yYnFy+m55dO4GWgSp8RISqUZCxVJFAoeAObZzYN1OhYHjhfvh/vuLy+/ffg3Cqd3steXoBkuDMZKoc8zxUTMsm9cyrLLslo1tP5XP/h1f/zn4+nv26Wp+eTFd/5h90LTnQwx3cYmhdPwBE5ucLKYshmVXhv7OKnr9Rq+OhsuXvcXb9OwwfiVgfD/Z7eLfLx8/H58/2BI2V9XMK+NNftENitv+w0a3xGRLxKYzATk2hd9gRPVzvXwezTecIKuN5Z6rmuk8a55q+Y/c9mOCVIeTtP806e+OexPe6f8HuNxg+JTPJj0AAAAASUVORK5CYII=","aspectRatio":2.380952380952381,"src":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/a8734/fix-git-commit-author-xmas2020.png","srcSet":"/static/2e949c63dc0e41fc8348a2a7feba4fe4/2d6f8/fix-git-commit-author-xmas2020.png 250w,\n/static/2e949c63dc0e41fc8348a2a7feba4fe4/03ac3/fix-git-commit-author-xmas2020.png 500w,\n/static/2e949c63dc0e41fc8348a2a7feba4fe4/a8734/fix-git-commit-author-xmas2020.png 1000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"7b446eaa-096b-5b1d-b195-ddcc0e29144f","prev":{"id":"d94c3f80-1c8e-57f9-8193-26c6272e315f","html":"<h2>grepr</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">grepr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>grep -iRl <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">sed</span> -i <span class=\"token string\">\"s/<span class=\"token variable\">$1</span>/<span class=\"token variable\">$2</span>/g\"</span><span class=\"token punctuation\">}</span>\n\n```bash\n<span class=\"token function-name function\">grepr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>grep -iRl <span class=\"token string\">\"<span class=\"token variable\">$1</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">sed</span> -i <span class=\"token string\">\"s/<span class=\"token variable\">$1</span>/<span class=\"token variable\">$2</span>/g\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h2>grepd</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">grepd<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>grep <span class=\"token operator\">-</span>iRl <span class=\"token string\">\"$1\"</span> <span class=\"token operator\">|</span> xargs sed <span class=\"token operator\">-</span>i <span class=\"token string\">\"/^$1/d\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h2>CocSearch</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">:CocSearch status: <span class=\"token string\">'false'</span> -g *.md</code></pre></div>","fields":{"slug":"/find-replace/"},"frontmatter":{"tags":["linux","bash"],"title":"Find and Replace in the Terminal.","description":"notes about find and replace techniques","templateKey":"blog-post","status":"published","date":"2020-11-12T05:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVQY032RyU7jQBCGfedGlATHCXZsE9u9VbeduL2RGAg7gwQSImI5wExAk5FAArFdEBIceALeZN5vmuUwJ6RPpapS/VLVX1rTFYqGGzYdbrhc5YbqOKArbDDnIh/njJXABgAFFQWHlIkMRAIi1hqu0B0+Y8NHInRX1Nsw4/C6UnZihMumG2E2CHBBaMGUnueUZ4QnjMeaUjbnQhvLusVqFq1ZrOV1qyapzGLd4u2ONBzh+VlWbIbRQoAkIpKwhH6JbTCC+OTibu9wvHd0dnAyUZxf3F7ePK5sj8r13Z3R6a/x1f5oPJnc/J5c3z88HRz99HEEodSmbU5baMhTN+yjaBCEfY8XPF2GZNiBwiGJTRKZb4hwMc3W8vm1wcJmmg8JSCakZvn87+vzy/GfKSOomaT6QaWFKi1cNdUVVJWGLQjrY5IjkiAsEZUg0ve1GcDb3eFW9mN6lnya9z/KyM9odroCyiRaKnur/d6wiBYdv6tV20y3sN6mauIb1AsaDre9nhvElhepR6rOP2TCXfYirbfhAAAAAElFTkSuQmCC","width":500,"height":210,"src":"/static/bea20c9acb4e061e353f5a6e73bf096b/46604/find-replace-xmas2020.png","srcSet":"/static/bea20c9acb4e061e353f5a6e73bf096b/46604/find-replace-xmas2020.png 1x,\n/static/bea20c9acb4e061e353f5a6e73bf096b/d8815/find-replace-xmas2020.png 1.5x,\n/static/bea20c9acb4e061e353f5a6e73bf096b/31987/find-replace-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVQoz3WQ8U7TUBTG+6+JiUxlo+3WhfW2vbtd7zm3t9tY165W3AYRyCBIJgpGBAR16BYjiSHxDXwBE9/FN/MWE/4z+XLyOyffyXfP1SwntBw0XFEjwnKxRkKTYNVGi3DdwbotqB8jzwPIMEgF9oMwlTyGsIfY00wilFsnwrBRgWmjQVCxYcOKDXoDLEc2/STgGecph36ACULMRY/jmmYQoduoTAoKOWGlAcXkdk5Z5rFBzZEcctZKOAxADLhIOMatYln5ijTxqMYe1tgD3VNtyWwuGfR+hVQb0mxIfRVdL446Q0rXiCMdL6QsUuHFcoWIy683b86uhtvTo9PZi9fnl5+v331YvL2YJ6PJYGP36GR2fPzp8NXFfHFz/v7Lt+sfp2ezFnS1soqtkDRKe+s72Btm4z0/ysc7L9PRJN/cZzJjUSb749H4AET+fGu6tT2d7B5ubO4F6tllG35dzX9OT+7p3rLll0y6XG8tmVSBqo/rLdWqc+ok4pC5tOs224RKl0kGHa0dwp/f3xcHH0umr5Pi/pXbD7ur/6TY82Mp8m74NJXDJFp/0n6mVQlPInQJlFfhzvo/2bQTBH0BacBjj3X/Ari6aqF/+OvXAAAAAElFTkSuQmCC","width":200,"height":85,"src":"/static/bea20c9acb4e061e353f5a6e73bf096b/71e30/find-replace-xmas2020.png","srcSet":"/static/bea20c9acb4e061e353f5a6e73bf096b/71e30/find-replace-xmas2020.png 1x,\n/static/bea20c9acb4e061e353f5a6e73bf096b/24123/find-replace-xmas2020.png 1.5x,\n/static/bea20c9acb4e061e353f5a6e73bf096b/492a0/find-replace-xmas2020.png 2x"}}}}},"next":{"id":"b255a7be-c8c9-5f97-bb45-88fefe3e23fd","html":"<p>I am starting a redesign of my website.  I have started cross posting to <a href=\"https://dev.to\">dev.to</a> more regularly.  With that I have been making more detailed cover images at the recommended <code class=\"language-text\">1000x420</code>.  These images get cut off on my own site, which is a bit ridiculous to have my own content not look right on my own site.  But before we start a heavy redesign I have a small issue that has plagued the site for at least a year!</p>\n<blockquote>\n<p>I have a small issue that has plagued the site for at least a year!</p>\n</blockquote>\n<p>I have been using styled components in my gatsby.js site for about a year now.  And it has been plagued by styled-components not being in the ssr causing some jank in the styles being loaded.  You can see it in the lighthouse performance report below.  It generally loads super quick, and is only caused on first load.  Anything using the gatsby <code class=\"language-text\">&lt;Link/&gt;</code> component typically is fine and unaffected by the issue.</p>\n<h2>The fix</h2>\n<p>The fix was so simple it was only 2 lines total. One to install <code class=\"language-text\">gatsby-plugin-styled-components</code> and one to use it.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i gatsby-plugin-styled-components</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n   'gatsby-plugin-styled-components'<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2>Before</h2>\n<p><img src=\"../../2020-02-06%2015-27-45_Start.png\"></p>\n<h2>After</h2>\n<p><img src=\"../../2020-02-07%2017-20-31_Start.png\"></p>\n<h2>Why did it take so long to Fix?</h2>\n<p>The real issue here was that I really didn't understand the problem as I described it above until I found the fix. It really did seem random that at odd times the styles would seem to vanish.  Sometimes never fully rehydrating at all.  Well actually I had fixed some production sites at work with it, but had no idea why it worked and therefore could not remember how I had fixed it, and google searched yielded no help.</p>\n<p><img src=\"../../the-moment-i-realized-the-true-problem-1.png\"></p>\n<p>After re-watching Wes Bos's Advanced react course where he describes how to fix this issue for <code class=\"language-text\">next.js</code> sites it became clear that the problem was not random at all.  It was that they do not get statically rendered and are only on the page after react is re-hydrated.  The moment I realized the <strong>true</strong> problem I knew how to google it and quickly found there was a plugin for this.</p>","fields":{"slug":"/fix-styled-components-in-gatsby/"},"frontmatter":{"tags":[],"title":"I finally fixed my Styled-Components in gatsby.js","description":"I finally fixed my Styled-Components in gatsby.js","templateKey":"blog-post","status":"published","date":"2020-02-08T15:07:00.000Z","cover":null}},"similarPosts":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}},"staticQueryHashes":["2992646504"]}