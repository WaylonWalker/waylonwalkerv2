{"componentChunkName":"component---src-templates-blog-post-js","path":"/what-is-refactoring/","result":{"data":{"markdownRemark":{"id":"0eecf397-5032-565a-8256-60f6740979f0","html":"<p>Make the change easy</p>\n<p>Make the easy change</p>\n<p>Martin Fowler</p>\n<p>When to refactor</p>","fields":{"slug":"/what-is-refactoring/"},"frontmatter":{"date":"2020-02-20T22:06:00.000Z","title":"What is Refactoring","description":"Make the change easy Make the easy change Martin Fowler When to refactor","status":"false","cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/what-is-refactoring-xmas2020.png","xsm_img":{"fixed":{"src":"/static/0e133a3453cd37d4fe68523d94f5079c/ef958/what-is-refactoring-xmas2020.png","srcWebp":"/static/0e133a3453cd37d4fe68523d94f5079c/f6b6d/what-is-refactoring-xmas2020.webp"}},"sm_img":{"fixed":{"src":"/static/0e133a3453cd37d4fe68523d94f5079c/630fb/what-is-refactoring-xmas2020.png","srcWebp":"/static/0e133a3453cd37d4fe68523d94f5079c/403a4/what-is-refactoring-xmas2020.webp"}},"med_img":{"fixed":{"src":"/static/0e133a3453cd37d4fe68523d94f5079c/46604/what-is-refactoring-xmas2020.png","srcWebp":"/static/0e133a3453cd37d4fe68523d94f5079c/e9589/what-is-refactoring-xmas2020.webp"}},"full":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVQY0y2RzU8TQRTAe/IoJJTS3W4/Z3dnux/z3uzsLt3t0g+FgAfogY+kEgMWVIixJCbKwRBDpYCJoFzUk2cTL178/5xWk5dfXibze2/mvUxR52UDVZOXdF40UVKVJwRUAzSdW/UYoAOsjWwJscn8JQEx+AnnDeSLGXlDM6TgF6eJRlAlKKkQKEzqCstNGesw1mLQZDxFiBlPgDeARxnZJ08wV/FyVaYQLBh+vgb/Qqly2+0WiO9Bx4M2YNuDVPpSdnGRYZRRaliigSPaOkukeT9vyhILVZYtuyJZK+sRceMaCW0n1c3AZQmtB9QOPGxMZLUGC6a4+fbj56/fo+vPp2fj7SfPN3efNZd7N3ff37wbnV/eji5ux5dfrq7vzt5fXYw/vTg6cVjE5J/nCLcVutVa7R8O+/vHGzt7GK+kyz3J1V5/cPy682hzbzDc2jkYHA7Xe/2nBy9fnbz9L1cs/PPxw/njo3s5fUYxZxSaLblzRTtbciRnVWu2YM1rLrViwwhpPTKosJwAeDx5NgP4erq73tzIVjzN9OWElenAJ5yubRpYoaHg3Vg87IZrrXAlFQ8IDf4CSkhqif145GAAAAAASUVORK5CYII=","width":1000,"height":420,"src":"/static/0e133a3453cd37d4fe68523d94f5079c/a8734/what-is-refactoring-xmas2020.png","srcSet":"/static/0e133a3453cd37d4fe68523d94f5079c/a8734/what-is-refactoring-xmas2020.png 1x"},"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVQY0y2RzU8TQRTAe/IoJJTS3W4/Z3dnux/z3uzsLt3t0g+FgAfogY+kEgMWVIixJCbKwRBDpYCJoFzUk2cTL178/5xWk5dfXibze2/mvUxR52UDVZOXdF40UVKVJwRUAzSdW/UYoAOsjWwJscn8JQEx+AnnDeSLGXlDM6TgF6eJRlAlKKkQKEzqCstNGesw1mLQZDxFiBlPgDeARxnZJ08wV/FyVaYQLBh+vgb/Qqly2+0WiO9Bx4M2YNuDVPpSdnGRYZRRaliigSPaOkukeT9vyhILVZYtuyJZK+sRceMaCW0n1c3AZQmtB9QOPGxMZLUGC6a4+fbj56/fo+vPp2fj7SfPN3efNZd7N3ff37wbnV/eji5ux5dfrq7vzt5fXYw/vTg6cVjE5J/nCLcVutVa7R8O+/vHGzt7GK+kyz3J1V5/cPy682hzbzDc2jkYHA7Xe/2nBy9fnbz9L1cs/PPxw/njo3s5fUYxZxSaLblzRTtbciRnVWu2YM1rLrViwwhpPTKosJwAeDx5NgP4erq73tzIVjzN9OWElenAJ5yubRpYoaHg3Vg87IZrrXAlFQ8IDf4CSkhqif145GAAAAAASUVORK5CYII=","aspectRatio":2.380952380952381,"src":"/static/0e133a3453cd37d4fe68523d94f5079c/a8734/what-is-refactoring-xmas2020.png","srcSet":"/static/0e133a3453cd37d4fe68523d94f5079c/2d6f8/what-is-refactoring-xmas2020.png 250w,\n/static/0e133a3453cd37d4fe68523d94f5079c/03ac3/what-is-refactoring-xmas2020.png 500w,\n/static/0e133a3453cd37d4fe68523d94f5079c/a8734/what-is-refactoring-xmas2020.png 1000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"0eecf397-5032-565a-8256-60f6740979f0","prev":{"id":"0c39c4a5-c626-5d9e-8fef-9ad3ca05fb2f","html":"<p><a href=\"https://kedro.readthedocs.io\">kedro</a> is an open-source data pipeline framework.  It provides guardrails to set your project up right from the start without needing to know deeply how to set up your own python library for data pipelining.  It includes great ways to manipulate <code class=\"language-text\">catalogs</code> and <code class=\"language-text\">pipelines</code>.  This article will cover the 10K view of <a href=\"https://kedro.readthedocs.io\">kedro</a>, future articles will dive deeper into each one.</p>\n<!-- {% slideshare DAZrqvJmuUUfFF %} -->\n<h2>Libraries</h2>\n<p>Currently, <a href=\"https://kedro.readthedocs.io\">kedro</a> is broken down into 3 different libraries.</p>\n<p>üíé <a href=\"https://kedro.readthedocs.io\">kedro</a></p>\n<p>üìâ <a href=\"https://github.com/quantumblacklabs/kedro-viz\">kedro-viz</a></p>\n<p>üèó <a href=\"https://github.com/quantumblacklabs/kedro-docker\">kedro-docker</a></p>\n<h2><a href=\"https://kedro.readthedocs.io\">kedro</a></h2>\n<p><img src=\"https://waylonwalker.com/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f7175616e74756d626c61636b6c6162732f6b6564726f2f6d61737465722f696d672f6b6564726f5f62616e6e65722e6a7067.jpg\" alt=\"kedro logo\"></p>\n<p><a href=\"https://kedro.readthedocs.io\">kedro</a> is the core of the ecosystem.  It provides the docs, getting started, <code class=\"language-text\">kedro new</code> templates, and the core library including the catalog and pipeline.</p>\n<h3>Catalog</h3>\n<p><img src=\"https://dev-to-uploads.s3.amazonaws.com/i/trzfj86dbq0ronis26x1.jpg\" alt=\"catalogs\"></p>\n<p>Inside this core library is a data catalog object.  This allows you to specify attributes about your data, then load and save it without ever writing a single line of read/write code, which can become very cumbersome.  Older versions would load this into the io variable, currently it loads into the catalog.  The power of the catalog is that it allows you to read and write data by just referencing its name.  Typically this is done inside of a YAML file, but can be done in python.</p>\n<p>Here is an example of a CSV dataset stored locally</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Example 1: Loads a local csv file</span>\n<span class=\"token key atrule\">bikes</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> CSVLocalDataSet\n  <span class=\"token key atrule\">filepath</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"data/01_raw/bikes.csv\"</span></code></pre></div>\n<p>This dataset can be loaded by name</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">catalog<span class=\"token punctuation\">.</span>load<span class=\"token punctuation\">(</span><span class=\"token string\">'bikes'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Though it's not typical practice it is possible to save data to a catalog entry ad-hoc.  Typically the pipeline is used to run functions and save data for you.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\nbikes_df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span>bikes_data<span class=\"token operator\">></span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\ncatalog<span class=\"token punctuation\">.</span>datasets<span class=\"token punctuation\">.</span>bikes<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>bikes_df<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Pipeline</h3>\n<p><img src=\"https://waylonwalker.com/roman-pentin-T5QT2bmiD4E-unsplash.jpg\" alt=\"building pipelines\"></p>\n<p>The pipeline object is the brains of <a href=\"https://kedro.readthedocs.io\">kedro</a>.  When working with <a href=\"https://kedro.readthedocs.io\">kedro</a> you simply define functions that take in data as arguments, manipulate it, and return a new dataset.  The pipeline will decide what order to execute these functions ini based on their dependencies.  It will then work with the catalog to load the data from the catalog pass it to your function, the save the returned data in the catalog.</p>\n<p>Here is an example pipeline from the docs.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>pipeline <span class=\"token keyword\">import</span> Pipeline\n<span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>pipeline <span class=\"token keyword\">import</span> node\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">clean_data</span><span class=\"token punctuation\">(</span>cars<span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">,</span>\n               boats<span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Dict<span class=\"token punctuation\">[</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">,</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>cars_df<span class=\"token operator\">=</span>cars<span class=\"token punctuation\">.</span>dropna<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> boats_df<span class=\"token operator\">=</span>boats<span class=\"token punctuation\">.</span>dropna<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">halve_dataframe</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">:</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> List<span class=\"token punctuation\">[</span>pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> np<span class=\"token punctuation\">.</span>array_split<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\nnodes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    node<span class=\"token punctuation\">(</span>clean_data<span class=\"token punctuation\">,</span>\n         inputs<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'cars2017'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'boats2017'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n         outputs<span class=\"token operator\">=</span><span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>cars_df<span class=\"token operator\">=</span><span class=\"token string\">'clean_cars2017'</span><span class=\"token punctuation\">,</span>\n                      boats_df<span class=\"token operator\">=</span><span class=\"token string\">'clean_boats2017'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    node<span class=\"token punctuation\">(</span>halve_dataframe<span class=\"token punctuation\">,</span>\n         <span class=\"token string\">'clean_cars2017'</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">[</span><span class=\"token string\">'train_cars2017'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test_cars2017'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    node<span class=\"token punctuation\">(</span>halve_dataframe<span class=\"token punctuation\">,</span>\n         <span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span><span class=\"token string\">'clean_boats2017'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">[</span><span class=\"token string\">'train_boats2017'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test_boats2017'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span>\n\npipeline <span class=\"token operator\">=</span> Pipeline<span class=\"token punctuation\">(</span>nodes<span class=\"token punctuation\">)</span></code></pre></div>\n<h2><a href=\"https://github.com/quantumblacklabs/kedro-viz\">kedro-viz</a></h2>\n<p><a href=\"https://github.com/quantumblacklabs/kedro-viz\">kedro-viz</a> is a priceless component to the <a href=\"https://kedro.readthedocs.io\">kedro</a> ecosystem.  It gives you x-ray vision into your project.  You can see exactly how data flows through your pipeline.  Since it is fully automated it is always up to date and never lies to you.  <a href=\"https://github.com/quantumblacklabs/kedro-viz\">kedro-viz</a> is an integral part of my daily debugging and refactoring toolbelt.</p>\n<p>Starting the viz from the command line is super easy</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> my-kedro-project\nkedro viz</code></pre></div>\n<p><img src=\"https://waylonwalker.com/pipeline_visualisation.png\"></p>\n<h2><a href=\"https://github.com/quantumblacklabs/kedro-docker\">kedro-docker</a></h2>\n<p><a href=\"https://github.com/quantumblacklabs/kedro-docker\">kedro-docker</a> is a simple way to set up your project for production.  It provides a few simple cli commands</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> my-kedro-project\nkedro docker build\nkedro docker run</code></pre></div>\n<h2>Other resources</h2>\n<p>The <a href=\"https://kedro.readthedocs.io/\">kedro docs</a> have a ton of great resources.  They are searchable, but can be a bit of an overwhelming amount of data.</p>\n<p>I keep adding to my <a href=\"https://waylonwalker.com/notes/kedro/\">kedro notes</a> as I find new and interesting things.</p>\n<p>I tweet out most of those snippets as I add them, you can find them all here <a href=\"https://twitter.com/search?q=%23kedrotips\">#kedrotips</a>.</p>\n<h2>More to come</h2>\n<p>I am planning to do more articles like this, you can stay up to date with them by following me on <a href=\"https://dev.to/waylonwalker\">dev.to</a>, subscribing to my <a href=\"https://waylonwalker.com/rss.xml\">rss feed</a>, or subscribe to my <a href=\"https://waylonwalker.com/newsletter\">newsletter</a></p>","fields":{"slug":"/what-is-kedro/"},"frontmatter":{"tags":["kedro"],"title":"What is Kedro","description":"Kedro is an open source data pipeline framework.  It provides guardrails to set your project up right from the start without needing to know deeply how to setup your own python library for data pipelining.  It includes really great ways to manipulate `catalogs` and `pipelines`.  This article will cover the 10K view of kedro, future articles will dive deper into each one.","templateKey":"blog-post","status":"published","date":"2020-02-24T12:48:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVQY0yWQy2oUQRSG+xFcKRiImbG6q6q7Ll1dVd09U32bpGdGMzI6MRMToy1x8BavERREBH0EwaUByUZ0oYgQN7pw4UrcCb6Bz2ENwuFfHM7Hf/ic23ce7u+/2Xv8dLvZWT23BnwKmUSyC9MKdwaBGdrEMjvpR2fWtj4d/hqOzgMcBkxjohxMtYjzKK3zXlOuXDfFrcRspeVM5w2MMk+VWGkaoiUsxtPm+4+f/fEUIOGzGFoYEeVhTqP+le1vG+ufNzc+Xm2+XrrwZXL2tS9yxCIXLCy1jmPfW3SJ7XT9qA2Zi4UFHZ8qnmpfdY25llf3O9msrB70lh/V/RcoNChMF1185Oix0eTiy1dvw7gslkfv3h+OxtO2xxxAdE2iU0y1iIBEeESCgHEtqBKQJ5DFKIwXQDDb3fv9569ITJyVBwcfJutNG3LnBImf37j7bOdmixscdhBP7ZCwF0arTAy4GDJ12mMJVVm3qlJzmctNzCThOQykgwMJhAG6h5MaJSvzNqoIr7gYBLxgoi7KJySqMS9BECfZbre4h3iHhAX6LwwTab0jGs9r7Z9UQ6Y9qiCdp0clnG9izFOPCteqt2dUWfAfLbF1qIqbracAAAAASUVORK5CYII=","width":500,"height":210,"src":"/static/27debd76b7282c6a93060e9eb66ba0b8/46604/what-is-kedro-xmas2020.png","srcSet":"/static/27debd76b7282c6a93060e9eb66ba0b8/46604/what-is-kedro-xmas2020.png 1x,\n/static/27debd76b7282c6a93060e9eb66ba0b8/d8815/what-is-kedro-xmas2020.png 1.5x,\n/static/27debd76b7282c6a93060e9eb66ba0b8/31987/what-is-kedro-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/0lEQVQozyVQTWsTUQDc/+AlaqWN3d333r7P3X37dvOym02ya01qaSxpSLqk1TZVsCLqQepH8aMeBEuxCiLeiujBg1cv0qsH8aDin9CDP0FMEIZhDjPDMMbzZy9GV66d7xYLna4jFBQKiQgHCVQJkXUc1rCfQFkFxE+y1s07T9N62yYeocph0jh88+7xk73lwUp/OLQoMR1icc+OEqBzR7dR3EaVOeRXp4FYLja+//zT6Q7LNsVMISoNh4UsiHVtPc1Gjeyuji9WaqO4eYNFi7YX2TIlkhEOp5HX6a99/vqttTQo29xhChJpmMiDPFxb+dTvfej3PhbF4ebaj0Hvfa1x1WIBpvh0+bhpnrQgPDGDbOwBImdMMgvEJOzriAYqSa5nZx6mje0838mzR/PtA51sWUyOe0tTU8dKpXNLxf3dAy5j5ldfvX5brF4qW9RwAVaQzmJmEWZTMYsIdqkXRlC4NlOAh0BEpTLc2d3/9fuvipsiTI6OvtzafmAiYextbr1cvzxNI8RDyMaIHFczv868nLoZ5ikQgYn9uHl2dWPkh20bN5ROZZDbjmtU8sWo1bVlHYYZEBpQiZj2vAXXmyc8jaILtcY9yCuAJKdMGqe387l9E7tMNCFR48NcCwfQjaGsQaHHNwCq/k+YFPGYenNjjbh2RAxFFXI94bGByH8k74if3itvbAAAAABJRU5ErkJggg==","width":200,"height":85,"src":"/static/27debd76b7282c6a93060e9eb66ba0b8/71e30/what-is-kedro-xmas2020.png","srcSet":"/static/27debd76b7282c6a93060e9eb66ba0b8/71e30/what-is-kedro-xmas2020.png 1x,\n/static/27debd76b7282c6a93060e9eb66ba0b8/24123/what-is-kedro-xmas2020.png 1.5x,\n/static/27debd76b7282c6a93060e9eb66ba0b8/492a0/what-is-kedro-xmas2020.png 2x"}}}}},"next":{"id":"9e56d818-8dc8-5e87-b7ca-edd268ba1a54","html":"<p>If we take a look at the <a href=\"https://github.com/quantumblacklabs/kedro/blob/master/RELEASE.md\">release notes</a> I see one <strong>major</strong> feature improvement on the list, auto-discovery of hooks.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token title important\"><span class=\"token punctuation\">##</span> Major features and improvements</span>\n\n<span class=\"token list punctuation\">*</span> Enabled auto-discovery of hooks implementations coming from installed plugins.</code></pre></div>\n<p>This one comes a bit surprising as it was just casually mentioned in <a href=\"https://github.com/quantumblacklabs/kedro/issues/435\">#435</a></p>\n<p><a href=\"https://github.com/quantumblacklabs/kedro/issues/435\"><img src=\"https://waylonwalker.com/kedro-435.png\" alt=\"auto enabled plugins mentioned in issue 435\"></a></p>\n<h2>Think pytest</h2>\n<p>As mentioned in <a href=\"https://github.com/quantumblacklabs/kedro/issues/435\">#435</a> this is the model that pytest uses. Not all plugins automatically start doing things right out of the box but require a CLI argument.</p>\n<h2>simplicity</h2>\n<p>It feels a bit crazy that simply installing a package will change the way that your pipeline gets executed. I do like that it requires just a bit less reaching into the framework stuff for the average user. Most folks will be able to write in the catalog and nodes without much change to the rest of the project.</p>\n<h2>Implementation</h2>\n<p>Reading through the <a href=\"https://kedro.readthedocs.io/en/stable/07_extend_kedro/05_plugins.html#hooks\">docs</a>, they show us that we can make our hooks automatically register by adding a <code class=\"language-text\">kedro.hooks</code> endpoint that points to a <em>singleton</em> instance of our hook.</p>\n<p><em>from the docs</em></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">setup<span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    entry_points<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"kedro.hooks\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"plugin_name = plugin_name.plugin:hooks\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">import</span> logging\n\n<span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>framework<span class=\"token punctuation\">.</span>hooks <span class=\"token keyword\">import</span> hook_impl\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyHooks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token decorator annotation punctuation\">@hook_impl</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">after_catalog_created</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> catalog<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># pylint: disable=unused-argument</span>\n        logging<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span><span class=\"token string\">\"Reached after_catalog_created hook\"</span><span class=\"token punctuation\">)</span>\n\nhooks <span class=\"token operator\">=</span> MyHooks<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Careful with the singletons</h2>\n<p><em>hook authors beware</em></p>\n<p>I will be a bit cautious before installing a plugin that is automatically registered. I know its not a common pattern, but if you were to leverage any part of two kedro projects at the same time, and project-specific data was stored in the instance of the hook it will likely be broken.</p>\n<p>As long as the hook doesn't store data on the instance you will be ok. Hooks like what they have in the examples will be ok. They generally just take some information from the lifecycle arguments and do something at their prescribed lifecycle point.</p>\n<p>Many of the hooks I am seeing in the wild are already more complicated and require the hooks author to utilize an <code class=\"language-text\">__init__</code> method and store data on the instance. If you were to do this on two pipelines simultaneously it would break.</p>\n<h2>Can my hook be auto-discovered</h2>\n<p>If your hook doesn't include a <code class=\"language-text\">__init__</code> method its a fairly easy yes, otherwise be aware of the potential dangers of passing singleton on to your users.</p>\n<h2>Use Virtual environments</h2>\n<p>Whatever virtual environment manager you use, it is more important than ever to make sure you <strong>DO NOT</strong> install plugins in your global environment. Generally, you should always run projects <em>even toys or tests</em> in a <strong>virtual</strong>  <strong>environemnt</strong>.</p>\n<p><em>I use conda</em></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda create -n my-sample-env <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3.8</span> -y</code></pre></div>\n<h2>Overall</h2>\n<p>I think this is a really interesting direction for the project to go to. Hooks are still really early. The implementation is good, but I foresee us getting some more functionality that may require us to rely on the <code class=\"language-text\">__init__</code> method a little less.  I think there are going to be some really cool hooks that can leverage the simplicity of auto-discoverability.</p>","fields":{"slug":"/whats-new-in-kedro-0164/"},"frontmatter":{"tags":["python","kedro"],"title":"What's New in Kedro 0.16.4","description":"If we take a look at the release notes I see one **major** feature improvement on the list, auto-discovery of hooks.","templateKey":"blog-post","status":"published","date":"2020-08-01T05:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5ElEQVQY0yWRzWvTYACHc/EktMPOjbQsSZPYpEnej+RN0ua7Fa0pijKck9UV10np1EqdZWyodYdNqkMRRcfEQ5GCzF0cKN538yoK4sXDLv4bdgjP9YHfw49K81jS7A8fh8vdB4ykp9ISK5vYjBK0MMECWXYwOo1ghGFgmhEplG3DN6zAsnydFCk6i3LA/vP7W7uzZrhnNCOScdi63Z3KGZMcYEWiaAGCJQhDQkpmoWyZ4Ug27cAgDnWSg3nD+3v4/Wb3/t6nLzuD4fbbwY+fv3obW7t7+/HFeiIjqyBSQYhwhPUQ6T7UPURcNJIns0gEzoXpeqe5uv7o6cPljScvt1+9G5yNr3w9OHjW6l8ntYJRwagEoK9BF0AHoCLANtRtKi3gcR4fy5zaDLq78daw0r9lLW6WV95X+4ZSWiSNw/nP+5fe7FQfvzjXg9jXkKshT9N9gGxqXMBFERNRrZDp1aj9Ol5vuo0bzsK8fS3ClbnLYa929flS/e7sTPP8zKgfABNr2YLn2IUilWS1tYXWSq1xnFHG2PwED5NsfoxTEoySkWC75c3Omfc63p2lclz1ZcVHapaZoi1AB551NDvFHzH6LCPotIDSgv4fmseMhEXF4CQ9p9oABAiHch6mTiQZjmcl8g/DEYDQe8OoDgAAAABJRU5ErkJggg==","width":500,"height":210,"src":"/static/c7345da682e70fe0f2f29584363e39d3/46604/whats-new-in-kedro-0164-xmas2020.png","srcSet":"/static/c7345da682e70fe0f2f29584363e39d3/46604/whats-new-in-kedro-0164-xmas2020.png 1x,\n/static/c7345da682e70fe0f2f29584363e39d3/d8815/whats-new-in-kedro-0164-xmas2020.png 1.5x,\n/static/c7345da682e70fe0f2f29584363e39d3/31987/whats-new-in-kedro-0164-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAACF0lEQVQoz2OQUTZQ0zHdvGVlV/ckfTMHMTltUTktO2c/KQVtfhk1MWktTR0rAz0HXX17A11bUxN7YwsncyNbYzNbU1NbBgklA1Uds5s3jzS396obWHv4R3IIKZRWNdk4+0qqGIjJ6cirmmjp2Oro2evq2hobOxibORob2xqZ2hoDNYsp6GkYWD17cL62tbt3ysyTZ8/nldVeuXpj7cZtnX1TVq3ZIqNuJqasr6vnoK1nq29gb2Bkp29oo29orW9kxSChqK+ia+kfFp+aVNjY3NPW1Nfc1Lti29bIxMyS+pZzpy5m26X5GQdp69np6tlp6Fjq6FkBka6+ha6BOYOUsoGkihGrpEqhedpi17b5Li1FFhnptsmT3eqqnfI1NW0XunY9jN420bVxtmdbi0uZiSHQCZY6+tY6BtYM4iqGCtKaMlLKHkYB/W41GwIntTmXdTpV5NukF1llmxpZpvv6L04s6YnKLA+IL3RPAtoPtFlfR9XQwpqBR1a7NSFtQmwSn7yOiKKOkqqZhJI+n7ymiJIOh6SmvbNJGdCMPOPyEruqEidnNys1TVtDXVV1ZSkjHSkGcUU9bQsXLXNncQVdSSV9UUU9oGYpJQMgW1zBQFHT0MrW1MzSxNrOzNbGxtzUXlffTltTU0RYSFZanEFSyUBEVktUThuoBxOJKeoLyeoJy+kBSRF5fXk1U00dS209KwkpGQk5FQDNpo/Uk6XipwAAAABJRU5ErkJggg==","width":200,"height":85,"src":"/static/c7345da682e70fe0f2f29584363e39d3/71e30/whats-new-in-kedro-0164-xmas2020.png","srcSet":"/static/c7345da682e70fe0f2f29584363e39d3/71e30/whats-new-in-kedro-0164-xmas2020.png 1x,\n/static/c7345da682e70fe0f2f29584363e39d3/24123/whats-new-in-kedro-0164-xmas2020.png 1.5x,\n/static/c7345da682e70fe0f2f29584363e39d3/492a0/whats-new-in-kedro-0164-xmas2020.png 2x"}}}}},"similarPosts":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}},"staticQueryHashes":["2992646504"]}