{"componentChunkName":"component---src-templates-blog-post-js","path":"/quick-progress-bars-in-python-using-tqdm/","result":{"data":{"markdownRemark":{"id":"e029bbfa-9081-5314-8491-8acc18579e0d","html":"<p>tqdm is one of my favorite general purpose utility libraries in python.  It allows me to see progress of multipart processes as they happen.  I really like this for when I am developing something that takes some amount of time and I am unsure of performance.  It allows me to be patient when the process is going well and will finish in sufficient time, and allows me to ðŸ’¥ kill it and find a way to make it perform better if it will not finish in sufficient time.</p>\n<p><img src=\"../../tqdm2.gif\"></p>\n<blockquote>\n<p>for more gifs like these follow me on twitter\n<a href=\"https://twitter.com/_WaylonWalker\">@waylonwalker</a></p>\n</blockquote>\n<p><strong>Add a simple Progress bar!</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> tqdm <span class=\"token keyword\">import</span> tqdm\n<span class=\"token keyword\">from</span> time <span class=\"token keyword\">import</span> sleep\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> tqdm<span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\tsleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>convenience</strong></p>\n<p>TQDM also has a convenience function called trange that wraps the range function with a tqdm progress bar automatically.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> tqdm <span class=\"token keyword\">import</span> trange\n<span class=\"token keyword\">from</span> time <span class=\"token keyword\">import</span> sleep\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> trange<span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\tsleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>notebook support</strong></p>\n<p>There is also notebook support.  If you are bouncing between ipython and jupyter I recomend importing from the auto module.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> tqdm<span class=\"token punctuation\">.</span>auto <span class=\"token keyword\">import</span> tqdm\n<span class=\"token keyword\">from</span> time <span class=\"token keyword\">import</span> sleep\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> tqdm<span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\tsleep<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<a class=\"onelinelink\" href=\"https://waylonwalker.com/autoreload-ipython/\">\n<img style=\"float: right;\" align=\"right\" src=\"https://waylonwalker.com/static/de227ffcb7da2e5c1170a8434163bec9/630fb/autoreload-ipython-xmas2020.png\" alt=\"article cover for Autoreload in Ipython\">\n<div class=\"right\">\n    <h2>Autoreload in Ipython</h2>\n    <p class=\"description\">\n    Autoreload in python\n    </p>\n    <p class=\"url\">\n    <span class=\"read-more\">read more</span>  waylonwalker.com\n    </p>\n</div>\n</a>\n<blockquote>\n<p>If you are using notebooks you should enable ipython autoreload ðŸ‘†</p>\n</blockquote>","fields":{"slug":"/quick-progress-bars-in-python-using-tqdm/"},"frontmatter":{"date":"2019-09-18T05:00:00.000Z","title":"Quick Progress Bars in python using TQDM","description":"Quick Progress Bars in python using TQDM","status":"published","cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/photo-1448387473223-5c37445527e7.jpg","xsm_img":{"fixed":{"src":"/static/c384bf79ec557d3162f5165f3954c06a/2c7f8/photo-1448387473223-5c37445527e7.jpg","srcWebp":"/static/c384bf79ec557d3162f5165f3954c06a/f6b6d/photo-1448387473223-5c37445527e7.webp"}},"sm_img":{"fixed":{"src":"/static/c384bf79ec557d3162f5165f3954c06a/9dc27/photo-1448387473223-5c37445527e7.jpg","srcWebp":"/static/c384bf79ec557d3162f5165f3954c06a/403a4/photo-1448387473223-5c37445527e7.webp"}},"med_img":{"fixed":{"src":"/static/c384bf79ec557d3162f5165f3954c06a/0f3a1/photo-1448387473223-5c37445527e7.jpg","srcWebp":"/static/c384bf79ec557d3162f5165f3954c06a/e9589/photo-1448387473223-5c37445527e7.webp"}},"full":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAG0CWkVh//EABcQAAMBAAAAAAAAAAAAAAAAAAABAiH/2gAIAQEAAQUCdm0JZ//EABkRAAIDAQAAAAAAAAAAAAAAAAACAQMRMf/aAAgBAwEBPwGvmjNOn//EABgRAAMBAQAAAAAAAAAAAAAAAAABIQIx/9oACAECAQE/AdRwXD//xAAZEAABBQAAAAAAAAAAAAAAAAAAARAiUbH/2gAIAQEABj8CiUmt/8QAGBABAAMBAAAAAAAAAAAAAAAAAQARITH/2gAIAQEAAT8hRvolY6DsEGsn/9oADAMBAAIAAwAAABB4P//EABkRAQACAwAAAAAAAAAAAAAAAAEAESFB4f/aAAgBAwEBPxCiUZ4QbB3P/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EE5qShb/xAAcEAEAAgEFAAAAAAAAAAAAAAABABExIUFRccH/2gAIAQEAAT8QKVVQtdL9Ys4wOeztA0IrAz//2Q==","width":1000,"height":420,"src":"/static/c384bf79ec557d3162f5165f3954c06a/9cf42/photo-1448387473223-5c37445527e7.jpg","srcSet":"/static/c384bf79ec557d3162f5165f3954c06a/9cf42/photo-1448387473223-5c37445527e7.jpg 1x"},"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAG0CWkVh//EABcQAAMBAAAAAAAAAAAAAAAAAAABAiH/2gAIAQEAAQUCdm0JZ//EABkRAAIDAQAAAAAAAAAAAAAAAAACAQMRMf/aAAgBAwEBPwGvmjNOn//EABgRAAMBAQAAAAAAAAAAAAAAAAABIQIx/9oACAECAQE/AdRwXD//xAAZEAABBQAAAAAAAAAAAAAAAAAAARAiUbH/2gAIAQEABj8CiUmt/8QAGBABAAMBAAAAAAAAAAAAAAAAAQARITH/2gAIAQEAAT8hRvolY6DsEGsn/9oADAMBAAIAAwAAABB4P//EABkRAQACAwAAAAAAAAAAAAAAAAEAESFB4f/aAAgBAwEBPxCiUZ4QbB3P/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EE5qShb/xAAcEAEAAgEFAAAAAAAAAAAAAAABABExIUFRccH/2gAIAQEAAT8QKVVQtdL9Ys4wOeztA0IrAz//2Q==","aspectRatio":2.380952380952381,"src":"/static/c384bf79ec557d3162f5165f3954c06a/9cf42/photo-1448387473223-5c37445527e7.jpg","srcSet":"/static/c384bf79ec557d3162f5165f3954c06a/ff9d4/photo-1448387473223-5c37445527e7.jpg 250w,\n/static/c384bf79ec557d3162f5165f3954c06a/2dc04/photo-1448387473223-5c37445527e7.jpg 500w,\n/static/c384bf79ec557d3162f5165f3954c06a/9cf42/photo-1448387473223-5c37445527e7.jpg 1000w,\n/static/c384bf79ec557d3162f5165f3954c06a/46be9/photo-1448387473223-5c37445527e7.jpg 1050w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"e029bbfa-9081-5314-8491-8acc18579e0d","prev":{"id":"4ea10873-8d4a-5b87-903f-eed19e1ea188","html":"<p>There are various ways to configure python tools, config files, code, or\nenvironment variables.  Let's look at a few projects that allow users to\nconfigure them through the use of config files and how they do it.</p>\n<h2>Motivation</h2>\n<p>This will not include how they are implemented, I've looked at a few and its\nnot simple.  This will focus on where config is placed and the order in which\nduplicates are resolved.</p>\n<p>The motivation of this article is to serve as a bit of a reference guide for\nthose who may want to create their own package that needs configuration.</p>\n<h2>Flake8</h2>\n<h3>Global</h3>\n<p>User settings can exist in the users <code class=\"language-text\">~/.config/flake8</code> file to configure how\nflake8 runs on their machine.</p>\n<ul>\n<li><code class=\"language-text\">~/.config/flake8</code></li>\n</ul>\n<h3>Per-Project</h3>\n<p>Only One project config file will be considered, but allows for several\noptions.  These files all use the <code class=\"language-text\">ini</code> format and must have a <code class=\"language-text\">[flake8]</code>\nsection  header to be consideered.</p>\n<p>Selection of the config file can also be overridden by the <code class=\"language-text\">--config</code> cli option.</p>\n<p>An extra config file may be selected as <code class=\"language-text\">--append-config</code>.  It will be read in\nlast and take highest precedence.</p>\n<ul>\n<li><code class=\"language-text\">tox.ini</code></li>\n<li><code class=\"language-text\">setup.cfg</code></li>\n<li><code class=\"language-text\">.pep8</code></li>\n<li><code class=\"language-text\">.flake8</code></li>\n</ul>\n<h2>Example Config</h2>\n<p><em>valid in any of the supported files</em></p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token selector\">[flake8]</span>\n<span class=\"token constant\">max-line-length</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> 88</span>\n<span class=\"token constant\">extend-ignore</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> E203, W503</span></code></pre></div>\n<h3>Options</h3>\n<p>The number of options configured through config files is fairly short for <code class=\"language-text\">flake8</code>.</p>\n<ul>\n<li>exclude</li>\n<li>filename</li>\n<li>select</li>\n<li>ignore</li>\n<li>max-line-length</li>\n<li>format</li>\n<li>max-complexity</li>\n</ul>\n<h2>Black</h2>\n<p>Black only supports <code class=\"language-text\">TOML</code> file formats for configuration.</p>\n<h3>Global</h3>\n<p>Black provides no global config support.  If you really needed one I guess you\ncould make a cli alias.</p>\n<h3>Per-Project</h3>\n<p>Black states that it includes sane defaults that do not need configured, but if\nyou need to do so it only supports <code class=\"language-text\">pyproject.toml</code> or cli arguments.</p>\n<p>Personally I believe that a lot of work went into making these sane defaults\nreally good.  I personally do not make any configuration changes to black.</p>\n<ul>\n<li>pyproject.toml</li>\n</ul>\n<h2>Example</h2>\n<p><em>pyproject.toml</em></p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">tool.black</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">line-length</span> <span class=\"token punctuation\">=</span> <span class=\"token number\">88</span>\n<span class=\"token key property\">target-version</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'py37'</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">include</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">'\\.pyi?$'</span>\n<span class=\"token key property\">exclude</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">'''\n\n(\n  /(\n      \\.eggs         # exclude a few common directories in the\n    | \\.git          # root of the project\n    | \\.hg\n    | \\.mypy_cache\n    | \\.tox\n    | \\.venv\n    | _build\n    | buck-out\n    | build\n    | dist\n  )/\n  | foo.py           # also separately exclude a file named foo.py in\n                     # the root of the project\n)\n'''</span></code></pre></div>\n<h2>Resolution</h2>\n<p>Black will use teh <code class=\"language-text\">pyproject.toml</code> file for configuration, then make any\naddional overrides through the use of command line arguments.</p>\n<h2>MyPy</h2>\n<p><code class=\"language-text\">mypy</code> takes the cake for the most complex configuration.  Primarily because\nyou can configure how it treats different modules specifically.  These modules\nmay be inside your codebase or installed and imported in.</p>\n<h3>Per-Project</h3>\n<ul>\n<li>--config-file</li>\n<li>mypy.ini</li>\n<li>.mypy.ini</li>\n</ul>\n<h3>Global</h3>\n<ul>\n<li>$XDG<em>CONFIG</em>HOME/mypy/config</li>\n<li>~/.config/mypy/config</li>\n<li>~/.mypy.ini</li>\n</ul>\n<h3>Resolution</h3>\n<ul>\n<li>--config-file</li>\n<li>mypy.ini</li>\n<li>.mypy.ini</li>\n<li>setup.cfg</li>\n<li>$XDG<em>CONFIG</em>HOME/mypy/config</li>\n<li>~/.config/mypy/config</li>\n<li>~/.mypy.ini</li>\n</ul>\n<h3>Example</h3>\n<p><em>mypy.ini</em></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Global options:\n\n[mypy]\npython_version = 2.7\nwarn_return_any = True\nwarn_unused_configs = True\n\n# Per-module options:\n\n[mypy-mycode.foo.*]\ndisallow_untyped_defs = True\n\n[mypy-mycode.bar]\nwarn_return_any = False\n\n[mypy-somelibrary]\nignore_missing_imports = True</code></pre></div>\n<h2>Kedro - framework</h2>\n<p>Kedro is a unique one here.  It offers two distinctly different configurations,\none for how the framework behaves and the other for actual project config.</p>\n<p>Kedro does utilizes a <code class=\"language-text\">settings.py</code> and <code class=\"language-text\">pyproject.toml</code> to define a bit more\nof the framework settings.  These are the outter layer of your project.</p>\n<p>These files sit at the root of the project.</p>\n<h3><a href=\"https://github.com/quantumblacklabs/kedro/blob/fb88cc2504ddbfc93b9b859ca436130b396b93c4/docs/source/12_faq/02_architecture_overview.md#pyprojecttoml\">pyproject.toml</a></h3>\n<p>This replaces much of what used to be specified in run.py.</p>\n<ul>\n<li>package_name</li>\n<li>project_name</li>\n<li>project_version</li>\n<li>source_dir</li>\n</ul>\n<h3><a href=\"https://github.com/quantumblacklabs/kedro/blob/fb88cc2504ddbfc93b9b859ca436130b396b93c4/docs/source/12_faq/02_architecture_overview.md#settingspy\">Settings.py</a></h3>\n<ul>\n<li>DISABLE<em>HOOKS</em>FOR_PLUGINS</li>\n<li>HOOKS</li>\n<li>SESSION<em>STORE</em>CLASS</li>\n<li>SESSION<em>STORE</em>ARGS</li>\n<li>CONTEXT_CLASS</li>\n</ul>\n<h2>Kedro - project</h2>\n<p>Within the project generally in the <code class=\"language-text\">src/conf</code> directory kedro allows you to\nset both local and base configurations.  Local configurations will be git\nignored and most commonly used for credentials.</p>\n<ul>\n<li>catalog</li>\n<li>logging</li>\n<li>credentials</li>\n</ul>\n<h3>Config Loader</h3>\n<p>Kedro lets you setup the config loader if you choose to do so.  You can\nconfigure the directories to look in as well as the glob pattern for files.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> kedro<span class=\"token punctuation\">.</span>config <span class=\"token keyword\">import</span> ConfigLoader\n\nconf_paths <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"conf/base\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"conf/local\"</span><span class=\"token punctuation\">]</span>\nconf_loader <span class=\"token operator\">=</span> ConfigLoader<span class=\"token punctuation\">(</span>conf_paths<span class=\"token punctuation\">)</span>\nconf_catalog <span class=\"token operator\">=</span> conf_loader<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"catalog*\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"catalog*/**\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>additional envs</h3>\n<p>Additional to the <code class=\"language-text\">base</code> and <code class=\"language-text\">local</code> config, kedro lets you specify an env at\nruntime through a <code class=\"language-text\">--env</code> argumet or a <code class=\"language-text\">KEDRO_ENV</code> variable.  setting this will\nadditionally tell kedro to reach into <code class=\"language-text\">conf/&lt;env-name&gt;</code> for configuration.</p>\n<h3>Resolution Order</h3>\n<p>kedro will load each config starting from <code class=\"language-text\">base</code>, <code class=\"language-text\">local</code>, then <code class=\"language-text\">env</code> and will\noverrite any colllisions along the way.</p>\n<p><strong>precedence heirarchy</strong></p>\n<ul>\n<li>env</li>\n<li>local</li>\n<li>base</li>\n</ul>\n<h3>Jinja Support</h3>\n<p>As of <code class=\"language-text\">0.17.0</code> kedro supports jinja2 templates in its yml configuration files.\nThis is quite beneficial as catalogs can become incredebly repetative.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">{</span>% for speed in <span class=\"token punctuation\">[</span><span class=\"token string\">'fast'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'slow'</span><span class=\"token punctuation\">]</span> %<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> speed <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span><span class=\"token key atrule\">trains</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> MemoryDataSet\n\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> speed <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span><span class=\"token key atrule\">cars</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> pandas.CSVDataSet\n    <span class=\"token key atrule\">filepath</span><span class=\"token punctuation\">:</span> s3<span class=\"token punctuation\">:</span>//$<span class=\"token punctuation\">{</span>bucket_name<span class=\"token punctuation\">}</span>/<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> speed <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>cars.csv\n    <span class=\"token key atrule\">save_args</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">index</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n\n<span class=\"token punctuation\">{</span>% endfor %<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>flask</h2>\n<h2>pytest</h2>\n<p>Currently pytest is configured </p>\n<h2>resolution order</h2>\n<p><code class=\"language-text\">pytest</code> will look for the existence of each of these files, if its a match it\nwill stop looking for new files, even if the file is empty.</p>\n<ul>\n<li><code class=\"language-text\">pytest.ini</code></li>\n<li><code class=\"language-text\">pyproject.toml</code> with <code class=\"language-text\">[tool.pytest.ini_options]</code></li>\n<li><code class=\"language-text\">tox.ini</code> with <code class=\"language-text\">[pytest]</code></li>\n<li><code class=\"language-text\">setup.cfg</code> with <code class=\"language-text\">[tool:pytest]</code></li>\n</ul>\n<h2>Multiple Config</h2>\n<p><code class=\"language-text\">pytest</code> is a bit unique here in that it allows for multiple configs.  There is\na complex resolution for module specific configuration, but essentially it does\nthe resolution highlighted above through a number of directories and returns\nthe config closest to the test module.</p>\n<h2>Example pytest config</h2>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token comment\"># pytest.ini</span>\n<span class=\"token selector\">[pytest]</span>\n<span class=\"token constant\">minversion</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> 6.0</span>\n<span class=\"token constant\">addopts</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span> -ra -q</span>\n<span class=\"token constant\">testpaths</span> <span class=\"token attr-value\"><span class=\"token punctuation\">=</span></span>\n    tests\n    integration</code></pre></div>\n<h2>Command Line Options</h2>\n<p>As far as I am aware every option specified in a config file can also be\nconfigured or overridden at the command line.</p>\n<h2>ipython</h2>\n<p><code class=\"language-text\">Ipython</code> is configured completely at a system level with python scripts within\nthe users <code class=\"language-text\">~/.ipython/</code> directory.  The user may have multiple profiles that\ncan be created by running <code class=\"language-text\">ipython profile create [profilename]</code> or specified\nby running <code class=\"language-text\">ipython --profile=[profilename]</code></p>\n<h3>Config Directory</h3>\n<p>By default this is <code class=\"language-text\">~/.ipython</code>, but an be configured by setting the\n<code class=\"language-text\">IPYTHONDIR</code> environment variable or <code class=\"language-text\">--ipython-dir=&lt;path&gt;</code> command line\noption.</p>\n<h3>Example Config</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># sample ipython_config.py</span>\nc <span class=\"token operator\">=</span> get_config<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nc<span class=\"token punctuation\">.</span>TerminalIPythonApp<span class=\"token punctuation\">.</span>display_banner <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\nc<span class=\"token punctuation\">.</span>InteractiveShellApp<span class=\"token punctuation\">.</span>log_level <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\nc<span class=\"token punctuation\">.</span>InteractiveShellApp<span class=\"token punctuation\">.</span>extensions <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'myextension'</span>\n<span class=\"token punctuation\">]</span>\nc<span class=\"token punctuation\">.</span>InteractiveShellApp<span class=\"token punctuation\">.</span>exec_lines <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'import numpy'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'import scipy'</span>\n<span class=\"token punctuation\">]</span>\nc<span class=\"token punctuation\">.</span>InteractiveShellApp<span class=\"token punctuation\">.</span>exec_files <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'mycode.py'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'fancy.ipy'</span>\n<span class=\"token punctuation\">]</span>\nc<span class=\"token punctuation\">.</span>InteractiveShell<span class=\"token punctuation\">.</span>autoindent <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\nc<span class=\"token punctuation\">.</span>InteractiveShell<span class=\"token punctuation\">.</span>colors <span class=\"token operator\">=</span> <span class=\"token string\">'LightBG'</span>\nc<span class=\"token punctuation\">.</span>InteractiveShell<span class=\"token punctuation\">.</span>confirm_exit <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\nc<span class=\"token punctuation\">.</span>InteractiveShell<span class=\"token punctuation\">.</span>deep_reload <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\nc<span class=\"token punctuation\">.</span>InteractiveShell<span class=\"token punctuation\">.</span>editor <span class=\"token operator\">=</span> <span class=\"token string\">'nano'</span>\nc<span class=\"token punctuation\">.</span>InteractiveShell<span class=\"token punctuation\">.</span>xmode <span class=\"token operator\">=</span> <span class=\"token string\">'Context'</span>\n\nc<span class=\"token punctuation\">.</span>PromptManager<span class=\"token punctuation\">.</span>in_template  <span class=\"token operator\">=</span> <span class=\"token string\">'In [\\#]: '</span>\nc<span class=\"token punctuation\">.</span>PromptManager<span class=\"token punctuation\">.</span>in2_template <span class=\"token operator\">=</span> <span class=\"token string\">'   .\\D.: '</span>\nc<span class=\"token punctuation\">.</span>PromptManager<span class=\"token punctuation\">.</span>out_template <span class=\"token operator\">=</span> <span class=\"token string\">'Out[\\#]: '</span>\nc<span class=\"token punctuation\">.</span>PromptManager<span class=\"token punctuation\">.</span>justify <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\nc<span class=\"token punctuation\">.</span>PrefilterManager<span class=\"token punctuation\">.</span>multi_line_specials <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\nc<span class=\"token punctuation\">.</span>AliasManager<span class=\"token punctuation\">.</span>user_aliases <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n <span class=\"token punctuation\">(</span><span class=\"token string\">'la'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ls -al'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h3>CommandLine Overrides</h3>\n<p>Every configurable value can be overridden from the command line.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ipython --ClassName.attribute<span class=\"token operator\">=</span>value</code></pre></div>\n<h3>Config Magic</h3>\n<p>Configuration can be overridden at runtime with the <code class=\"language-text\">%config</code> magic.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">%</span>config IPCompleter<span class=\"token punctuation\">.</span>greedy <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span></code></pre></div>\n<h3>Startup</h3>\n<p>Every ipython profile has a startup directory where it will execute each <code class=\"language-text\">.py</code>\nand <code class=\"language-text\">.ipy</code> file on startup.  You can make additional configuration here, import\nmodules you want readily available, execute literally any python code you want\nto at the startup of that particular profile.</p>","fields":{"slug":"/python-tool-config/"},"frontmatter":{"tags":["python"],"title":"âš™ How Python Tools Are Configured","description":"There are various ways to configure python tools, config files, code, or environment variables. Let's look at a few pro","templateKey":"blog-post","status":"draft","date":"2021-01-21T00:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABhUlEQVQY03VQ227TQBT0FyBRkaROnHq9u4kT7+Xs2sZe59aQUoIElQoP3FQplEo0ghZEXxDPfWi/oH/S/+uxea40OppzpNHMGS/gFuEzGzDTa3iXmYCCzw2ScJCNxEzrJegFwFTZmYFK2wlYB7bwuo3SZ6bDAOcug12KMK1Q9nk+FsuAZ4laCL1Qeq5hpmCioJLGadOI0aF2G2Yoq1dun+0JkhRkVNKh2xvmQi5MuhJqmshK6koZRCPuMdMepDsUluv3m++/X779cHJ28eX05+HRx0+b7fr48+n5n+N3Xy9//TvfXm1/XH07u7D5XEKpbentUKP6SUmlH+dMunBcUOG4qnqDNBIlScooQZMXpXtdlIeT6bpwK20myqC48MjI3N9e32wun/RFh6hOpNtEtUIk0I40ri0iA54KOW9iO6Ec/gy2qmNrgLu/J2+qo6d90eXGr2trmqP1/A/kYZxb2K/Sg2X+ap4fzLIVi3OvFWmfCD9STcmPAoNgqTR+zscFiTM0wMsDMZxa2BY5Ej0AAAAASUVORK5CYII=","width":500,"height":210,"src":"/static/7185d34ae46e4919e9eac6de38add6a2/46604/python-tool-config-xmas2020.png","srcSet":"/static/7185d34ae46e4919e9eac6de38add6a2/46604/python-tool-config-xmas2020.png 1x,\n/static/7185d34ae46e4919e9eac6de38add6a2/d8815/python-tool-config-xmas2020.png 1.5x,\n/static/7185d34ae46e4919e9eac6de38add6a2/31987/python-tool-config-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVQoz3WQ22oUQRCG5wlEDdmdw+6MuzM95+6qnvMxs5vsJgSUJW5QlCRgojHBRDQaL/TKV/BW8F18M3s34JXCR/HTVR/VlKSTSCeo2nxocd3GoRVpFg5M1C2mEDRM7gYVsimFDmnLsaZRG7MKohKxlDSLi2nF4qqJImgmqhaKrJogm6CMQSexFzSUdYy1DGqKDULFeMmwkFSLKyYK5JXGBfIY7h57j6gXThyv1e2EskkIHYMtwJZhQ6EMV/LaVNbmhh48HPryCO6rjggaifo6GCTrGyyknetVrl8SJ7HdJISC3smyGCIRy3eubr7tHxwtnr86v7rdW7xYvjw7fnP9+PDk9cWn5fL09sv3i8vPp2fXby8/lPXcp6nUEztlQgau5qZQzFzeBkmXtvs2NoaXYTknUEfVXpLubk0Ws9nBfPfpdPsJj1sKuZDh5/uPP47O7+nhph5sGqFA/FnU/ohtrIOoppP7QeN6heNntp/6LPchk9IIfv/6evPs3QM1WJ1tDP9EtJygSvi0iLbbeF7HO5N0Jg0s1iRoW9Abwf/Mv5huRmnNoaWscvz8Dz3DZwc7ttY5AAAAAElFTkSuQmCC","width":200,"height":85,"src":"/static/7185d34ae46e4919e9eac6de38add6a2/71e30/python-tool-config-xmas2020.png","srcSet":"/static/7185d34ae46e4919e9eac6de38add6a2/71e30/python-tool-config-xmas2020.png 1x,\n/static/7185d34ae46e4919e9eac6de38add6a2/24123/python-tool-config-xmas2020.png 1.5x,\n/static/7185d34ae46e4919e9eac6de38add6a2/492a0/python-tool-config-xmas2020.png 2x"}}}}},"next":{"id":"6cdb5bc7-f482-55d8-b81f-728634db02ea","html":"<p>Changing conda environments is a bit verbose, I use a function with fzf that\nboth lists environments and selects the one I want in one go.</p>\n<h2>Conda</h2>\n<p>I have used conda as a virtual environment tool for years now.  I started using\nconda for its simplicity to install packages on windows, but now that has\ngotten so much better and it's been years since I have run a <code class=\"language-text\">conda install</code>\ncommand.  I'm sure that I could use a different environment manager, but it\nworks for me and makes sense.</p>\n<blockquote>\n<p>What environment manager do you use for python?</p>\n</blockquote>\n<p>Conda environments are stored in a central location such as\n<code class=\"language-text\">~/miniconda3/envs/</code> and not with the project.  They contain both the python\ninterpreter and packages for that env.</p>\n<h2>Conda create</h2>\n<p>Conda environments are created with the <code class=\"language-text\">conda create</code> command.  At this point,\nyou will need to name your env and select the python version.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda create -n my_env <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3.8</span></code></pre></div>\n<p>After running this command you will have a directory <code class=\"language-text\">~/miniconda3/envs/my_env</code>\nwith a base python install.  It will not be active yet.</p>\n<h2>List environments</h2>\n<p>Before activating an environment I often want to list the environments that I\nhave installed which are often upwards of 70, so it's hard to remember them\nall.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda info --envs</code></pre></div>\n<p>After running this command you will see something like the following.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># conda environments:</span>\n<span class=\"token comment\">#</span>\nbase                     /home/waylon/miniconda3\nmy_env                   /home/waylon/my_env</code></pre></div>\n<h2>Activating an environment</h2>\n<p>Activating a conda environment will do some magic to your current shells\n<code class=\"language-text\">$PATH</code> variable to ensure that the environment that you select is preferred\nover the base environment.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda activate my_env</code></pre></div>\n<h2>Ready to work</h2>\n<p>Now you can install packages for your project in an isolated environment safe\nfrom wrecking another project or being wrecked by another project.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> -r requirements.txt</code></pre></div>\n<h2>Using fzf</h2>\n<p><em>a bit less verbose</em></p>\n<p><a href=\"https://github.com/junegunn/fzf\">fzf</a> is an amazing tool for the terminal that\nis a generic fuzzy matcher.  It is super performant and can handle insane\namounts of text and is brilliant at figuring out what you mean with just a few\ncharacters.  We can use it here to list out all of our conda environments and\nselect the one we want to activate with just a few keystrokes.</p>\n<h3>Selecting the environment.</h3>\n<p>Piping our list of environments directly into <code class=\"language-text\">fzf</code> gives us a fuzzy selection\nwhere we can type a few characters and it will return the row we were looking\nfor.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda info --envs <span class=\"token operator\">|</span> fzf</code></pre></div>\n<p>This returns us something like this which also includes the path where it is\nlocated.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">my_env                 /home/walkews/miniconda3/envs/my_env</code></pre></div>\n<h3>getting just the environment name</h3>\n<p>To get just the name without the path I pipe the output into awk.  There are\nmany ways to do this in bash, this is the way that worked for me at the time I\nmade this function.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda info --envs <span class=\"token operator\">|</span> fzf <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{print <span class=\"token variable\">$1</span>}'</span></code></pre></div>\n<h3>Time to activate</h3>\n<p>Functions that use <code class=\"language-text\">fzf</code> can be a bit odd, running them in a subshell with the\n$() syntax generally makes it super simple to utilize the output.  No matter\nhow many times I have tried without running it in a subshell it's always buggy\nwithout it.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda activate <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>conda info --envs <span class=\"token operator\">|</span> fzf <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{print <span class=\"token variable\">$1</span>}'</span><span class=\"token variable\">)</span></span>\"</span></code></pre></div>\n<p>This will now run conda activate on the environment that we select with fzf.</p>\n<h3>Make it a function</h3>\n<p>We don't want to type that out every time we want to activate an environment. I\nkeep a function called <code class=\"language-text\">a</code> in my <code class=\"language-text\">~/.bashrc</code> and <code class=\"language-text\">~/.zshrc</code> so that I can\nactivate an environment with a single character.  Yes, I switch environments\noften enough to justify the valuable namespace of a single character.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function-name function\">a</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  conda activate <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>conda info --envs <span class=\"token operator\">|</span> fzf <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{print <span class=\"token variable\">$1</span>}'</span><span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<a class=\"onelinelink\" href=\"https://waylonwalker.com/reusable-bash/\">\n<img style=\"float: right;\" align=\"right\" src=\"https://waylonwalker.com/static/96bd1b466e9e00834d0d7eda8af04b97/630fb/reusable-bash-xmas2020.png\" alt=\"article cover for Creating Reusable Bash Scripts\">\n<div class=\"right\">\n    <h2>Creating Reusable Bash Scripts</h2>\n    <p class=\"description\">\n    Bash is a language that is quite useful for automation no matter what language you write in. Bash can do so many powerful system-level tasks. Even if you are on windows these days you are likely to come across bash inside a cloud VM, Continuous Integration, or even inside of docker.\n    </p>\n    <p class=\"url\">\n    <span class=\"read-more\">read more</span>  waylonwalker.com\n    </p>\n</div>\n</a>\n<blockquote>\n<p>for more information on writing reusable bash scripts check out one of my\nfavorite articles</p>\n</blockquote>\n<p>I am always on the lookout for cool new use cases for <code class=\"language-text\">fzf</code>, if you have one please share it with me.</p>","fields":{"slug":"/quickly-change-conda-env-with-fzf/"},"frontmatter":{"tags":["python"],"title":"Quickly Change Conda Env With Fzf","description":"Changing conda environments is a bit verbose, I use a function with fzf that both lists environments and selects the one","templateKey":"blog-post","status":"published","date":"2021-01-11T00:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVQY022R20rDQBBA+wO+KLZNk9pkkzZtsjs7m02bpqZXwRcRBQVFRW2peAGl9KXoqyB+gX/i/zkp4pNwWGYHDnMrWJ4iDFdZrjLrSLFJGVcarqy4WKvrZpgBjAD6UmZCZUr2QPWk6krVKVTIzGUsM7l+sWSDwWSJQdWLW+HI8qIW73MYcJFx2A1FKmTKMQFcyxWGVj2qNrTB0PQiO0iKtiDcMGV+WvPbqCaAo0iPUQ3anTHJAru5bHq4xSRTg/njcva4PDy9ub57IY7Obk8u5rOn5fH5dDpbXFw+vL69X13fvyxWSmdcJqCSwiZDYQWJK6ph1wk6TpCY9cgJE4Laoa/V0ByGVFzHY4wGuj0SuK5MM9tN/P58/7h53rCCsgOlNUWbELSFPHZoeP03MwcyU6nSvG2Q8mt1ddA73NzhtDBaVfkfoNaIFQy70WQY7/fjvUxPXD8ubDtg2KHhiPL/2i8lJ78c89teq2P7mg5JmR+Kb1vm5DRKKQAAAABJRU5ErkJggg==","width":500,"height":210,"src":"/static/268221cb56c39d4fcf01b5ea3240df37/46604/quickly-change-conda-env-with-fzf-xmas2020.png","srcSet":"/static/268221cb56c39d4fcf01b5ea3240df37/46604/quickly-change-conda-env-with-fzf-xmas2020.png 1x,\n/static/268221cb56c39d4fcf01b5ea3240df37/d8815/quickly-change-conda-env-with-fzf-xmas2020.png 1.5x,\n/static/268221cb56c39d4fcf01b5ea3240df37/31987/quickly-change-conda-env-with-fzf-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABr0lEQVQoz23Qz2/TMBQH8J45ILGto0kbl9RJl8T283PTpkmcNE21DnEALmja2IDDfqmdNAGTNsSFAxy5cEbif+E/wxkckEB6sr6y3kfPfi3ioz1UjqfIEB1v1PWwR5F4YPnYpypgOUItZIWiVKjFqIwhl6MMMZNq2jLdlqdsiiZ0KdoemmxT2aHSGkjixyErBFQAJUgtsECZg8oA0wZbFK3GqLvCzkDatMkPXQjYLGSV48cANYeZaHwhZC5kxjEFvMOmdavPN51oi3DjN3rhfWtosEPHHSINDkNtMBOaiZxDg8Vv3KboqfJ0fX2yvt5/dXH4ZnVxdWvC3rOD1dvbo5PLFy/PVuub49frz1++Hh6d3Xz4lOa7DJIG2x3f7wVRUrPxXGVLl6V8UifVk0dREsaVSBa+yHXxdDxZzuvn02xPl4+l0n8mf7969+34/F43bBO2Sdi2C+bc6EXm2c1fCGv3uesnXMyCKA15FvAkgjSSZnLS+vnj4/v9ywc2azY3aBb2b5n7HZbHWKejRRkvdbyYT3aV1K1ijENPbrvyv+zvokEihFayFJDvRNMuVb8AUBVpbB9P+NwAAAAASUVORK5CYII=","width":200,"height":85,"src":"/static/268221cb56c39d4fcf01b5ea3240df37/71e30/quickly-change-conda-env-with-fzf-xmas2020.png","srcSet":"/static/268221cb56c39d4fcf01b5ea3240df37/71e30/quickly-change-conda-env-with-fzf-xmas2020.png 1x,\n/static/268221cb56c39d4fcf01b5ea3240df37/24123/quickly-change-conda-env-with-fzf-xmas2020.png 1.5x,\n/static/268221cb56c39d4fcf01b5ea3240df37/492a0/quickly-change-conda-env-with-fzf-xmas2020.png 2x"}}}}},"similarPosts":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}},"staticQueryHashes":["2992646504"]}