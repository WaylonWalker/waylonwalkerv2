{"componentChunkName":"component---src-templates-blog-post-js","path":"/python-deepwatch/","result":{"data":{"markdownRemark":{"id":"bcc35310-7de8-5105-a7af-5ca694c091af","html":"<p>Is it possible to deep watch a single python function for changes?</p>\n<h2>Shallow Watch</h2>\n<p>keeping track of a python functions hash is quite simple.  There is a<code class=\"language-text\">__hash__</code> method attached to every python function.  Calling it will return a hash of the function. If the function changes the hash will change.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">:</span>     <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello\"</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> test<span class=\"token punctuation\">.</span>__hash__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8760526380347</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> test<span class=\"token punctuation\">.</span>__hash__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8760526380347</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">:</span>     <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello world\"</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> test<span class=\"token punctuation\">.</span>__hash__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8760525617988</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">:</span>     <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello\"</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> test<span class=\"token punctuation\">.</span>__hash__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8760526380491</span></code></pre></div>\n<p>Using hashlib provides a consistent hash.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> inspect\n<span class=\"token keyword\">import</span> hashlib\n<span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"hello\"</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">17</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>inspect<span class=\"token punctuation\">.</span>getsource<span class=\"token punctuation\">(</span>test<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">18</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">18</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>sha256 HASH <span class=\"token builtin\">object</span> @ <span class=\"token number\">0x7f7b7b70fde0</span><span class=\"token operator\">></span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">19</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">19</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'1f2ff4c69eb69b545469686edd6f849136e104cd535785891586d90620328757'</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>inspect<span class=\"token punctuation\">.</span>getsource<span class=\"token punctuation\">(</span>test<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">21</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">21</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'93638f2c944f34a9069af9242657b7de556fcc63742f4c27c4c8deedeb976a5f'</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">22</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m <span class=\"token operator\">=</span> hashlib<span class=\"token punctuation\">.</span>sha256<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">23</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>inspect<span class=\"token punctuation\">.</span>getsource<span class=\"token punctuation\">(</span>test<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">24</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>inspect<span class=\"token punctuation\">.</span>getsource<span class=\"token punctuation\">(</span>test<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">25</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m <span class=\"token operator\">=</span> hashlib<span class=\"token punctuation\">.</span>sha256<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">26</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>inspect<span class=\"token punctuation\">.</span>getsource<span class=\"token punctuation\">(</span>test<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">27</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">27</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'1f2ff4c69eb69b545469686edd6f849136e104cd535785891586d90620328757'</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">28</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">:</span>     <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello world\"</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">29</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m <span class=\"token operator\">=</span> hashlib<span class=\"token punctuation\">.</span>sha256<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">30</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>inspect<span class=\"token punctuation\">.</span>getsource<span class=\"token punctuation\">(</span>test<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">31</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">31</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'121fa3a3f295d49d4609505bc5e96d8b6a8ed3b496e4f3dc6c0ead73bef4e3c7'</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">32</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">:</span>     <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello\"</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">33</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m <span class=\"token operator\">=</span> hashlib<span class=\"token punctuation\">.</span>sha256<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">34</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>inspect<span class=\"token punctuation\">.</span>getsource<span class=\"token punctuation\">(</span>test<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">[</span>ins<span class=\"token punctuation\">]</span> In <span class=\"token punctuation\">[</span><span class=\"token number\">35</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> m<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nOut<span class=\"token punctuation\">[</span><span class=\"token number\">35</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'1f2ff4c69eb69b545469686edd6f849136e104cd535785891586d90620328757'</span></code></pre></div>\n<p>Now we have a consistent way to hash function code.</p>\n<h2>Deep hashing</h2>\n<h3>Find dependencies</h3>\n<p>setup a function in a module with a dependency</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">       │ File<span class=\"token punctuation\">:</span> one<span class=\"token punctuation\">.</span>py\n───────┼────────────────────────────────\n   <span class=\"token number\">1</span>   │ <span class=\"token keyword\">def</span> <span class=\"token function\">one</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n   <span class=\"token number\">2</span>   │     <span class=\"token keyword\">return</span> <span class=\"token number\">1</span>\n   <span class=\"token number\">3</span>   │\n   <span class=\"token number\">4</span>   │ <span class=\"token keyword\">def</span> <span class=\"token function\">two</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n   <span class=\"token number\">5</span>   │     <span class=\"token keyword\">return</span> one<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> one<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token keyword\">import</span> one\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> one<span class=\"token punctuation\">.</span>one<span class=\"token punctuation\">.</span>__code__<span class=\"token punctuation\">.</span>co_names\n<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> one<span class=\"token punctuation\">.</span>two<span class=\"token punctuation\">.</span>__code__<span class=\"token punctuation\">.</span>co_names\n<span class=\"token punctuation\">(</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Create Generic module importer by filepath</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> importlib\n<span class=\"token keyword\">import</span> importlib<span class=\"token punctuation\">.</span>util\n<span class=\"token keyword\">import</span> os\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">_import</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">:</span> Path<span class=\"token punctuation\">,</span> directory<span class=\"token punctuation\">:</span> Path<span class=\"token punctuation\">,</span> verbose<span class=\"token punctuation\">:</span> <span class=\"token builtin\">bool</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"dynamically imports module given a path\"\"\"</span>\n    cwd <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>getcwd<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    os<span class=\"token punctuation\">.</span>chdir<span class=\"token punctuation\">(</span>directory<span class=\"token punctuation\">)</span>\n    name <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span>name\n    <span class=\"token comment\"># path = str(path).replace(str(directory) + \"/\", \"\")</span>\n    path <span class=\"token operator\">=</span> _make_path_relative<span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> directory<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        spec <span class=\"token operator\">=</span> importlib<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>spec_from_file_location<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">)</span>\n        module <span class=\"token operator\">=</span> importlib<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>module_from_spec<span class=\"token punctuation\">(</span>spec<span class=\"token punctuation\">)</span>\n        spec<span class=\"token punctuation\">.</span>loader<span class=\"token punctuation\">.</span>exec_module<span class=\"token punctuation\">(</span>module<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">except</span> <span class=\"token punctuation\">(</span>ModuleNotFoundError<span class=\"token punctuation\">,</span> ValueError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        module <span class=\"token operator\">=</span> _use_importmodule<span class=\"token punctuation\">(</span>\n            <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>sep<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\".py\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> verbose<span class=\"token operator\">=</span>verbose\n        <span class=\"token punctuation\">)</span>\n    os<span class=\"token punctuation\">.</span>chdir<span class=\"token punctuation\">(</span>cwd<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> module\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">_use_importmodule</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">:</span> Path<span class=\"token punctuation\">,</span> verbose<span class=\"token punctuation\">:</span> <span class=\"token builtin\">bool</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    relative imports do not work well with importlib.util.spec_from_file_location,\n    and require a sys.path.append to be imported correctly.  For this reason\n    importlib.import_module is the second option.\n    \"\"\"</span>\n\n    <span class=\"token comment\"># Not sure if this is needed, but it was never hit in a test</span>\n    <span class=\"token comment\"># if path[0] == \".\":</span>\n    <span class=\"token comment\">#     path = path[1:]</span>\n\n    sys<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>getcwd<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    mod <span class=\"token operator\">=</span> importlib<span class=\"token punctuation\">.</span>import_module<span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n    sys<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># clean up path, do not permananatly change users path</span>\n    <span class=\"token keyword\">return</span> mod</code></pre></div>\n<h3>get code of dependency</h3>\n<p>the inspect module can tell us the filename of our current module.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> inspect\nmodule_path <span class=\"token operator\">=</span> inspect<span class=\"token punctuation\">.</span>getfile<span class=\"token punctuation\">(</span>one<span class=\"token punctuation\">.</span>one<span class=\"token punctuation\">)</span>\nmodule <span class=\"token operator\">=</span> _import<span class=\"token punctuation\">(</span>module_path<span class=\"token punctuation\">)</span></code></pre></div>\n<p>now we can hash the dependency</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">nested_function <span class=\"token operator\">=</span> <span class=\"token builtin\">eval</span><span class=\"token punctuation\">(</span>f'module<span class=\"token punctuation\">.</span><span class=\"token punctuation\">{</span>one<span class=\"token punctuation\">.</span>two<span class=\"token punctuation\">.</span>__code__<span class=\"token punctuation\">.</span>co_names<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\"</code></pre></div>","fields":{"slug":"/python-deepwatch/"},"frontmatter":{"date":"2020-04-27T05:00:00.000Z","title":"python-deepwatch","description":"Is it possible to deep watch a single python function for changes? Shallow Watch keeping track of a python functions has","status":"published","cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/python-deepwatch-xmas2020.png","xsm_img":{"fixed":{"src":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/ef958/python-deepwatch-xmas2020.png","srcWebp":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/f6b6d/python-deepwatch-xmas2020.webp"}},"sm_img":{"fixed":{"src":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/630fb/python-deepwatch-xmas2020.png","srcWebp":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/403a4/python-deepwatch-xmas2020.webp"}},"med_img":{"fixed":{"src":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/46604/python-deepwatch-xmas2020.png","srcWebp":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/e9589/python-deepwatch-xmas2020.webp"}},"full":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABqElEQVQY032RTU8TURSG5w9QoZYwM739ujN3vueeezudO2UKKaAhGiOJS6MQYkIKYgu0tRSQFHSDSU1MNMSNbFy4cOPCH+idujd5Fk9O8ibnvEdBJpdoBkcGQyRzXQoGzQApFRI5fovSNUpXKbQoX2GQUp4CbwIXii6TJi+SukTF7J/IiYqhYokg3ChbcUjXgEnaACsha4WwHLImZbOwjqGA3AXkIiua1525JZJHXqES6JhpJVZAPjaEQSSR4yVekATQDEBQnigahqIr9oeX3f7Fz1+/O93Rh4+fHz97UU83v3y7G5xfH48m0+nt8O1kMrmZfvr6/e5Hf3juBg2Q4XsVuuzEZ68OuuOrw5Oznb1epzdKH2wl7Sf98fX2Xq87ePf6zfjo+KI/uDw4HB6djHd2O5TP1q467M/N+6vn+7mSP6/ZcuecauVL3v2yP6eSnGYtIE8th4YZmyQmdoPYkeXUaXZzolCA29OXT1tb+XKAZm0Vs/KZRHrWiJl5zRURX08bD9fFo7bYXI02DKehLNaoVvU1HMp6/8NSLfsctmPTFVU7ko+Uk7/4cWrJ8tZ/KQAAAABJRU5ErkJggg==","width":1000,"height":420,"src":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/a8734/python-deepwatch-xmas2020.png","srcSet":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/a8734/python-deepwatch-xmas2020.png 1x"},"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABqElEQVQY032RTU8TURSG5w9QoZYwM739ujN3vueeezudO2UKKaAhGiOJS6MQYkIKYgu0tRSQFHSDSU1MNMSNbFy4cOPCH+idujd5Fk9O8ibnvEdBJpdoBkcGQyRzXQoGzQApFRI5fovSNUpXKbQoX2GQUp4CbwIXii6TJi+SukTF7J/IiYqhYokg3ChbcUjXgEnaACsha4WwHLImZbOwjqGA3AXkIiua1525JZJHXqES6JhpJVZAPjaEQSSR4yVekATQDEBQnigahqIr9oeX3f7Fz1+/O93Rh4+fHz97UU83v3y7G5xfH48m0+nt8O1kMrmZfvr6/e5Hf3juBg2Q4XsVuuzEZ68OuuOrw5Oznb1epzdKH2wl7Sf98fX2Xq87ePf6zfjo+KI/uDw4HB6djHd2O5TP1q467M/N+6vn+7mSP6/ZcuecauVL3v2yP6eSnGYtIE8th4YZmyQmdoPYkeXUaXZzolCA29OXT1tb+XKAZm0Vs/KZRHrWiJl5zRURX08bD9fFo7bYXI02DKehLNaoVvU1HMp6/8NSLfsctmPTFVU7ko+Uk7/4cWrJ8tZ/KQAAAABJRU5ErkJggg==","aspectRatio":2.380952380952381,"src":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/a8734/python-deepwatch-xmas2020.png","srcSet":"/static/3d31abd6ddd9eb39a94d89c56d81cedc/2d6f8/python-deepwatch-xmas2020.png 250w,\n/static/3d31abd6ddd9eb39a94d89c56d81cedc/03ac3/python-deepwatch-xmas2020.png 500w,\n/static/3d31abd6ddd9eb39a94d89c56d81cedc/a8734/python-deepwatch-xmas2020.png 1000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"bcc35310-7de8-5105-a7af-5ca694c091af","prev":{"id":"6deb91dc-a585-565b-87e0-15104c44e573","html":"<p>This post is intended as an extension/update from <a href=\"https://waylonwalker.com/background-1/\">background tasks in python</a>.  I started using <code class=\"language-text\">background</code> the week that Kenneth Reitz released it.  It takes away so much boilerplate from running background tasks that I use it in more places than I probably should. After taking a look at that post today, I wanted to put a better data science example in here to help folks get started.</p>\n<blockquote>\n<p>I use it in more places than I probably should</p>\n</blockquote>\n<p>Before we get into it, I want to make a shout out to Kenneth Reitz for making this so easy.  Kenneth is a python God for all that he has given to the community in so many ways, especially with his ideas in building stupid simple api's for very complicated things.</p>\n<h2>Installation</h2>\n<h3>install via pip</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pip install background</code></pre></div>\n<h3>install via github</h3>\n<p>I believe one of the later pr's to the project fixes the way arguments are passed in.  I generally clone the repo or copy the module directly into my project.</p>\n<p><strong>clone it</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone https://github.com/ParthS007/background.git\ncd background\npython setup.py install</code></pre></div>\n<p><strong>copy the module</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl https://raw.githubusercontent.com/ParthS007/background/master/background.py &gt; background.py</code></pre></div>\n<h2>🐌 The Slow Function</h2>\n<p>Imagine that this function is a big one!  This function is fairly realistic as it takes in some input and returns a DataFrame.  This is what a good half of my fuctions do in data science.  The internals of this function generally will include a sql query, load from s3 or a data catalog, an aggregation from another DataFrame.  In general it should do one simple thing.</p>\n<p><strong>Feel Free to copy this \"boilerplate\"</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> background\n<span class=\"token keyword\">from</span> time <span class=\"token keyword\">import</span> sleep\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n\n<span class=\"token decorator annotation punctuation\">@background<span class=\"token punctuation\">.</span>task</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">long_func</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Simulates fetching data from a service\n    and returning a pandas DataFrame.\n\n    \"\"\"</span>\n    sleep<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'number_squared'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>i<span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Calling the Slow Function</h2>\n<p><em>it's the future calling 🤙</em></p>\n<p>If we were to call this function 10 times it would take 100s.  Not bad for a dumb example, but detrimental when this gets scaled up💥.  We want to utilize all of our available resources to reduce our development time and get moving on our project.</p>\n<p>Calling <code class=\"language-text\">long_func</code> will return a future object.  This object has a number of methods that you can read about in the <a href=\"https://docs.python.org/3/library/concurrent.futures.html#future-objects\">cpython docs</a>.  The main one we are interested in is <code class=\"language-text\">result</code>.  I typically call these functions many times and put them into a list object so that I can track their progress and get their results.  If you needed to map inputs back to the result use a dictionary.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">%</span>time futures <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>long_func<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\nCPU times<span class=\"token punctuation\">:</span> user <span class=\"token number\">319</span> µs<span class=\"token punctuation\">,</span> sys<span class=\"token punctuation\">:</span> <span class=\"token number\">197</span> µs<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">:</span> <span class=\"token number\">516</span> µs\nWall time<span class=\"token punctuation\">:</span> <span class=\"token number\">212</span> µs</code></pre></div>\n<h2>Do something with those <code class=\"language-text\">results()</code></h2>\n<p>Simply running the function completes in no time! This is because the future objects that are returned are non blocking and will run in a background task using the <code class=\"language-text\">ProcessPoolExecutor</code>.  To get the result back out we need to call the <code class=\"language-text\">result</code> method on the future object.<code class=\"language-text\">result</code> is a blocking function that will not realease until the function has completed.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>time\nfutures <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>long_func<span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\npd<span class=\"token punctuation\">.</span>concat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>future<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> future <span class=\"token keyword\">in</span> futures<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\nCPU times<span class=\"token punctuation\">:</span> user <span class=\"token number\">5.38</span> ms<span class=\"token punctuation\">,</span> sys<span class=\"token punctuation\">:</span> <span class=\"token number\">3.53</span> ms<span class=\"token punctuation\">,</span> total<span class=\"token punctuation\">:</span> <span class=\"token number\">8.9</span> ms\nWall time<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span> s</code></pre></div>\n<p>Note that this example completed in <code class=\"language-text\">10s</code>, the time it took for only one run, not all 10! 😎</p>\n<h2>n</h2>\n<p>😫 <em>crank it up</em></p>\n<p>By default the number of parallel processes wil be equal to the number of cpu threads on your machine. To increase the number of parallel processes (<code class=\"language-text\">max_workers</code>) set increase <code class=\"language-text\">background.n</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">background<span class=\"token punctuation\">.</span>n <span class=\"token operator\">=</span> <span class=\"token number\">100</span></code></pre></div>\n<h1>Is it possible to overruse @background.task?</h1>\n<p>I use this essentially anywhere that I cannot vectorize a python operation and push the compute down into those fast 💨 c extended libraries like numpy, and the operation takes more than a few minutes.  Nearly every big network request I make gets broken down into chunks and multithreaded.  Let me know... is is possible to overruse <code class=\"language-text\">@background.task</code>? Let me know your thoughts <a href=\"https://twitter.com/_WaylonWalker\">@_WaylonWalker</a>.</p>\n<h1>Repl.It</h1>\n<p>Play with the code here!  Try different values of background.n and n_runs.</p>\n<iframe height=\"800px\" width=\"100%\" src=\"https://repl.it/@WaylonWalker/TestRepl?lite=true\" scrolling=\"no\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" sandbox=\"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals\"></iframe>","fields":{"slug":"/python-data-science-background/"},"frontmatter":{"tags":["python","data"],"title":"Background Tasks in Python for Data Science","description":"This post is intended as an extension/update from [background tasks in python](https://waylonwalker.com/background-1/). I started using `background` the week that Kenneth Reitz released it.  It takes away so much boilerplate from running background tasks that I use it in more places than I probably should. After taking a look at that post today, I wanted to put a better data science example in here to help folks get started.","templateKey":"blog-post","status":"published","date":"2019-09-10T05:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABcyXpEC4v/8QAGRAAAwADAAAAAAAAAAAAAAAAAAECERIh/9oACAEBAAEFAtkU5Y1OVQ64f//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAEQIDH/2gAIAQEABj8CWCP/xAAaEAACAgMAAAAAAAAAAAAAAAAAAREhMUFR/9oACAEBAAE/Ia7E1pIxAu2cpLP/2gAMAwEAAgADAAAAEJwP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EJWv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/ELGP/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARITFhUXH/2gAIAQEAAT8QDxDypZMYWYXUSlA9qKUFhX2NRp5vly5UxP/Z","width":500,"height":333,"src":"/static/71deab00d1a8618a3734aa94387173fc/0f3a1/erwan-hesry-elayN_YscVg-unsplash.jpg","srcSet":"/static/71deab00d1a8618a3734aa94387173fc/0f3a1/erwan-hesry-elayN_YscVg-unsplash.jpg 1x,\n/static/71deab00d1a8618a3734aa94387173fc/f9913/erwan-hesry-elayN_YscVg-unsplash.jpg 1.5x,\n/static/71deab00d1a8618a3734aa94387173fc/a7715/erwan-hesry-elayN_YscVg-unsplash.jpg 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAGteFksnB//xAAaEAEAAQUAAAAAAAAAAAAAAAABAAIQERJB/9oACAEBAAEFAt41xTPG3//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAgIf/aAAgBAQAGPwIq/wD/xAAcEAACAgIDAAAAAAAAAAAAAAAAARExIUFxgZH/2gAIAQEAAT8hSpULjDpDUseCsVXBtn//2gAMAwEAAgADAAAAEIz/AP/EABYRAQEBAAAAAAAAAAAAAAAAAAABIf/aAAgBAwEBPxCVr//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QTthf/8QAHRAAAgIBBQAAAAAAAAAAAAAAAREAIVEQcYGh8P/aAAgBAQABPxBIZrENa1Ms5tZhsBvm+l8+8HZP/9k=","width":200,"height":85,"src":"/static/71deab00d1a8618a3734aa94387173fc/a6613/erwan-hesry-elayN_YscVg-unsplash.jpg","srcSet":"/static/71deab00d1a8618a3734aa94387173fc/a6613/erwan-hesry-elayN_YscVg-unsplash.jpg 1x,\n/static/71deab00d1a8618a3734aa94387173fc/b97e6/erwan-hesry-elayN_YscVg-unsplash.jpg 1.5x,\n/static/71deab00d1a8618a3734aa94387173fc/eeb4b/erwan-hesry-elayN_YscVg-unsplash.jpg 2x"}}}}},"next":{"id":"dc3cd2a4-6140-506a-9bac-593f1250a3c1","html":"<h2>Dictionaries</h2>\n<h3>Unpacking</h3>\n<ul>\n<li>**kwargs</li>\n<li>func(**input)</li>\n<li>locals().update(d)</li>\n</ul>\n<h3></h3>","fields":{"slug":"/python-tips/"},"frontmatter":{"tags":null,"title":"Python Tips","description":null,"templateKey":"blog-post","status":"draft","date":"2019-01-21T00:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgH/2gAMAwEAAhADEAAAAZ2hUCL/xAAZEAADAAMAAAAAAAAAAAAAAAAAAQMCBBT/2gAIAQEAAQUCnaiOjIexQ//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwGMf//EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAECAQE/AYf/xAAZEAADAAMAAAAAAAAAAAAAAAAAATIRcZH/2gAIAQEABj8CrOyUQun/xAAZEAACAwEAAAAAAAAAAAAAAAAAEQExUWH/2gAIAQEAAT8hwwUqd9GAf//aAAwDAQACAAMAAAAQg8//xAAWEQEBAQAAAAAAAAAAAAAAAAAAESH/2gAIAQMBAT8Q0h//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFB/9oACAECAQE/EE4tb//EABwQAAICAgMAAAAAAAAAAAAAAAERADEhQWGR8P/aAAgBAQABPxBcxZm2lC8FJ3BA6gyAfnE//9k=","width":500,"height":184,"src":"/static/8c9985dc4de05ad210de1199cac70dd7/0f3a1/brett-patzke-725745-unsplash-cropped.jpg","srcSet":"/static/8c9985dc4de05ad210de1199cac70dd7/0f3a1/brett-patzke-725745-unsplash-cropped.jpg 1x,\n/static/8c9985dc4de05ad210de1199cac70dd7/f9913/brett-patzke-725745-unsplash-cropped.jpg 1.5x"}},"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGluZRNPJwf/8QAGhABAQACAwAAAAAAAAAAAAAAAQACBAMUMv/aAAgBAQABBQLj2crshO2RHpv/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAAAECEDIi/9oACAEBAAY/AuomZGXTr//EABsQAAICAwEAAAAAAAAAAAAAAAABESExYZGh/9oACAEBAAE/IWKk2hvQ+RJrmZI9pkf/2gAMAwEAAgADAAAAEGcf/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EA2P/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxDVlKz/xAAdEAACAQQDAAAAAAAAAAAAAAAAAREQQZGhIXGx/9oACAEBAAE/EJRpFYh47Iz7wFkt+ZOwjZe0f//Z","width":200,"height":85,"src":"/static/8c9985dc4de05ad210de1199cac70dd7/a6613/brett-patzke-725745-unsplash-cropped.jpg","srcSet":"/static/8c9985dc4de05ad210de1199cac70dd7/a6613/brett-patzke-725745-unsplash-cropped.jpg 1x,\n/static/8c9985dc4de05ad210de1199cac70dd7/b97e6/brett-patzke-725745-unsplash-cropped.jpg 1.5x,\n/static/8c9985dc4de05ad210de1199cac70dd7/eeb4b/brett-patzke-725745-unsplash-cropped.jpg 2x"}}}}},"similarPosts":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}},"staticQueryHashes":["2992646504"]}