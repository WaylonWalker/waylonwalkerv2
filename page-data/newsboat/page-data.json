{"componentChunkName":"component---src-templates-blog-post-js","path":"/newsboat/","result":{"data":{"markdownRemark":{"id":"a1d2b734-83ae-5da1-99a9-629cf8ba25f2","html":"<p>Web browsers are a black hole of productivity.  I try to use them as little as\npossible when it is time to focus.  I try to use <code class=\"language-text\">help</code>, <code class=\"language-text\">?</code>, or <code class=\"language-text\">??</code> with\nipython, or --help at the command line as much as possible.  What about that\ntime I am trying to see what my online friends are posting on their sites?  I\nused to used google reader quite heavily before that was taken down.</p>\n<h2>Newsboat</h2>\n<p>I am going to give a terminal rss reader a try for a bit and see how that goes\nfor me.  I have really struggled to get into an rss reader since google reader\ndied.</p>\n<h2>installation</h2>\n<p>I installed with the reccomended snap for Ubuntu.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> snap <span class=\"token function\">install</span> newsboat</code></pre></div>\n<h2>Adding feeds</h2>\n<p><em>super simple</em></p>\n<p>Running help for newsboat directed me towards their config files at the bottom.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">‚ùØ newsboat --help\nnewsboat r2.22\nusage: /snap/newsboat/3849/usr/local/bin/newsboat <span class=\"token punctuation\">[</span>-i <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">>|</span>-e<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>-u <span class=\"token operator\">&lt;</span>urlfile<span class=\"token operator\">></span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>-c <span class=\"token operator\">&lt;</span>cachefile<span class=\"token operator\">></span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>-x <span class=\"token operator\">&lt;</span>command<span class=\"token operator\">></span> <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>-h<span class=\"token punctuation\">]</span>\n\t-e, --export-to-opml\t\t<span class=\"token builtin class-name\">export</span> OPML feed to stdout\n\t-r, --refresh-on-start\t\trefresh feeds on start\n\t-i, --import-from-opml<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span>\t<span class=\"token function\">import</span> OPML <span class=\"token function\">file</span>\n\t-u, --url-file<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>urlfile<span class=\"token operator\">></span>\t<span class=\"token builtin class-name\">read</span> RSS feed URLs from <span class=\"token operator\">&lt;</span>urlfile<span class=\"token operator\">></span>\n\t-c, --cache-file<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>cachefile<span class=\"token operator\">></span>\tuse <span class=\"token operator\">&lt;</span>cachefile<span class=\"token operator\">></span> as cache <span class=\"token function\">file</span>\n\t-C, --config-file<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>configfile<span class=\"token operator\">></span>\t<span class=\"token builtin class-name\">read</span> configuration from <span class=\"token operator\">&lt;</span>configfile<span class=\"token operator\">></span>\n\t-X, --vacuum\t\t\tcompact the cache\n\t-x, --execute<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>command<span class=\"token operator\">></span><span class=\"token punctuation\">..</span>.\texecute list of commands\n\t-q, --quiet\t\t\tquiet startup\n\t-v, --version\t\t\tget version information\n\t-l, --log-level<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>loglevel<span class=\"token operator\">></span>\t<span class=\"token function\">write</span> a log with a certain loglevel <span class=\"token punctuation\">(</span>valid values: <span class=\"token number\">1</span> to <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n\t-d, --log-file<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>logfile<span class=\"token operator\">></span>\tuse <span class=\"token operator\">&lt;</span>logfile<span class=\"token operator\">></span> as output log <span class=\"token function\">file</span>\n\t-E, --export-to-file<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span>\t<span class=\"token builtin class-name\">export</span> list of <span class=\"token builtin class-name\">read</span> articles to <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span>\n\t-I, --import-from-file<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span>\t<span class=\"token function\">import</span> list of <span class=\"token builtin class-name\">read</span> articles from <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span>\n\t-h, --help\t\t\tthis <span class=\"token builtin class-name\">help</span>\n\t    --cleanup\t\t\tremove unreferenced items from cache\n\nFiles:\n\t- configuration:  /home/nic/snap/newsboat/3849/.newsboat/config\n\t- feed URLs:      /home/nic/snap/newsboat/3849/.newsboat/urls\n\t- cache:          /home/nic/snap/newsboat/3849/.newsboat/cache.db\n\nSupport at <span class=\"token comment\">#newsboat at https://freenode.net or on our mailing list https://groups.google.com/g/newsboat</span>\nFor <span class=\"token function\">more</span> information, check out https://newsboat.org/</code></pre></div>\n<p>I just need to edit its urls file.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">nvim ~/snap/newsboat/3849/.newsboat/urls</code></pre></div>\n<p>The Urls file is just a list of urls to rss feeds.  Adding mine in allowed me to see all of my posts.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">https://waylonwalker.com/rss.xml</code></pre></div>\n<h2>Config</h2>\n<p>I took most of my config from a <a href=\"http://evantravers.com/articles/2020/04/15/reworking-my-rss-reading/\">blog\npost</a>\nthat I found by Evan Travers.  It set some sane defaults to the reading width\nand vim keys.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># http://evantravers.com/articles/2020/04/15/reworking-my-rss-reading/</span>\n<span class=\"token comment\"># Hide feeds where all the items are read.</span>\nshow-read-feeds no\n\n<span class=\"token comment\"># Make the text width readable</span>\ntext-width <span class=\"token number\">50</span>\n\n<span class=\"token comment\"># Use multiple threads to download all the news faster.</span>\nreload-threads <span class=\"token number\">11</span>\n\n<span class=\"token comment\"># browser ~/bin/newsboat-browser.sh</span>\n<span class=\"token comment\"># browser \"/usr/bin/brave-browser %u\"</span>\n\n<span class=\"token comment\"># unbind keys</span>\nunbind-key ENTER\nunbind-key j\nunbind-key k\nunbind-key J\nunbind-key K\nunbind-key ^D\nunbind-key ^U\nunbind-key o\nunbind-key g\nunbind-key G\n\n<span class=\"token comment\"># bind keys - vim style</span>\nbind-key j down\nbind-key k up\nbind-key l <span class=\"token function\">open</span>\nbind-key h quit\nbind-key ^D pagedown\nbind-key ^U pageup\nbind-key b toggle-source-view\nbind-key U toggle-show-read-feeds\nbind-key u show-urls\nbind-key g home\nbind-key G end\nbind-key b open-in-browser-and-mark-read\nbind-key B open-in-browser\nbind-key i <span class=\"token function\">sort</span>\nbind-key I rev-sort</code></pre></div>\n<h2>GUI Browser</h2>\n<p>No matter how many different guides I tried I keedp getting <code class=\"language-text\">error code 127</code>\nwhen trying to <code class=\"language-text\">open-in-browser</code>.  Please let me know if you know how to fix\nthis. For now I am just going to roll with it.</p>\n<h2>Here's how it looks</h2>\n<p><img src=\"https://waylonwalker.com/newsboat-feed-waylonwalker-com.png\" alt=\"newsboat feed\"></p>\n<blockquote>\n<p>browsing a feed in newsboat</p>\n</blockquote>\n<p><img src=\"https://waylonwalker.com/newsboat-article.png\" alt=\"newsboat article\"></p>\n<blockquote>\n<p>reading an article in newsboat</p>\n</blockquote>","fields":{"slug":"/newsboat/"},"frontmatter":{"date":"2021-01-02T00:00:00.000Z","title":"Newsboat","description":"Web browsers are a black hole of productivity. I try to use them as little as possible when it is time to focus. I try","status":"published","cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/newsboat-xmas2020.png","xsm_img":{"fixed":{"src":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/ef958/newsboat-xmas2020.png","srcWebp":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/f6b6d/newsboat-xmas2020.webp"}},"sm_img":{"fixed":{"src":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/630fb/newsboat-xmas2020.png","srcWebp":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/403a4/newsboat-xmas2020.webp"}},"med_img":{"fixed":{"src":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/46604/newsboat-xmas2020.png","srcWebp":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/e9589/newsboat-xmas2020.webp"}},"full":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1UlEQVQY02OQUTGUUTWUVDYEMqRVDICklLKBjLK+JBAp6curGmvp2urpOejp2errW+sa2hjoWxoYW+sbWugbmjFIqQB1GsiqGwNJOQ1TaVUjoAhEUEHNXEfXUVxeT0fXXt/AQd/AzsDQVs/QRkPbVMfAXM/QnEFCSV9R02zdhq11LT1pOaUs/LIicjqC0ppCMpoSCvpS8obhMemGRs7KqmbqGuaq6iYaWqbuXoEGxla6BmYMonLaGqZO2/YfPnf+4qp1mzv7pkYnZVfWtXkFxQRFpcSn5S9csio5uTC/oKa8onHq9LnFpTWbt2y3tHbS1jNh4JPTtdez6i6u2HXw6MePn65dvzVr/pLzFy5funJ97sLlBw4dO37y7OnTF+7de3Dy1LnHj5+uWLlu0eLlFtZOOkDNChoG27pa2uJzzZz9Q6JSAiOTDSxdTe08Xf0igqNSAiKSwmLT/ULiY+OyvH0iwyOSgoJjfPzCDIys9IDO1tPXn1Ye42PlxyOhBvSngJSGsKy2kIyWgLQGn6QaEAEZQEFxOR1tTSsDLSsrfUcrAwcbYydlDRMGUUU9SQVtCSVdSXAgS4PDGRLgwJCHBL40mCujaqSiZa6mba6kaQpUI66oDwAQ6oqH/oS8wAAAAABJRU5ErkJggg==","width":1000,"height":420,"src":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/a8734/newsboat-xmas2020.png","srcSet":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/a8734/newsboat-xmas2020.png 1x"},"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1UlEQVQY02OQUTGUUTWUVDYEMqRVDICklLKBjLK+JBAp6curGmvp2urpOejp2errW+sa2hjoWxoYW+sbWugbmjFIqQB1GsiqGwNJOQ1TaVUjoAhEUEHNXEfXUVxeT0fXXt/AQd/AzsDQVs/QRkPbVMfAXM/QnEFCSV9R02zdhq11LT1pOaUs/LIicjqC0ppCMpoSCvpS8obhMemGRs7KqmbqGuaq6iYaWqbuXoEGxla6BmYMonLaGqZO2/YfPnf+4qp1mzv7pkYnZVfWtXkFxQRFpcSn5S9csio5uTC/oKa8onHq9LnFpTWbt2y3tHbS1jNh4JPTtdez6i6u2HXw6MePn65dvzVr/pLzFy5funJ97sLlBw4dO37y7OnTF+7de3Dy1LnHj5+uWLlu0eLlFtZOOkDNChoG27pa2uJzzZz9Q6JSAiOTDSxdTe08Xf0igqNSAiKSwmLT/ULiY+OyvH0iwyOSgoJjfPzCDIys9IDO1tPXn1Ye42PlxyOhBvSngJSGsKy2kIyWgLQGn6QaEAEZQEFxOR1tTSsDLSsrfUcrAwcbYydlDRMGUUU9SQVtCSVdSXAgS4PDGRLgwJCHBL40mCujaqSiZa6mba6kaQpUI66oDwAQ6oqH/oS8wAAAAABJRU5ErkJggg==","aspectRatio":2.380952380952381,"src":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/a8734/newsboat-xmas2020.png","srcSet":"/static/52a56aac44d7df55f8a4c8ec31d8fefd/2d6f8/newsboat-xmas2020.png 250w,\n/static/52a56aac44d7df55f8a4c8ec31d8fefd/03ac3/newsboat-xmas2020.png 500w,\n/static/52a56aac44d7df55f8a4c8ec31d8fefd/a8734/newsboat-xmas2020.png 1000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"a1d2b734-83ae-5da1-99a9-629cf8ba25f2","prev":{"id":"47144edb-614d-5c82-ae61-60fbb05fe88c","html":"<p>Today I setup a new machine on Digital Ocean to use with TestProject.io,  Here are my installation notes.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">apt</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt</span> upgrade -y\n\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">zsh</span>\nchsh <span class=\"token function\">zsh</span>\n<span class=\"token function\">sh</span> -c <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token function\">curl</span> -fsSL https://starship.rs/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'eval \"<span class=\"token variable\"><span class=\"token variable\">$(</span>starship init <span class=\"token function\">zsh</span><span class=\"token variable\">)</span></span>\"'</span> <span class=\"token operator\">>></span> ~/.zshrc\n\n<span class=\"token comment\"># python</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> python3-pip -y\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'alias python=python3'</span> <span class=\"token operator\">>></span> ~/.zshrc\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'alias pip=pip3'</span> <span class=\"token operator\">>></span> ~/.zshrc\n\n<span class=\"token comment\"># pipx</span>\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> python3-venv\npip <span class=\"token function\">install</span> pipx\npipx <span class=\"token function\">install</span> black\npipx <span class=\"token function\">install</span> shell-functools\npip <span class=\"token function\">install</span> ipython\n\n\n<span class=\"token comment\"># docker</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> apt-transport-https ca-certificates <span class=\"token function\">curl</span> gnupg-agent software-properties-common\n<span class=\"token function\">curl</span> -fsSL https://download.docker.com/linux/ubuntu/gpg <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> apt-key <span class=\"token function\">add</span> -\n<span class=\"token function\">sudo</span> add-apt-repository <span class=\"token string\">\"deb [arch=amd64] https://download.docker.com/linux/ubuntu <span class=\"token variable\"><span class=\"token variable\">$(</span>lsb_release -cs<span class=\"token variable\">)</span></span> stable\"</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> docker-ce\n\n<span class=\"token comment\"># docker-compose</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> -L <span class=\"token string\">\"https://github.com/docker/compose/releases/download/1.25.5/docker-compose-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -s<span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -m<span class=\"token variable\">)</span></span>\"</span> -o /usr/local/bin/docker-compose\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose\n\n<span class=\"token comment\"># configure git</span>\n<span class=\"token function\">git</span> config --global user.name <span class=\"token string\">\"Waylon Walker\"</span>\n<span class=\"token function\">git</span> config --global user.email waylon@waylonwalker.com\n\n<span class=\"token comment\"># fzf</span>\n<span class=\"token function\">git</span> clone --depth <span class=\"token number\">1</span> https://github.com/junegunn/fzf.git ~/.fzf\n~/.fzf/install\n\n<span class=\"token comment\"># forgit</span>\n<span class=\"token function\">git</span> clone https://github.com/wfxr/forgit ~/.forgit\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\". ~/.forgit/forgit.plugin.zsh\"</span> <span class=\"token operator\">>></span> ~/.zshrc\n\n<span class=\"token comment\"># ag</span>\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> silversearcher-ag\n\n<span class=\"token comment\"># bat</span>\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> bat\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"alias cat=batcat\"</span> <span class=\"token operator\">>></span> ~/.zshrc\n\n<span class=\"token comment\"># testproject.io tokens</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'export TP_AGENT_ALIAS=\"Digital Ocean Agent\"'</span> <span class=\"token operator\">>></span><span class=\"token string\">\" ~/.zshrc\necho \"</span><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">TP_AGENT_API_KEY</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>your-key<span class=\"token operator\">></span> <span class=\"token operator\">>></span><span class=\"token string\">\" ~/.zshrc\necho \"</span><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">TP_DEV_TOKEN</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>your-token<span class=\"token operator\">></span> <span class=\"token operator\">>></span>\" ~/.zshrc</code></pre></div>\n<p>envsubst &#x3C; .github/ci/docker-compose.yml > docker-compose.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># .github/ci/docker-compose.yml</span>\n<span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.1\"</span>\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">testproject-agent</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> testproject/agent<span class=\"token punctuation\">:</span>latest\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> testproject<span class=\"token punctuation\">-</span>agent\n    <span class=\"token key atrule\">depends_on</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> chrome\n      <span class=\"token punctuation\">-</span> firefox\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">TP_API_KEY</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"${TP_API_KEY}\"</span>\n      <span class=\"token key atrule\">TP_AGENT_ALIAS</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"GitHub Action Agent\"</span>\n      <span class=\"token key atrule\">TP_AGENT_TEMP</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"true\"</span>\n      <span class=\"token key atrule\">TP_SDK_PORT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"8686\"</span>\n      <span class=\"token key atrule\">CHROME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"chrome:4444\"</span>\n      <span class=\"token key atrule\">CHROME_EXT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"localhost:5555\"</span>\n      <span class=\"token key atrule\">FIREFOX</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"firefox:4444\"</span>\n      <span class=\"token key atrule\">FIREFOX_EXT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"localhost:6666\"</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"8585:8585\"</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"8686:8686\"</span>\n  <span class=\"token key atrule\">chrome</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> selenium/standalone<span class=\"token punctuation\">-</span>chrome\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /dev/shm<span class=\"token punctuation\">:</span>/dev/shm\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"5555:4444\"</span>\n  <span class=\"token key atrule\">firefox</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> selenium/standalone<span class=\"token punctuation\">-</span>firefox\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /dev/shm<span class=\"token punctuation\">:</span>/dev/shm\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"6666:4444\"</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker-compose -f docker-compose.yml</code></pre></div>","fields":{"slug":"/new-machine-tpio/"},"frontmatter":{"tags":[],"title":"New Machine for developing Tests with TestProject.io","description":"Today I setup a new machine on Digital Ocean to use with TestProject.io, Here are my installation notes.","templateKey":"blog-post","status":"published","date":"2020-07-25T05:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQY0z2QyW7TYBhFs2OHGOKS1jh4SGI79j/ZxvNvO3Y6mMhuVaJQWrcBEtJFRaENEqqQ2CBE2UUskHgQ3g9HSEh38W3OPVdfg+uQJ13M9ki7PhRDNyKL7gVxyQiYaWNJcjUtUfsxAFSFfo+EGnB14hPiYuI0HndIna06IhI1+6havDm/+rC8kbHXEiCvmILq90Hc00MFBgoOAhJ4ZgCwi4jdqLHNOhJuiYjtGmaSk3B7MS/PTunLcfB5vnuxHy9Pdi7D3W9x/jPNV+nemZd0kb02r50SZiX8SEACcIfeviw6d7bEJo+2AV1F2Yqmx3b83h++cpLcogOT2sTXsQPXZglvdI1mXSHgTZkcRdWXwfWhNb4d3vzIlh/D6tx/fRlfvI0WczobOYcSeKpjv54Nsd14IGLA9W1RZzpkgwesQDI0mpiTEpeOOshhUaBi5k/H3otpUJXugQJs9B/mFfzn9uv36bu7bb1e0ZJwk9dZ1XwIIw5TBqX3tITph4oe9HRXBi5ENekh4q1hiNCvT9XIK+5z2r+3cZLpaOmz55Prq0Kd/eYGi7Z7LGrUgLFnZrG5Q60sNFNJtv4CTq9rlTfBgkIAAAAASUVORK5CYII=","width":500,"height":210,"src":"/static/a206a3e939afb906ec42d470ab3de7c5/46604/new-machine-tpio-xmas2020.png","srcSet":"/static/a206a3e939afb906ec42d470ab3de7c5/46604/new-machine-tpio-xmas2020.png 1x,\n/static/a206a3e939afb906ec42d470ab3de7c5/d8815/new-machine-tpio-xmas2020.png 1.5x,\n/static/a206a3e939afb906ec42d470ab3de7c5/31987/new-machine-tpio-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVQozzWRW2/SYACGuVxiVKYGyqmU0gNr+51aeuIrXSlFxBOTiItigaEgC8rmTIyHGGOymyVeGa+2xDsT/4b/zJLF5Ll98uZ93xQr4rxEWIGURISt0G3du7sXIytKsyDHkqrkakpQU30APAU1BEJ3gIN0F2MXETtVEHBOIAWBZCvg6WR5ePThy7fT0XRWrsGyjLkdg1e8HbjLqZ4KqYKpQ2jb9DTkbORcFW8QcIaDwA4Vux12gtfLO8OhtRpHb0btk0GwHnbf0+5Z0PsZ9i6i3rLRkpGN8H+Z4VGpVvd2H2gS3WLEKwXpBgePbP931D1vhwPb/9rszJzgkel3DL9pUA07MJEZUc+Ker6KM1UY2g+/dz7vm/t9Y3DeOz1rLSbm3gt38qo5H9Hp2Dtom/clYKvIBZdygRGFoswIhOHhrbLWw/0VfTl3plP7ed8YTp3pmi4+hscxjd8FhzF9JgML4Qa8lC/Wb3/Ei+tlkONRwk1O266oaQFulci1kpZm5asVWJDqCqCi5iSxGnRV5CjIgthK/f316eTJajuvbsrzKFuBhuZb3mB2fDCYjcvzP0V3xDbimuaZuOXq7aYRUSMMzIggmvLqWBJQpoKSzRKyPOSqdUm2urd13aVF5zEj1osgTO7kZTN5m6AmgA1ZsQtV8g/z/XnZ0ap/bgAAAABJRU5ErkJggg==","width":200,"height":85,"src":"/static/a206a3e939afb906ec42d470ab3de7c5/71e30/new-machine-tpio-xmas2020.png","srcSet":"/static/a206a3e939afb906ec42d470ab3de7c5/71e30/new-machine-tpio-xmas2020.png 1x,\n/static/a206a3e939afb906ec42d470ab3de7c5/24123/new-machine-tpio-xmas2020.png 1.5x,\n/static/a206a3e939afb906ec42d470ab3de7c5/492a0/new-machine-tpio-xmas2020.png 2x"}}}}},"next":{"id":"885840a6-4629-5023-ae91-a4a3758caf58","html":"<p>This morning I logged into my machine and was nearly out of space</p>\n<ul>\n<li>64GB miniconda3!</li>\n<li>5GB conda cache</li>\n<li>4GM pip cache</li>\n<li>34GB docker</li>\n</ul>\n<h2>Find it</h2>\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--0LE2KZJW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/je7pxcagfs7m23p98kck.jpg\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--0LE2KZJW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/je7pxcagfs7m23p98kck.jpg\" alt=\"Looking for big files when the weeds are too tall\"></a></p>\n<blockquote>\n<p>Photo by <a href=\"https://unsplash.com/@simonmigaj?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Simon Migaj</a> on <a href=\"https://unsplash.com/s/photos/find?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Unsplash</a></p>\n</blockquote>\n<p>These are the commands that I often use to reclaim space.  Its so easy to fill up small vm's in the cloud, or in my case today let your dev machine go way too long without a good cleanup.</p>\n<h3>Show Remaining Space on Drives</h3>\n<p>This shows us where to start and gives a baseline of how much space we have reclaimed.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">df</span> -h</code></pre></div>\n<h3>show largest files in current directory</h3>\n<p>Next keep drilling into directories that are big and running this command to see whats big inside of it.  When you find somethign that you are willing to part with <code class=\"language-text\">rm -rf &lt;directory&gt;</code> it and check <code class=\"language-text\">df -h</code> to see if you have enough reclaimed yet.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">du</span> <span class=\"token builtin class-name\">.</span> -h --max-depth<span class=\"token operator\">=</span><span class=\"token number\">1</span></code></pre></div>\n<p>Honestly I rarely bother unless the directory is in the GB's of space.  A super simple filter for that is to just grep for G.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">du</span> <span class=\"token builtin class-name\">.</span> -h --max-depth<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> G</code></pre></div>\n<h2>conda</h2>\n<h3>How Many?</h3>\n<p>As a first baseline lets see how many enviroments we are starting with. I started with 71. Yeah I have had this machine for 2 years, and dont regularly remove them.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda info --envs <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> -n +2 <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> -l</code></pre></div>\n<p>bash</p>\n<h3>Lets batch it out!</h3>\n<p>We are devs here surely we can automate this issue! The following four lines will generate a list of existing conda environments, edit them with vim, remove the remaining ones, then remove the text file we created to remove from.</p>\n<p>Make sure that you only keep names of environments that you want to <strong>remove</strong> in <code class=\"language-text\">conda_envs_to_remove.txt</code> and delete the environment names you want to keep.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">conda info --envs <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> -n +2 <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d <span class=\"token string\">' '</span> -f1 <span class=\"token operator\">></span> conda_envs_to_remove.txt\n<span class=\"token function\">vim</span> conda_envs_to_remove.txt\n<span class=\"token function\">cat</span> ~/.conda_envs_remove <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">'<span class=\"token entity\" title=\"\\n\">\\n</span>'</span> <span class=\"token string\">'<span class=\"token entity\" title=\"\\0\">\\0</span>'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> -l -0 conda remove --all -y -n\n<span class=\"token function\">rm</span> conda_envs_to_remove.txt</code></pre></div>\n<h3>üìù Side note</h3>\n<p>When I am creating one of these complicated bash pipelines including xargs I generally print out the command first and make sure that it does what I want. The following command will test the above script before doing dangerous things!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> ~/.conda_envs_remove <span class=\"token operator\">|</span> <span class=\"token function\">tr</span> <span class=\"token string\">'<span class=\"token entity\" title=\"\\n\">\\n</span>'</span> <span class=\"token string\">'<span class=\"token entity\" title=\"\\0\">\\0</span>'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> -l -0 <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"conda remove --all -y -n \"</span></code></pre></div>\n<h2>Cache</h2>\n<p>If your feeling really strained for space, you can <code class=\"language-text\">rm -rf ~/.cache</code>. Personally I like the improved speed of installing everything... obviously I install a lot of new environments.</p>\n<h2>Docker</h2>\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--W4NWBxYC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/olcef3lh31dtrwa51u7g.jpg\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--W4NWBxYC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/olcef3lh31dtrwa51u7g.jpg\" alt=\"Alt Text\"></a></p>\n<blockquote>\n<p>Photo by <a href=\"https://unsplash.com/@henry_be?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Henry Be</a> on <a href=\"https://unsplash.com/s/photos/dark-fire?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Unsplash</a></p>\n</blockquote>\n<p>For more information read this article, <a href=\"https://docs.docker.com/config/pruning/\" title=\"https://docs.docker.com/config/pruning/\">https://docs.docker.com/config/pruning/</a>. I have all of the images that I want pushed remotely so I just dumped everything with the following command.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker system prune\ndocker system prune --volumes</code></pre></div>\n<p>Running these two sets of commands cleared up about <strong>70GB</strong> of space for me with very little effort on my behalf. I hope others find the first command helpful to batch remove many conda environments at once.</p>","fields":{"slug":"/out-of-space/"},"frontmatter":{"tags":[],"title":"Out of Space","description":"Out of Space! How to remove 65 conda environments in one command.","templateKey":"blog-post","status":"published","date":"2020-02-01T06:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFAf/EABYBAQEBAAAAAAAAAAAAAAAAAAMAAf/aAAwDAQACEAMQAAABltY1jnGmX//EABoQAAIDAQEAAAAAAAAAAAAAAAACAQMhEhP/2gAIAQEAAQUCiuTyzkRizBn3/8QAFREBAQAAAAAAAAAAAAAAAAAAACH/2gAIAQMBAT8BV//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwFsf//EABYQAQEBAAAAAAAAAAAAAAAAAAEQIP/aAAgBAQAGPwLAz//EABoQAAMBAAMAAAAAAAAAAAAAAAABESExQVH/2gAIAQEAAT8hxd3R8g9k5g6RF9hR2kf/2gAMAwEAAgADAAAAEKA//8QAFhEBAQEAAAAAAAAAAAAAAAAAERAh/9oACAEDAQE/EF2P/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/ENCH/8QAGhABAQEBAQEBAAAAAAAAAAAAAREAITFRcf/aAAgBAQABPxAN2DwNn7p+FT7u0cRj3uNJFRnkA7//2Q==","width":500,"height":341,"src":"/static/6d1d9c7c81cc5b8eb05340963497cfe5/0f3a1/photo-1464802686167-b939a6910659.jpg","srcSet":"/static/6d1d9c7c81cc5b8eb05340963497cfe5/0f3a1/photo-1464802686167-b939a6910659.jpg 1x,\n/static/6d1d9c7c81cc5b8eb05340963497cfe5/f9913/photo-1464802686167-b939a6910659.jpg 1.5x,\n/static/6d1d9c7c81cc5b8eb05340963497cfe5/a7715/photo-1464802686167-b939a6910659.jpg 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwEC/9oADAMBAAIQAxAAAAEmw0qRI9Nf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQACEQMy/9oACAEBAAEFAqYljC2DSdPDP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAERL/2gAIAQIBAT8BrT//xAAXEAEAAwAAAAAAAAAAAAAAAAABEBEg/9oACAEBAAY/Ai8Ef//EABkQAAMBAQEAAAAAAAAAAAAAAAABESExEP/aAAgBAQABPyFUERErMZZRyvJ0f//aAAwDAQACAAMAAAAQDy//xAAWEQEBAQAAAAAAAAAAAAAAAAABADH/2gAIAQMBAT8QHSJ//8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/ENlT/8QAHBAAAgICAwAAAAAAAAAAAAAAAREAECFRcYGh/9oACAEBAAE/ENdg7iojsFYXMIUINLxmn//Z","width":200,"height":85,"src":"/static/6d1d9c7c81cc5b8eb05340963497cfe5/a6613/photo-1464802686167-b939a6910659.jpg","srcSet":"/static/6d1d9c7c81cc5b8eb05340963497cfe5/a6613/photo-1464802686167-b939a6910659.jpg 1x,\n/static/6d1d9c7c81cc5b8eb05340963497cfe5/b97e6/photo-1464802686167-b939a6910659.jpg 1.5x,\n/static/6d1d9c7c81cc5b8eb05340963497cfe5/eeb4b/photo-1464802686167-b939a6910659.jpg 2x"}}}}},"similarPosts":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}},"staticQueryHashes":["2992646504"]}