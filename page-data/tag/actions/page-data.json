{"componentChunkName":"component---src-templates-tag-page-js","path":"/tag/actions","result":{"pageContext":{"tag":"actions","tags":["python","beginners",null,"kedro","blog","webdev","data","git","bash","actions","catalytic","vim","linux","cli","twitter"],"tagCounts":{"python":82,"beginners":50,"null":19,"blog":9,"webdev":8,"cli":1,"catalytic":4,"twitter":1,"data":8,"linux":3,"bash":6,"actions":6,"git":8,"kedro":10,"vim":4},"posts":[{"node":{"id":"15bc7a99-5b2e-52d8-99fd-47c65fa4500a","html":"<p>Check out the repo for <a href=\"https://github.com/stefanzweifel/git-auto-commit-action\">git-auto-commit-action</a>.</p>\n<p>It's a really cool GitHub action that will automatically commit files changed during the action.  I was using this to render a new readme based on a template.</p>\n<p>This has been by far the easiest way to commit back to a repo that I have seen.  Other patterns often require fully setting up the git user and everything.  While it's not all that hard, this action already has all of that covered.</p>\n<p>You must give it a commit message and thats it.  Optionally you can configure a number of things.  Its possible to configure the <code class=\"language-text\">commit_user_name</code>, <code class=\"language-text\">commit_user_email</code>, and <code class=\"language-text\">commit_author</code>.  I often also scope the <code class=\"language-text\">file_pattern</code> to a certain subset of files.</p>\n<hr>\n<p style=\"text-align: center\">\n<a href=\"https://waylonwalker.com/github-actions-syntax\">\n  <img style=\"width:500px; max-width:80%; margin: auto;\" src=\"https://waylonwalker.com/github-actions-syntax-rm.png\" alt=\"GitHub Actions Syntax article card\">\n  </a>\n</p>\n<blockquote>\n<p>If you're new to actions check out this article on using actions.</p>\n</blockquote>\n<p style=\"text-align: center\">\n<a href=\"https://waylonwalker.com/github-actions-syntax\">\n  <img style=\"width:500px; max-width:80%; margin: auto;\" src=\"https://waylonwalker.com/github-actions-syntax-rm.png\" alt=\"GitHub Actions Syntax article card\">\n  </a>\n</p>\n<blockquote>\n<p>If you're new to actions check out this article on using actions.</p>\n</blockquote>\n<hr>\n<p>You do need to be careful to checkout the repo just a bit different than normal.</p>\n<h2>Limitations &#x26; Gotchas</h2>\n<p><em>directly from the repo</em></p>\n<h3>Checkout the correct branch</h3>\n<p>You must use <code class=\"language-text\">action/checkout@v2</code> or later versions to checkout the repository. In non-push events, such as pull_request, make sure to specify the ref to checkout:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n  <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ref</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.head_ref <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>You have to do this do avoid that the <code class=\"language-text\">checkout</code>-Action clones your repository in a detached state.</p>\n<h2>Usage</h2>\n<p><em>from the repo</em></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> stefanzweifel/git<span class=\"token punctuation\">-</span>auto<span class=\"token punctuation\">-</span>commit<span class=\"token punctuation\">-</span>action@v4\n  <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Required</span>\n    <span class=\"token key atrule\">commit_message</span><span class=\"token punctuation\">:</span> Apply automatic changes\n\n    <span class=\"token comment\"># Optional branch to push to, defaults to the current branch</span>\n    <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> feature<span class=\"token punctuation\">-</span><span class=\"token number\">123</span>\n\n    <span class=\"token comment\"># Optional options appended to `git-commit`</span>\n    <span class=\"token comment\"># See https://git-scm.com/docs/git-commit for a list of available options</span>\n    <span class=\"token key atrule\">commit_options</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'--no-verify --signoff'</span>\n\n    <span class=\"token comment\"># Optional glob pattern of files which should be added to the commit</span>\n    <span class=\"token comment\"># See the `pathspec`-documentation for git</span>\n    <span class=\"token comment\"># - https://git-scm.com/docs/git-add#Documentation/git-add.txt-ltpathspecgt82308203</span>\n    <span class=\"token comment\"># - https://git-scm.com/docs/gitglossary#Documentation/gitglossary.txt-aiddefpathspecapathspec</span>\n    <span class=\"token key atrule\">file_pattern</span><span class=\"token punctuation\">:</span> src/<span class=\"token important\">*.js</span> tests/<span class=\"token important\">*.js</span>\n\n    <span class=\"token comment\"># Optional local file path to the repository</span>\n    <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> .\n\n    <span class=\"token comment\"># Optional commit user and author settings</span>\n    <span class=\"token key atrule\">commit_user_name</span><span class=\"token punctuation\">:</span> My GitHub Actions Bot\n    <span class=\"token key atrule\">commit_user_email</span><span class=\"token punctuation\">:</span> my<span class=\"token punctuation\">-</span>github<span class=\"token punctuation\">-</span>actions<span class=\"token punctuation\">-</span>bot@example.org\n    <span class=\"token key atrule\">commit_author</span><span class=\"token punctuation\">:</span> Author &lt;actions@github.com<span class=\"token punctuation\">></span>\n\n    <span class=\"token comment\"># Optional tag message</span>\n    <span class=\"token comment\"># Action will create and push a new tag to the remote repository and the defined branch</span>\n    <span class=\"token key atrule\">tagging_message</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'v1.0.0'</span>\n\n    <span class=\"token comment\"># Optional options appended to `git-push`</span>\n    <span class=\"token key atrule\">push_options</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'--force'</span>\n\n    <span class=\"token comment\"># Optional: Disable dirty check and always try to create a commit and push</span>\n    <span class=\"token key atrule\">skip_dirty_check</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<h2>More Actions</h2>\n<p>If you're new to actions check out these articles on using actions.</p>\n<table>\n  <tbody><tr>\n    <td>\n      <a href=\"https://waylonwalker.com/four-github-actions-website\">\n      <img style=\"width:250px; max-width:80%; margin: auto; float: left\" src=\"https://waylonwalker.com/four-github-actions-website-rm.png\" alt=\"GitHub Actions Syntax article card\">\n      </a>\n    </td>\n    <td>\n      <a href=\"https://waylonwalker.com/four-github-actions-python\">\n      <img style=\"width:250px; max-width:80%; margin: auto; float: right;\" src=\"https://waylonwalker.com/four-github-actions-python-rm.png\" alt=\"GitHub Actions Syntax article card\">\n      </a>\n    </td>\n  </tr>\n</tbody></table>","fields":{"slug":"/git-auto-commit-action-review/"},"frontmatter":{"tags":["actions"],"title":"Review of the git-auto-commit-action","description":"It's a really cool GitHub action that will automatically commit files changed during the action. I was using this to render a new readme based on a template.","templateKey":"blog-post","status":"published","date":"2020-08-03T05:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQY0yVRW2sTQRTeB0GQ2tS2oU1Iutc2O7uzMzuzs5fsZbLZzZbaIkZqKIamJVqtkdYbUkNFUB8Kgu8++0+dtPBxOOfwfed8nCO1DCLQ1MmmhtY1W8Q1Fa4qZk01VxTQ3iaYFozt+n4ZhgM/KsMg98PcDzI/SKWmUBqkriEHZCN2RK28xAdD73DWfTntTjEsNRC5dEBon7KCUE68jLKUsISyZCFu6UQsOQ0nv8s5sXpj/8VNcfU5m511px2QtA0PoRzYPWBziFLLSWwUY9rFJJKauruukyUV3o6wHmztPJTNpa3O/bZxr6W1dSoIpp3uVf3JUf/JYz4e9UbPuI1CRAKprhNPgyOYj6PJ+/jNV34x55cJrE6C4z+D62+9D3/3fvzM5x/Pq5vr6t2r4tdV/+I1t1CIhXhFdr6cnv07/36ZzD6lb0/C46f00DbTBO7ukyEGvMD7ASwR5pRy6sV+PvTiysEBIuHC9pruLqtOTTaF4ZoChPm66jxSrGXZFJevyWBVsZUdZjuZ40RW/BzlY4h8uUOlTQ03NCxGiG/dQiRuQ3PvOo27Unc3BMdwVZNtA6aai0NsqPg/nWNkUeyFHfkAAAAASUVORK5CYII=","width":500,"height":210,"src":"/static/26b593c81d88db8784e024d83982c513/46604/git-auto-commit-action-review-xmas2020.png","srcSet":"/static/26b593c81d88db8784e024d83982c513/46604/git-auto-commit-action-review-xmas2020.png 1x,\n/static/26b593c81d88db8784e024d83982c513/d8815/git-auto-commit-action-review-xmas2020.png 1.5x,\n/static/26b593c81d88db8784e024d83982c513/31987/git-auto-commit-action-review-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7klEQVQozzXQy27TQBQGYLNBKkItbdI2TWo7via2x7eZ8SUTx3Zspw0EoiYqaRGXUhWpBUQvbFKKokqoiyCxQSzZ8Rw8HEMR0rc755fOfxhOcaqqy8kuq9ibslujJHtTMldlk5XcJiAB3kY4D72iFeY+6RE/9Unq+zHyCFOTnarsVkR7WdDLorkmWvc4dYlv3K83lnmNU5EDcwrj3PMy7Geel6K/yQ7y2wxNrouWpAYTby+x+lqDHIWvD4ODy/jDyH9mg0wyWgj1HNhFOIMocXEMPaoDcZupSe6Duj6Ao1+D+RCOU+vh963ZdfrxKjkdoDGrYEH1HSfTQaIbsWFGGmhrgFiQODBkKgos0ZIyZGV4l5UX+eYCp9DL71S5BVYp182SaDaMqJsm4ydpL4+Hg3g07FhuaDkBw1ZVh7dj+9Fjd2ff2z8IXo7RU7MZnUXHb8nRLL34Wly+j06m590fN/3paX7zKf8yzSFumXbAzF4d/n53/bM/n+fTb8XVRXQywZMQFJ+Tsxf+8xHaPY+OB3jUInHSSbK0U2xv5XkM7MB2A8YIC2qjbq8J1qpgrtSNkgAoevkiry3xGm2xIgBZIwaIdT1QW3ta9oYW1kyPKbM6tS7alVsb/9Ukp3qLfvTfSGx4uhkCJwJ+T9Iw3fkDv3Jz36G/3JAAAAAASUVORK5CYII=","width":200,"height":85,"src":"/static/26b593c81d88db8784e024d83982c513/71e30/git-auto-commit-action-review-xmas2020.png","srcSet":"/static/26b593c81d88db8784e024d83982c513/71e30/git-auto-commit-action-review-xmas2020.png 1x,\n/static/26b593c81d88db8784e024d83982c513/24123/git-auto-commit-action-review-xmas2020.png 1.5x,\n/static/26b593c81d88db8784e024d83982c513/492a0/git-auto-commit-action-review-xmas2020.png 2x"}}}}}},{"node":{"id":"1aba07b1-1054-5ba2-b735-876c597a387a","html":"<p>GitHub's actions are a new GitHub feature that will trigger GitHub to spin up a virtual machine and run some tasks with some special access to your repo. It can interact with comments/issues, it can clone your repo, You can explicitly pass in secrets so that it can commit back to the repo or deploy to another service. The environment may be a Linux, windows, or even a mac machine. I believe this is wildly incredible for the open-source community, putting these tools in the same place that we are already collaborating is so convenient.</p>\n<h2>What can they do for my personal website? ðŸ¤”</h2>\n<p>GitHub actions can give you confidence that your site is up and running, with the latest JavaScript packages, does not have broken links, and can even take screenshots of what your website looks like on different screen sizes and operating systems.</p>\n<ul>\n<li>periodically check that the website is up</li>\n<li>update npm</li>\n<li>url checker</li>\n<li>screenshot website</li>\n</ul>\n<h2><a href=\"https://github.com/srt32/uptime\">srt32/uptime</a></h2>\n<p><a href=\"https://github.com/srt32/uptime\">srt32/uptime</a> is an action that you can run on any public website. I run this one several times every day and it gives me confidence that my various sites are still up and running. It ensures that my build didn't break something, nothing is wrong with my hosting provider, or my DNS.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> check if site is up\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'0 0 * * *'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">ping_site</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Ping the site\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Check the site\n      <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> hello\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> srt32/uptime@master\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">url-to-hit</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://waylonwalker.com/\"</span>\n        <span class=\"token key atrule\">expected-statuses</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"200,301\"</span></code></pre></div>\n<h2><a href=\"https://github.com/taichi/actions-package-update\">taichi/actions-package-update</a></h2>\n<p>Here is another one to make sure that your package.json does not get too far out of date, or have any vulnerabilities. <a href=\"https://github.com/taichi/actions-package-update\">taichi/actions-package-update</a> will submit a PR back to your repo with any updated dependencies. Since it submits it as a pr, your tests triggered by PRs should also run. giving you confidence that you are ready to update.</p>\n<p style=\"text-align: center\">\n<img src=\"https://github.com/taichi/actions-package-update/raw/master/docs/actions-package-update.png\" style=\"width:600px; max-width:80%; margin: auto;\" alt=\"image of a PR submitted by actions-package-update\">\n</p>\n<p>Example to update <code class=\"language-text\">package.json</code> every Wednesday night at midnight.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> 0 0 * * 3\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Update\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">package-update</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@master\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> set remote url\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> git remote set<span class=\"token punctuation\">-</span>url <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>push origin https<span class=\"token punctuation\">:</span>//$GITHUB_ACTOR<span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>@github.com/$GITHUB_REPOSITORY\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> package<span class=\"token punctuation\">-</span>update\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> taichi/actions<span class=\"token punctuation\">-</span>package<span class=\"token punctuation\">-</span>update@master\n      <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">AUTHOR_EMAIL</span><span class=\"token punctuation\">:</span> john@example.com\n        <span class=\"token key atrule\">AUTHOR_NAME</span><span class=\"token punctuation\">:</span> john\n        <span class=\"token key atrule\">EXECUTE</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"true\"</span>\n        <span class=\"token key atrule\">GITHUB_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">LOG_LEVEL</span><span class=\"token punctuation\">:</span> debug\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">args</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">-</span>u <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>packageFile package.json <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>loglevel verbose</code></pre></div>\n<h2><a href=\"https://github.com/urlstechie/urlchecker-action\">urlstechie/urlchecker-action</a></h2>\n<p><a href=\"https://github.com/urlstechie/urlchecker-action\">urlstechie/urlchecker-action</a> is an action to collect and check URLs in a project and report on broken links. This is another one to give yourself some confidence that you are not linking out to a broken site, and can give you a heads up before you have frustrated users.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Check URLs\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>push<span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> urls<span class=\"token punctuation\">-</span>checker\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> urlstechie/urlchecker<span class=\"token punctuation\">-</span>action@0.2.1\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># A subfolder or path to navigate to in the present or cloned repository</span>\n        <span class=\"token key atrule\">subfolder</span><span class=\"token punctuation\">:</span> docs\n\n        <span class=\"token comment\"># A comma-separated list of file types to cover in the URL checks</span>\n        <span class=\"token key atrule\">file_types</span><span class=\"token punctuation\">:</span> .md<span class=\"token punctuation\">,</span>.py<span class=\"token punctuation\">,</span>.rst\n\n        <span class=\"token comment\"># Choose whether to include file with no URLs in the prints.</span>\n        <span class=\"token key atrule\">print_all</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n\n        <span class=\"token comment\"># The timeout seconds to provide to requests, defaults to 5 seconds</span>\n        <span class=\"token key atrule\">timeout</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n\n        <span class=\"token comment\"># How many times to retry a failed request (each is logged, defaults to 1)</span>\n        <span class=\"token key atrule\">retry_count</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n\n        <span class=\"token comment\"># A comma separated links to exclude during URL checks</span>\n        <span class=\"token key atrule\">white_listed_urls</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//github.com/SuperKogito/URLs<span class=\"token punctuation\">-</span>checker/issues/1<span class=\"token punctuation\">,</span>https<span class=\"token punctuation\">:</span>//github.com/SuperKogito/URLs<span class=\"token punctuation\">-</span>checker/issues/2\n\n        <span class=\"token comment\"># A comma separated patterns to exclude during URL checks</span>\n        <span class=\"token key atrule\">white_listed_patterns</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//github.com/SuperKogito/Voice<span class=\"token punctuation\">-</span>based<span class=\"token punctuation\">-</span>gender<span class=\"token punctuation\">-</span>recognition/issues\n\n        <span class=\"token comment\"># choose if the force pass or not</span>\n        <span class=\"token key atrule\">force_pass</span> <span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<h2><a href=\"https://github.com/swinton/screenshot-website\">swinton/screenshot-website</a></h2>\n<p><a href=\"https://github.com/swinton/screenshot-website\">swinton/screenshot-website</a> will take a screenshot of your website. It can even run a matrix of sizes and os's to check how your site looks on various systems.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> screenshot<span class=\"token punctuation\">-</span>website\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'0 0 0 * *'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">screenshot</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Screenshot\n    <span class=\"token key atrule\">strategy</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">matrix</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">os</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>ubuntu<span class=\"token punctuation\">-</span>latest<span class=\"token punctuation\">,</span> macos<span class=\"token punctuation\">-</span>latest<span class=\"token punctuation\">,</span> windows<span class=\"token punctuation\">-</span>latest<span class=\"token punctuation\">]</span>\n        <span class=\"token key atrule\">width</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">992</span><span class=\"token punctuation\">,</span> <span class=\"token number\">768</span><span class=\"token punctuation\">,</span> <span class=\"token number\">600</span><span class=\"token punctuation\">]</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> matrix.os <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Screenshot Website\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> swinton/screenshot<span class=\"token punctuation\">-</span>website@v1.x\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">source</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//waylonwalker.com/\n        <span class=\"token key atrule\">destination</span><span class=\"token punctuation\">:</span> screenshot<span class=\"token punctuation\">-</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> matrix.os <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> matrix.width <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>.png\n        <span class=\"token key atrule\">width</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> matrix.width <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>","fields":{"slug":"/four-github-actions-website/"},"frontmatter":{"tags":["actions"],"title":"Four github actions for your website","description":"GitHub actions can give you confidence that your site is up and running, with the latests JavaScript packages, does not have broken links, and can even take screenshots of what your website looks like on different screen sizes and operating systems.","templateKey":"blog-post","status":"published","date":"2020-05-18T13:02:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB20lEQVQY0xXNW2/SUADA8b76oklV2MalpWWlLS2XQntoz+FQ6YHCwqVoNyJgcBk4MIONRbOYOTExGuPlQU3MEqM+muzJT+CrX8ua/F9/+VNcFo76oOebggqiUokRS7G0xctWVDYTSjmpIFax4xIWFMzJhmKgTN4SNaRo5XQBU4xqHU3NkzlgpDzN5uKSGZNNNg2ZtBXehjERwWq169UaTcfCcDh01AISA6mVZQ1TNKe5/sPjsxeHq3PSHW2mjIhssar5aEKOZsTA9mrh/rnyLt/v/Lps/f7ZlgtIyKJUHqVyiAoJRaPa8QbT/sGi3hvRXD4qAUaFowfO5zdN846dLdm9e7XBfTuo17OJi3kVBjLwVFyF1+IK9obz0+f9ycne/mJLQnTCoHnzOmPeTJjhbbwlwNusHkuBEAdYyRBU4/88OIflUlEsdmCN+IPu3m7N20UENzv4rm9bNnJbznhcf7ZypvvVp0vy/WMDui0GjcUMEHOQupEsrB8v//44Xp/bs0n5y1vy9V3j6lv7dEkancqn140P6/rFE/LyrOb7ldlBBZAW236VdA7Zwg4VYrJCUSedsgahqFs5hNgM2BD0iKCFee0WkwtzxQ1eD4oIxmYSJGTAO3Oxe8GXvH+p1XoMDqMlggAAAABJRU5ErkJggg==","width":500,"height":210,"src":"/static/e33589cfe658f1208c9db21e9b512aee/46604/four-github-actions-website-xmas2020.png","srcSet":"/static/e33589cfe658f1208c9db21e9b512aee/46604/four-github-actions-website-xmas2020.png 1x,\n/static/e33589cfe658f1208c9db21e9b512aee/d8815/four-github-actions-website-xmas2020.png 1.5x,\n/static/e33589cfe658f1208c9db21e9b512aee/31987/four-github-actions-website-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGUlEQVQozw3RW0/TUADA8T4blQiTsUG7db2ua9euW3va09Pj1tJubHOMixtGbgLiHAgoGtQRxVvQ4BMaJNEHjZEX8TOY8Mlc8n//PfwJMY86y2B+AaoFMy5YiTQgM5CWbCptxzNOSnJZ1WXkopgvKjnMK0CFSNMdUUdyziUYDW537MddU9Jzl0ezY6JFpm1ScmjZionoGmXR2WJzyp9fqExO+thDG51AM1wh50q6Swyxejiz/OjF242nB9MLnaTikpI9lAJhvfRqL7y/HqTz+Oxr4+/3xumn6o/j2sV500SYyyKxLw/zBTucad3dnFvdur36cJg3o6w+IkANos8fqq+fhVQGY7/UbgfrK97KktduleqNG4wCedUhSAVeSSiw2uru7o83F5c6uwqciLKFmAivM1aEdcZEOyYUo6wdSRgxDgyMGaMc4GWDyzpELGNRCdkBQXmuU28tzixvZWF5VAJ2ERUwlvK2BEoTdW9lseiHaKc7/r4XmtijwS1BhcRVLv9ubfPisPuyhx/cc59so19fKr9Pav/Om46H3uxX/ny7+fN44uykdnRQ3tsJTj+Wg0aNbBzx+A4xSKleo/68N7u65iMftef9qVmMAoxKdlIBqYwh60b/EKeYrAIo0YxzgJYMprzNTh8SI7QaTUoRSr4U1yIpfYDqlxtK5gbJbJzV4owWY3RKKFCCkUibqQxgZIuVzaReoe3Wf6LFiRzvEbk+AAAAAElFTkSuQmCC","width":200,"height":85,"src":"/static/e33589cfe658f1208c9db21e9b512aee/71e30/four-github-actions-website-xmas2020.png","srcSet":"/static/e33589cfe658f1208c9db21e9b512aee/71e30/four-github-actions-website-xmas2020.png 1x,\n/static/e33589cfe658f1208c9db21e9b512aee/24123/four-github-actions-website-xmas2020.png 1.5x,\n/static/e33589cfe658f1208c9db21e9b512aee/492a0/four-github-actions-website-xmas2020.png 2x"}}}}}},{"node":{"id":"51231d28-a5c4-5560-bdb1-960572f5c842","html":"<style>\nh2 img { width: 100%; box-shadow: .5rem .5rem 3rem #141F2D, -.5rem -.5rem 3rem rgba(255,255,255,.1);}\nimg{ max-width: 100% !important;}\n</style>\n<p>If you are developing python packages and using GitHub here are four actions that you can use today to automate your release workflow.  Since python tools generally have such a simple cli I have opted to use the cli for most of these, that way I know exactly what is happening and have more control over it if I need.</p>\n<ul>\n<li>Lint</li>\n<li>Test</li>\n<li>Package</li>\n<li>Upload to PyPi</li>\n</ul>\n<h2><img src=\"https://waylonwalker.com/gh-actions-python-headers/1.png\" alt=\"Lint With flake8\"></h2>\n<p>flake8 is pythons quintessential linting tool to ensure that your code is up to the standards that you have set for the project, and to help prevent hidden bugs.  I am a heavy user of <code class=\"language-text\">black</code> and <code class=\"language-text\">isort</code> as well, but for ci flake8 is typically considered the gold standard. <code class=\"language-text\">black</code> and <code class=\"language-text\">isort</code> will help you automate many fixes suggested by flake8.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Lint with flake8\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        pip install flake8 isort black\n        # stop the build if there are Python syntax errors or undefined names\n        flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n        # exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\n        flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics</span></code></pre></div>\n<h2><img src=\"https://waylonwalker.com/gh-actions-python-headers/2.png\" alt=\"Testing with pytest\"></h2>\n<p>pytest is such an amazing project, definitely one to check out and start using if you are not already doing so.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Test with pytest\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n         pip install pytest\n         pytest</span></code></pre></div>\n<h2><img src=\"https://waylonwalker.com/gh-actions-python-headers/3.png\" alt=\"Building with setuptools\"></h2>\n<p>I am still using the older, less hipster, setuptools to build my projects.  Primarily because I am used to to, partly because things such as editable installs are not possible with the newer build tools, and I am a <strong>HEAVY</strong> user of editable installs.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    - name: build\n      run: |\n        pip install wheel\n        python setup.py sdist bdist_wheel</code></pre></div>\n<h2><img src=\"https://waylonwalker.com/gh-actions-python-headers/4.png\" alt=\"Publishing to pypi\"></h2>\n<p>Here I am going to use an amazing action from the GitHub marketplace by @webKnjaZ.  It is super simple.  First you need to log into your <a href=\"https://pypi.org\">pypi.org</a> account, go to account settings, enable 2FA, and add a Token, then paste that toke into a secret inside your repos settings.  Next just drop the name of that secret into the password field of the action and you are off.</p>\n<p><strong>note</strong>: I did put a check in to make sure that push event comes from main.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pypi<span class=\"token punctuation\">-</span>publish\n      <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> github.ref == 'refs/heads/main'\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> pypa/gh<span class=\"token punctuation\">-</span>action<span class=\"token punctuation\">-</span>pypi<span class=\"token punctuation\">-</span>publish@v1.1.0\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># PyPI user</span>\n        <span class=\"token comment\"># Password for your PyPI user or an access token</span>\n        <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.pypi_password <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token comment\"># The repository URL to use</span>\n        <span class=\"token comment\"># repository_url: # optional</span>\n        <span class=\"token comment\"># The target directory for distribution</span>\n        <span class=\"token comment\"># packages_dir: # optional, default is dist</span></code></pre></div>\n<h2>That's my four top python actions</h2>\n<p>These are the easiest and most basic four actions that every python project on GitHub should have.  Now that actions are available for free on any public repo there is no reason not to use GitHub Actions for any new project.</p>","fields":{"slug":"/four-github-actions-python/"},"frontmatter":{"tags":["actions"],"title":"Four Github Actions for Python","description":"If you are developing python packages and using GitHub here are four actions that you can use today to automate your release workflow.  Since python tools generally have such a simple cli I have opted to use the cli for most of these, that way I know exactly what is happening and have more control over it if I need.","templateKey":"blog-post","status":"published","date":"2020-04-13T06:23:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVQY0xWQXW/SUACGe2nijZGEhNGW0s9z2p5+cErb09KWAZEPF6CMOWFAdHPipht+ZokTskzvjO7GaxPvvPcPeOu/svsBz/u870sJZjifeOmYiJpLQ78EfEYLBDXgUMCjSEI1yapLZqKgWDE8uVLTkKt1j430g1qJqJIRrJZk9cKlFTvHWSwkjEo4LWS1oKxHAqqJZgY3FCNWTCJbBJEumH0PT24mjxLqPl9pj5+sLjbLN5fNwayguJmZVrOIgIE+h+KyUedRLCAimTUJWqD36tOP639/Rr9vYiovO26jP5wc7x+ddUfzHI+LWXNI2AzDHRZ6t367xUNHUB3Zjmh9+9e37b8/CfZDikXhHUZP0tnz15f23vt0fsqhsCBjMd5Hj9e8twPazypHX5VoZOxdWIvPsDWTVQvgJFtE5VW/Cqv9sEUGC2d+VT9co913JadTJn3QW4KHp8Z0Y86v9eG5Od3onaegfiDGi+w81Q6pexL+uDx/e3B4lzNA/wxMruSdl7QesmbCuT0hGoPGlIPVMnTKAPPAFnBbTL+IzSWHe9QWb+YknIcurXqM84Ax4oKCt0C1KFWKks0oTkbewqrHa76gExH5fPMEDNaCP/wPPtxxLG0dyYMAAAAASUVORK5CYII=","width":500,"height":210,"src":"/static/3f063358e471219213397fad62af2299/46604/four-github-actions-python-xmas2020.png","srcSet":"/static/3f063358e471219213397fad62af2299/46604/four-github-actions-python-xmas2020.png 1x,\n/static/3f063358e471219213397fad62af2299/d8815/four-github-actions-python-xmas2020.png 1.5x,\n/static/3f063358e471219213397fad62af2299/31987/four-github-actions-python-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAACA0lEQVQozy2PXU/TUACGe+MldxLH1u304/T7tKctbdfTrttaZjcWgmELA/cBOBFwjE1QEyUaMUaXgMSE3+Af8MZ7/Rf+Cv+CvfDuvXnePA81Hfv9QYBWvbzsA7lc0gJGITwiwAghigQcSTgWzLpkVGVcFu0K0stacx+Pbo2wSb06JfPnrmhaSwWdln1aISU1BKoP9IjVAs6oCUYNmg3RyF4CERNE1rXhtTH5PplsUGn34Pzy0+nrq63hSQYUFEIrflELi7Jf0ioMilijzmlh5gKNUFAs2Hh2cff194/tPz9jiqTdnSfT3aezvaNZXvGXeSdjaNkD5hpAEVADTo94HLOKw2ueiIOcWP12Ff/9RdI0pJaATtq96ct3bDxKB2eYNB5Au6gSrXepbEwZvaptzs3H7wWnoW+9MAcf1NZYUk3DrXCoQhUBqodpZ//EH3/emi9Id8IlI1py1M6FsDZEvbd4+HH1+M7YfmONr43OudIY8X43S5AxoRbHZ7d7h/fystA8lIdf0MENrO3mRQvGfcZtKZszqb7D2wmHCK+HUHWh3eC7N0LU5502haJ1rdrOSQ4TPOKTPm0leRQUJKeguLTssmbCqmUg2YzisarHIT8r59M57CxgckTdL6rLAK0Idk6wchDnoJmNFQ4XoElDi+YxkB1G9f7Dmg+Rx9gtlvRE5+E/RQZ/uAPuitMAAAAASUVORK5CYII=","width":200,"height":85,"src":"/static/3f063358e471219213397fad62af2299/71e30/four-github-actions-python-xmas2020.png","srcSet":"/static/3f063358e471219213397fad62af2299/71e30/four-github-actions-python-xmas2020.png 1x,\n/static/3f063358e471219213397fad62af2299/24123/four-github-actions-python-xmas2020.png 1.5x,\n/static/3f063358e471219213397fad62af2299/492a0/four-github-actions-python-xmas2020.png 2x"}}}}}},{"node":{"id":"057cfd02-ff70-5ff0-a355-d56d9b53018a","html":"<p>Here is one useful thing that you can do with GitHub actions no matter what language you use, send email.  You might want to know right away when your ci passes.  You might want to give your team a nice pat on the back when a new release is deployed.  There might be subscribers wanting to see the latest release notes in their inbox as soon as the latest version is deployed.  Whatever it is, its pretty easy to do with an action right out of the actions marketplace.</p>\n<h2>Mail on Star</h2>\n<p>Here is a silly example that sends an email to yourself anytime someone stars your repo.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Mail on Star\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">watch</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> started <span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># A workflow run is made up of one or more jobs that can run sequentially or in parallel</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># This workflow contains a single job called \"email\"</span>\n  <span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># The type of runner that the job will run on</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n\n    <span class=\"token comment\"># Steps represent a sequence of tasks that will be executed as part of the job</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> âœ¨ Send email<span class=\"token punctuation\">,</span> you star\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> dawidd6/action<span class=\"token punctuation\">-</span>send<span class=\"token punctuation\">-</span>mail@v1.3.0\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">server_address</span><span class=\"token punctuation\">:</span> smtp.gmail.com\n          <span class=\"token key atrule\">server_port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">465</span>\n          <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> quadmx08\n          <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GMAIL_PASS <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">subject</span><span class=\"token punctuation\">:</span> Your a star âœ¨\n          <span class=\"token key atrule\">body</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.actor <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> just starred your mail<span class=\"token punctuation\">-</span>on<span class=\"token punctuation\">-</span>star repo<span class=\"token tag\">!</span><span class=\"token tag\">!</span><span class=\"token tag\">!</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.repository <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">to</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GMAIL_ADDRESS <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">from</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GMAIL_ADDRESS <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>","fields":{"slug":"/send-email-with-github-actions/"},"frontmatter":{"tags":["actions"],"title":"Send Emails with GitHub Actions","description":"One useful action that you can utilize no matter what content your repo has is sending email.","templateKey":"blog-post","status":"published","date":"2020-03-31T03:39:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1ElEQVQY0zWO3WvTUADF8ySIDyo61qSNbXrT3Hw2t0mTe/N123VxX7S1EVlRYqmbm252inNYmZsFXXFsIkNhig/6sAdffd5fZycIP87bOefHbA/o90O63A37abixRguaxyteQfPzuh+3UlxrT1JCDb0aSwaGlVBFgWJFmhWpFmV6vfDkPR29ru29ina3ayx083qQUwhA9MPRl/Gn068/zsbHp8939gUVQxRKKIT/YQST3AD4Usa9nMNXeJeVyU2AWehfF0jJjg2yAK1GNWppdp0VTUF1S2W/ZAaSGU4smI+7UX8lmO8Ezba3uU7VKolinzbI+O0swvZcsjJ8dzTX6S0/XL97f9WJFgW1OvG/KE+eB4PobC88P45+ntR3tkI8U//9bfHzQfLn171HKa63em9Gh+nq5tMXw5fD0UK7mzfj0kwflrGMAuaaaA3Xtp51H18VXXw7ceOENlMSd2R3nlW8LHQygsGJFQ6YnIgKsiU6S6BzABpPCvYSkwXmFLSnFSenYWDVaLMbJw90L4aVIFuybklWUcOChosaEQ0P6J6o4+LshnxnH5AOkyma3D9YgKaEsubUgeFPC2UOoKxY4SU7L1cvUJyC6k6GgIazMuHVgIfOXwiFdqvWjk6/AAAAAElFTkSuQmCC","width":500,"height":210,"src":"/static/c41b1da32d974de39c44fcece9af8959/46604/send-email-with-github-actions-xmas2020.png","srcSet":"/static/c41b1da32d974de39c44fcece9af8959/46604/send-email-with-github-actions-xmas2020.png 1x,\n/static/c41b1da32d974de39c44fcece9af8959/d8815/send-email-with-github-actions-xmas2020.png 1.5x,\n/static/c41b1da32d974de39c44fcece9af8959/31987/send-email-with-github-actions-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAACC0lEQVQozxXN62vTUBgG8H4SBEGEra5LL0manDQnaZM0l5PLSbqkLm23bpQ1rV0HVealXpirqDBLN5hTViwI6kRRh8gQhn4U/DP8m4zw8vB8+T1vYrjt9SKLlB2omNUa5iQzzdsktGjBIiXMFj0q7tAlOJOBTkFCQMGiZPMqFhU3cfCscv6+8ui+9+She7RXKSFnAZg5ERNAV7y1aOve0kq/3hpw6rKoBWzR5BQMFcyXXRjju7e8V2Pv5biy/9SNh1gZpTgrK1hJRlte3zo9+zV79yXOT6c/bg5HaaByMmYlHCcX40VoXqbRhZRxMY0uZY2rwFwAiODtJGMmAea1al4OgLJUxqsFxSVYhRYQU7LZkgMkJzGduJ0e1n1Htsx2hB3fzMsWp6BG076zXblCqsPd59Fg51pzs7bea7T6JRTQgsGKBhvj2WHl875+doj+fA++vsZ+3TmeBD8/ht/eRn9/1wVVfTyeTt98eDDaOziaTV5MW90bOcEBThdIdmJR0k5GOye3h6Si4dqqEaxVW9c3NjveSlv3/GwJEwVEQT1X0LIFjRJQ/JNRw3x7xrr9RJKUeKfB48Y8MHgztOpR2B4YYadohQS0CKBlQZnk9fgoaFAQ0YKZF/R8uMtsHCdStDSXgfM5cRGoc1QJGr7f7GR4PQPKBCOnWSX9H2tkIfYxNmLMiAZZrlNW9x/cYIfW5pTeZwAAAABJRU5ErkJggg==","width":200,"height":85,"src":"/static/c41b1da32d974de39c44fcece9af8959/71e30/send-email-with-github-actions-xmas2020.png","srcSet":"/static/c41b1da32d974de39c44fcece9af8959/71e30/send-email-with-github-actions-xmas2020.png 1x,\n/static/c41b1da32d974de39c44fcece9af8959/24123/send-email-with-github-actions-xmas2020.png 1.5x,\n/static/c41b1da32d974de39c44fcece9af8959/492a0/send-email-with-github-actions-xmas2020.png 2x"}}}}}},{"node":{"id":"606ec4f4-6e63-50f7-a83d-117ae540fa4c","html":"<style>\nh2 img { width: 100%; box-shadow: .5rem .5rem 3rem #141F2D, -.5rem -.5rem 3rem rgba(255,255,255,.1);}\nimg{ max-width: 100% !important;}\n</style>\n<p>Github actions are written in configuration files using the YAML syntax.  YAML is a superset of JSON.  Most YAML can be expressed inline with JSON syntax.  Similar to python YAML is whitespace driven by whitespace rather than brackets tags.  The argument for using YAML for configuration files such as actions is that it is more human-readable and editable.  It's much easier to see the whitespace layout than it is to get closing brackets correct.  For actions, I believe this is mostly true.  I don't see any use case to get past 3-5 indents, which is completely manageable.</p>\n<blockquote>\n<p>Can I just say that I learned more than I realized about YAML by writing this article</p>\n</blockquote>\n<h2><img src=\"https://waylonwalker.com/gh-actions-syntax-headers/1.png\" alt=\"Arrays and Objects\"></h2>\n<p>In YAML or JSON, the most basic containers for data are <strong>arrays</strong>, a 1D list of things, and <strong>objects</strong>, for key-value pairs.</p>\n<h3><img src=\"https://waylonwalker.com/gh-actions-syntax-h3/1.png\" alt=\"Arrays\"></h3>\n<p>The start of an array container is signified with a leading <code class=\"language-text\">-</code>.  This is probably one of the big things I didn't understand about YAML before writing this post, but hats off to the GitHub actions editor as it took care of a lot of my misunderstanding for me.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> one\n<span class=\"token punctuation\">-</span> two\n<span class=\"token punctuation\">-</span> three</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>'one'<span class=\"token punctuation\">,</span> 'two'<span class=\"token punctuation\">,</span> 'three'<span class=\"token punctuation\">]</span></code></pre></div>\n<h3><img src=\"https://waylonwalker.com/gh-actions-syntax-h3/2.png\" alt=\"Objects\"></h3>\n<p>Objects are just <code class=\"language-text\">{key: &quot;value&quot;}</code> pairs without any <code class=\"language-text\">-</code> before them.  I find that objects make ðŸ’¯ sense to me.  Unlike arrays, they feel very intuitive.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> one\n<span class=\"token key atrule\">who</span><span class=\"token punctuation\">:</span> me</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>'name'<span class=\"token operator\">:</span> 'one'<span class=\"token punctuation\">,</span> 'who'<span class=\"token operator\">:</span> 'me'<span class=\"token punctuation\">}</span></code></pre></div>\n<h2><img src=\"https://waylonwalker.com/gh-actions-syntax-headers/2.png\" alt=\"Example Combining arrays and objects\"></h2>\n<p>Let's start writing something that looks a bit more like a GitHub action.  GitHub actions are built from an object containing name, on, jobs.  Where jobs is a list of jobs, that contain a list of steps.  Simple actions will only need a single job, but commonly a list of steps.</p>\n<h4><img src=\"https://waylonwalker.com/gh-actions-syntax-h3/4.png\" alt=\"Shortlist of GitHub action keys\"></h4>\n<p>These are the keys, with their parents, that I found most useful.  You can find a complete list on <a href=\"https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions\">workflow-syntax-for-github-actions</a>.</p>\n<ul>\n<li>name</li>\n<li>\n<p>on</p>\n<ul>\n<li>push</li>\n<li>pull_request</li>\n<li>schedule</li>\n<li>watch</li>\n</ul>\n</li>\n<li>env</li>\n<li>\n<p>jobs</p>\n<ul>\n<li>name</li>\n<li>needs</li>\n<li>env</li>\n<li>if</li>\n<li>steps</li>\n</ul>\n</li>\n</ul>\n<h3><img src=\"https://waylonwalker.com/gh-actions-syntax-h3/5.png\" alt=\"Combining arrays and objects\"></h3>\n<p>Here is a very small example that contains an object with one key, <code class=\"language-text\">jobs</code>.  That <code class=\"language-text\">jobs</code> object contains one job called <code class=\"language-text\">build</code> that contains a list of <code class=\"language-text\">steps</code>.  Notice the <code class=\"language-text\">-</code> before each step, and how each <code class=\"language-text\">step</code> repeats the same object keys.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n        <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> step<span class=\"token punctuation\">-</span>one\n          <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> checkout\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> step<span class=\"token punctuation\">-</span>two\n          <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> test\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> step<span class=\"token punctuation\">-</span>three\n          <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> package</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"jobs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"runs-on\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ubuntu-latest\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"steps\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"step-one\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"uses\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"checkout\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"step-two\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"uses\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"test\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"step-three\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"uses\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"package\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2><img src=\"https://waylonwalker.com/gh-actions-syntax-headers/3.png\" alt=\"Multiline Strings\"></h2>\n<p>Multiline strings are super important in GitHub actions.  You will likely use the <code class=\"language-text\">|</code> to preserve newlines for shell scripts most commonly but may also have some raw text fields that need to be concatenated without a newline character using the <code class=\"language-text\">&gt;</code> operator.</p>\n<ul>\n<li>| preserves newlines</li>\n<li>\n<blockquote>\n<p>folds newlines</p>\n</blockquote>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">preserved</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n    cd my-dir\n    ls\n    mv public ../</span>\n<span class=\"token key atrule\">folded</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">></span><span class=\"token scalar string\">\n    This is some long text\n    that I do not want on\n    one line, but it is\n    really a one-liner</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"preserved\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cd my-dir\\nls\\nmv public ../\\n\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"folded\"</span><span class=\"token operator\">:</span> \"This is some long text that I do not want on one line<span class=\"token punctuation\">,</span> but it is  really\n   a one-liner\"\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2><img src=\"https://waylonwalker.com/gh-actions-syntax-headers/4.png\" alt=\"Anchors are not supported\"></h2>\n<p>YAML has this amazing feature for reducing repetative content called anchors.  You can save part of your configuration as a reusable variable in other sections.  I see this being really cool if you had separate jobs that all needed similar steps.  Look for this improvement in the future, for now just be aware that it is part of the YAML syntax.</p>\n<p>See support ticket ðŸ‘‰ <a href=\"https://github.community/t5/GitHub-Actions/Support-for-YAML-anchors/m-p/30336\">Support-for-YAML-anchors</a></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">secrets</span><span class=\"token punctuation\">:</span> <span class=\"token important\">&amp;secrets</span>\n    <span class=\"token key atrule\">github-pat</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> gh<span class=\"token punctuation\">-</span>pat <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">gmail-pass</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> gmail<span class=\"token punctuation\">-</span>pass <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> step<span class=\"token punctuation\">-</span>one\n          <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> checkout\n          <span class=\"token key atrule\">&lt;&lt;</span><span class=\"token punctuation\">:</span> <span class=\"token important\">*secrets</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> step<span class=\"token punctuation\">-</span>two\n          <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> test\n          <span class=\"token key atrule\">&lt;&lt;</span><span class=\"token punctuation\">:</span> <span class=\"token important\">*secrets</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> step<span class=\"token punctuation\">-</span>three\n          <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> package\n          <span class=\"token key atrule\">&lt;&lt;</span><span class=\"token punctuation\">:</span> <span class=\"token important\">*secrets</span></code></pre></div>\n<p>Notice how the nice clean YAML syntax gets exploded with much more data in the JSON format.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"secrets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"github-pat\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${{ gh-pat }}\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"gmail-pass\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${{ gmail-pass }}\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jobs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"github-pat\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${{ gh-pat }}\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"gmail-pass\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${{ gmail-pass }}\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"step-one\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"uses\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"checkout\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"github-pat\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${{ gh-pat }}\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"gmail-pass\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${{ gmail-pass }}\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"step-two\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"uses\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"test\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"github-pat\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${{ gh-pat }}\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"gmail-pass\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${{ gmail-pass }}\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"step-three\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"uses\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"package\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2><img src=\"https://waylonwalker.com/gh-actions-syntax-headers/5.png\" alt=\"Writing an Action\"></h2>\n<p>With a basic understanding of YAML you can probably go to your repo and click actions > new workflow > setup my own workflow right from the ui, and create your own.  Or read through the official syntax docs for deeper information <a href=\"https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions\">workflow-syntax-for-github-actions</a>. Let's finsh off with a really simple action, the default one from GitHub.</p>\n<h3><img src=\"https://waylonwalker.com/gh-actions-syntax-h3/6.png\" alt=\"Important first step\"></h3>\n<p>It is important to know that when running an action you will likely need access to your code in order to lint, test, build, package, whatever you want to do with it.  Your first step for any action requiring code from your repo is to <code class=\"language-text\">checkout</code> your repo.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"> <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n <span class=\"token comment\"># Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span>\n <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v</code></pre></div>\n<h3><img src=\"https://waylonwalker.com/gh-actions-syntax-h3/7.png\" alt=\"Default example\"></h3>\n<p>This example runs a workflow called <code class=\"language-text\">CI</code> on ubuntu on every push or PR to the main branch.  Within the build job it does a checkout of the repo, then runs two shell steps.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># This is a basic workflow to help you get started with Actions</span>\n\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> CI\n\n<span class=\"token comment\"># Controls when the action will run. Triggers the workflow on push or pull request</span>\n<span class=\"token comment\"># events but only for the main branch</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> main <span class=\"token punctuation\">]</span>\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> main <span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># A workflow run is made up of one or more jobs that can run sequentially or in parallel</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># This workflow contains a single job called \"build\"</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># The type of runner that the job will run on</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n\n    <span class=\"token comment\"># Steps represent a sequence of tasks that will be executed as part of the job</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n\n    <span class=\"token comment\"># Runs a single command using the runners shell</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run a one<span class=\"token punctuation\">-</span>line script\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> echo Hello<span class=\"token punctuation\">,</span> world<span class=\"token tag\">!</span>\n\n    <span class=\"token comment\"># Runs a set of commands using the runners shell</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run a multi<span class=\"token punctuation\">-</span>line script\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        echo Add other actions to build,\n        echo test, and deploy your project.</span></code></pre></div>","fields":{"slug":"/github-actions-syntax/"},"frontmatter":{"tags":["actions"],"title":"GitHub Actions Syntax","description":"GitHub actions use YAML to configure your workflows.  What gets ran, When it runs, What it runs on.  Let's discuss YAML and the structure needed for GitHub actions.","templateKey":"blog-post","status":"published","date":"2020-03-16T05:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVQY02PQMHeNTMo1cQqITs5XMbRXM3ISVzFV0LaS1bKQ1bRW0LJS0rVT1HVQ0bVV1TNTNbDS1LfSMLJR17dWN7BhMLT3Wbhi/eRZC9dv2Tl38ar2/hlSmpZCCubCipZyOpZy2jaKeraKurbSambSauYyahZymlYyalbKulYqetYM4hpmutaectpWUtpWWhaumhZu7GK6wTE2sSmOnJLmIkqWkqo2wgpW7n7W3oE2Fg5WZvbW8SmOmsZWSjpWDFJaFozi6oHJednFteauwa5BMQZ2YZ29YQcPeManO+aWOPX0u02f6TFrtuv5Mz5Hj/jMn+d67JCHog7IcgYRTXNteZ3usrqFazblltZ3TJjeO3XBhOmtly/67NztNWuux5PH/rNmu9TUOc5b4L5kiUvnlOC4slQNfTNlHUsGHiXDitScgsgkQVVTYSUjERVDFjH9lGzbo0e8Ld3tiqucJ01xVtUz1TQyU9IxF1cwktZ1l3RvUnBMkzHwZBCT1+VXMhRUMxFTMxFXNwUGgYSGmYC8MaeYvrC8oYu3qZaxmaiCsYy6iZwGUL+ZkrapknOGqm+Ngqkfg4i8rhgYiSjoiSrqQ0hRRV1JZT1JZX0BaQNJZSM5dWNZdRNZkH5TeU1TCVUzSQ0rSVVjAK12f1YkVypCAAAAAElFTkSuQmCC","width":500,"height":210,"src":"/static/e969861fd210f04acbf48883e59e5794/46604/github-actions-syntax-xmas2020.png","srcSet":"/static/e969861fd210f04acbf48883e59e5794/46604/github-actions-syntax-xmas2020.png 1x,\n/static/e969861fd210f04acbf48883e59e5794/d8815/github-actions-syntax-xmas2020.png 1.5x,\n/static/e969861fd210f04acbf48883e59e5794/31987/github-actions-syntax-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJElEQVQozx2RS2sTUQCFZysqNUnTpGnmPZnMu5lkbmbuvZNMmk6aJqlBawW7kIrVhUVFER+bioL2EagVF21BW2o3WgQpggptBEuLheIPMCAuFBf+C0fhcDibj7P4CEpz+x2/Ow04ze1mM6GkHhfzlOTQipNUESNjTse85rF6UVBdQQNcP5I1KGaQbGBCcap3pmfy/ujFqduZQl2Hw0nJ6ZMgrdhJFZPB0IqcVmCNsmBgQXcEA6UNnDZdsR8TuYFme/fL7OLym633H3Y+v/v4CQyeDtHmcRIm0japurSKGd1jVBTnQSJlk6LDKLBXgKyKiFg6z+fKwUmEz6WBLzvVeMphDPvm3TKlwi7SDjM4yuEwBUfO4EIF5YtQseD4hJdzMRGXnaOUjkbOTV67RxtFXBtLKEWvXvneaT6aG6yOls5fKs0vVO8/9F9tVre363u7jdn58o9vtX9wTLbDPcKNqVvtvYPW05UnS2svNjZfvn4705r49bO2tj789fBkp9N8vuovLPrtnfrhQWN1Y2Ru5UIWIeIIZz6+fPXZ5JUUHOLMEqUhyhgAA6U/v8f29xtmyVvfGF5a9kHRcX1oIihlgAwrvY0Wh8eJCK1LqBqQJ9hMRMh2iyDCZyNioCQXS1kKANMPPMEAYTLby1sJwUqKgExZXOU6d2qGiNJ6V0IKJZUe3owGEf43FwjXYqwRpY1jMaMvlaOkIICSAS3nGdkiM0OUffYv6DCQ+z+JG98AAAAASUVORK5CYII=","width":200,"height":85,"src":"/static/e969861fd210f04acbf48883e59e5794/71e30/github-actions-syntax-xmas2020.png","srcSet":"/static/e969861fd210f04acbf48883e59e5794/71e30/github-actions-syntax-xmas2020.png 1x,\n/static/e969861fd210f04acbf48883e59e5794/24123/github-actions-syntax-xmas2020.png 1.5x,\n/static/e969861fd210f04acbf48883e59e5794/492a0/github-actions-syntax-xmas2020.png 2x"}}}}}},{"node":{"id":"406675e8-fe87-557e-a233-f8e31feb9cde","html":"<style>\nh2 img { width: 100%; box-shadow: .5rem .5rem 3rem #141F2D, -.5rem -.5rem 3rem rgba(255,255,255,.1);}\nimg{ max-width: 100% !important;}\n</style>\n<p>I have been diving deep into Github actions for about a month now and they are wicked good!  They allow you to run any sort of arbitrary code based on events in your repo, webhooks, or schedules.  They are very reasonably priced.  The interface that GitHub hs developed for them is top-notch!  It's so good I have done 90% of my editing of them right from github.com.</p>\n<h2>TLDR</h2>\n<blockquote>\n<p>some interaction to your repository <strong>triggers</strong> code to run.</p>\n</blockquote>\n<h2><img src=\"https://waylonwalker.com/gh-actions-header-online-editor.png\" alt=\"Online Editor\"></h2>\n<p>The online editor for actions is pretty amazing.  When creating a new workflow it automatically sets up a new blank workflow or a workflow from the marketplace for you in your <code class=\"language-text\">.github/workflows</code> directory.  This is all it takes to get an action running, a <code class=\"language-text\">yaml</code> or <code class=\"language-text\">yml</code> file in the <code class=\"language-text\">.github/workflows</code> directory.</p>\n<p><img src=\"https://waylonwalker.com/gh-actions-editor.png\" alt=\"github actions online editor\" title=\"github actions online editor\"></p>\n<p>The editor does a great job of detecting syntax errors, misplaced keys.  It also does a great job at autocompletion.  As you type it will suggest keys that are accepted by the workflow syntax.  There is an embedded side pannel with docs and the marketplace to the right.</p>\n<h2><img src=\"https://waylonwalker.com/gh-actions-header-event-triggering.png\" alt=\"Event Triggering\"></h2>\n<p>see this article from GitHub for a full set of details: <a href=\"https://help.github.com/en/actions/reference/events-that-trigger-workflows\" title=\"https://help.github.com/en/actions/reference/events-that-trigger-workflows\">https://help.github.com/en/actions/reference/events-that-trigger-workflows</a></p>\n<p>You can trigger actions to run based on about any interaction with the repo that you can imagine, push, PR, webhooks, follows, create a branch, delete a branch, deployment, fork, wiki, issues, comments, labels, milestones, just check out the GitHub article for the full list.</p>\n<h3><img src=\"https://waylonwalker.com/gh-actions-header-push-pr.png\" alt=\"push/pr\"></h3>\n<p>The most common and default trigger you will come across is the <code class=\"language-text\">on push</code>.  This means that on every push/pull_request the given action will run.  This is typically at the start of the file and will trigger the workflow for the whole file.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Trigger the workflow on push or pull request</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>push<span class=\"token punctuation\">,</span> pull_request<span class=\"token punctuation\">]</span></code></pre></div>\n<p>You can also filter to only run on specific branches.  You probably only want to run your release workflow on the main branch, but want linting and testing on all branches.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n   <span class=\"token punctuation\">-</span> main\n<span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> main</code></pre></div>\n<h3><img src=\"https://waylonwalker.com/gh-actions-header-schedule.png\" alt=\"schedule\"></h3>\n<p>It is also possible to set up your workflows to run on a schedule.  I have set a few of these up myself to do things such as updating/auditing npm dependencies and checking if the site is up.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># * is a special character in YAML so you have to quote this string</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span>  <span class=\"token string\">'*/15 * * * *'</span></code></pre></div>\n<h3><img src=\"https://waylonwalker.com/gh-actions-header-watch.png\" alt=\"watch\"></h3>\n<p>One issue that I have with GitHub actions is that there really isn't a good way to manually run workflows.  A workaround I found is that you can run a workflow when the repo is starred.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">watch</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> started <span class=\"token punctuation\">]</span></code></pre></div>\n<p>If you have a public repo with some traction, you might want to avoid this hack, but if you did want to use it on a repo that may potentially get some stars randomly make sure that you filter to only your stars.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">watch</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">types</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> started <span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">run-on-star</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> âœ¨ you starred your own repo\n        <span class=\"token key atrule\">if</span><span class=\"token punctuation\">:</span> github.actor == 'WaylonWalker'</code></pre></div>\n<h2><img src=\"https://waylonwalker.com/gh-actions-header-free.png\" alt=\"Free for public repositories\"></h2>\n<p>GitHub offers quite a generous free tier to get you started.</p>\n<p><img src=\"https://waylonwalker.com/gh-actions-free-tier.png\" alt=\"gh-actions-free-tier\" title=\"github actions free tier\"></p>\n<p>I think that GitHub's pricing just shows its commitment to the open-source.  Any public repo has unlimited build minutes!  I believe this goes for not only Linux actions, but  the more expensive windows and mac actions as well.</p>\n<p><img src=\"https://waylonwalker.com/gh-actions-free--for-public.png\" alt=\"github actions free for public repos\" title=\"GitHub actions free for public repos\"></p>\n<h2><img src=\"https://waylonwalker.com/gh-actions-header-secrets.png\" alt=\"Secrets\"></h2>\n<p>You will find that a lot of actions need things such as a GitHub personal access token.  You may even be hitting a third party API such as twitter or Gmail that require an API key.  These are things that need to be kept secret <strong>DO NOT</strong> put these as raw text inside your action.  The first tutorial I followed to deploy to GitHub pages did this ðŸ¤¦â€â™‚ï¸ and I followed.</p>\n<p><img src=\"https://waylonwalker.com/gh-actions-built-in-secret-store.png\" alt=\"github built-in secret store\" title=\"GitHub built-in secret store\"></p>\n<p>GitHub offers a wonderful secrets manager.  From your repository go to settings > secrets.  You can just add settings/secrets to the URL of your repo to get there as well.  From there add a new secret.  Now your secret is accessible by secret key using <code class=\"language-text\">${{ secrets.&lt;your-key&gt; }}</code> from anywhere in your workflows <code class=\"language-text\">yml</code> file.</p>\n<p>GitHub has done an amazing job at hiding these secrets.  Anywhere that I have seen try to echo these secrets out into the console or anywhere just shows ***.  I am not sure if you can 100% rely on this, but they appear to have done a good job with it.</p>\n<h2><img src=\"https://waylonwalker.com/gh-actions-header-live-logs.png\" alt=\"Live Logs\"></h2>\n<p>One great feature of actions is the live logs.  As you are developing them it is likely that you are anxiously watching them with anticipation.  Watching those logs go, and turn green is a great experience.</p>\n<p><img src=\"https://waylonwalker.com/gh-actions-live-logs.png\" alt=\"github actions live logs\" title=\"github actions live logs\"></p>\n<h2><img src=\"https://waylonwalker.com/gh-actions-header-marketplace.png\" alt=\"Marketplace\"></h2>\n<p>As with all things open source, much of the power of actions comes through the community and in actions case the marketplace.  Reusable actions can be deployed to the github marketplace.  Here they can be found from search, starred, and example workflows can be copied in one click.</p>\n<p><img src=\"https://waylonwalker.com/gh-actions-marketplace.png\" alt=\"github actions marketplace\" title=\"github actions marketplace\"></p>\n<p>I find that many times while I can write all of the code necessary in a shell script to do most of what I need, there is already an action in the marketplace that takes care of everything for me.  In fact there are usually several to choose from.</p>\n<h1>#Discuss</h1>\n<ul>\n<li>What Actions are you excited about?</li>\n<li>Are you using actions today?</li>\n<li>What struggles have you encountered with actions?</li>\n<li>Do you like these silly image headers I used? Do they kill A11y? I attempted to use good alt text to counter.</li>\n</ul>","fields":{"slug":"/what-are-github-actions/"},"frontmatter":{"tags":["actions"],"title":"What Are GitHub Actions","description":"GitHub actions are an amazing tool that allows us to run code based on triggers inside of our repo.  Their is a large and growing community of actions inside the marketplace to use with very little effort.  Best of all they are free for public repositories, and private repos have a very generous free tier.","templateKey":"blog-post","status":"published","date":"2020-03-16T05:00:00.000Z","cover":{"med_img":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABwUlEQVQY0y2Q30/TUBiGe4+ZbLhuY+t62tP29PSctmvX019rYSQap0JRA4YAmpFAImbeiFMSEQ2gFwI3ZuHCeGXijVf+iZ4mJk++uyfv+37CIo5UvKTZq12Uda0c4ruytaxaqURiQHOVpNBZVmgOSQ4pg25i0kTvDcySTGigwKQF8yfUfqaRB547Js4msDLJSgDJVZqppTyE3KchdFPkpIabIXeAuCwi1jaXdLquWUUbDaH1SMGjOmQ14FeBV1OClpHIJJdxBEiscuxUcwaaU16eHDURq+vegu41jGBOIqON3bNv3/cO3369vnmyezh6Om7pEbBKFA6JFZqqNCnlphlVDVZFUcMIm2Z8W+4NV7e/XN9Mpp9mP379/vN3enopmbFC/vsAMxUzaKccoYZYYAYx6tdQJOqBiMIF6Fe6zqKVVCRnru1UOs4dibQ0r2yOmeLfV/MXkDDdSYRbqvd+f3L0fL8C/QZiosFaPB+4Z1ezq9nP8at3xx8vXh+d3Fvb6hiBggPgj5TiHKwcdHoPBVG256E3r/f52+sGT+b7+3z8xs7B6cXl46296YfzN8ef1zbHEgpkHAIcyisv9eIEsOIfZIpn8wLcPH8AAAAASUVORK5CYII=","width":500,"height":210,"src":"/static/6db73b609cb5eff1d307eacc193950a4/46604/what-are-github-actions-xmas2020.png","srcSet":"/static/6db73b609cb5eff1d307eacc193950a4/46604/what-are-github-actions-xmas2020.png 1x,\n/static/6db73b609cb5eff1d307eacc193950a4/d8815/what-are-github-actions-xmas2020.png 1.5x,\n/static/6db73b609cb5eff1d307eacc193950a4/31987/what-are-github-actions-xmas2020.png 2x"}},"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7UlEQVQozy2Q3WvTUBjGeyuCH2uT0C5pcs7pSc5JzknznTTpx9jaFXWz23BiQcccrCBY9EoQQRScDApTKFNkil7ojbCbIeKN/5vJJjy8V+/veZ/3KdVIjGlfb24i0lfNjk5vQmtVo6lqJgrLgNmGPEO8B3i3YbUbLITNlLKW7qTUzkqSEVC2EftP3eYettac5m7g7AOzv2iEstWpk5bGe5B3gL2MWIZYjOxU55nuZHoBk6hKUsxuI/OWQlbqZKVhjVRzaQH6Zc0VcSw1Qpl2VDNTaaSZMbASyFPE0wY/hyUjqmC3jD0B+wvIWzTD568Px3vTlwdHdx9OB6Mdt71WM5ILuJAVA9aCrFXAIokEmkh67hJXkC9b2Wx+cvz5+/zTt49ffvz68/fB5JkEPXBOqsWMAPULWMh/UznUeMWIRRyIeQrkKbxdNSIBh1U9VFivlvsCWzYC7YK0uyC5g1hSugTdN/uPj3Ynl6GbpxBwIBnJNdX2lkbvPnz1lze37j8ajsaD9XvU79VJpNFAcwdgawazcamscpIOjXRY0QNRLy7nFVwBTvfG9unZ74PZ/MWrw5+nZ++PT3YmT/L7RXISaP0p3HhbElR+tUauy6YAHQG5/wWdSp3VsJevihpXjCBX3rNCgqI2GijOaj3e/geKEHN+43lw6AAAAABJRU5ErkJggg==","width":200,"height":85,"src":"/static/6db73b609cb5eff1d307eacc193950a4/71e30/what-are-github-actions-xmas2020.png","srcSet":"/static/6db73b609cb5eff1d307eacc193950a4/71e30/what-are-github-actions-xmas2020.png 1x,\n/static/6db73b609cb5eff1d307eacc193950a4/24123/what-are-github-actions-xmas2020.png 1.5x,\n/static/6db73b609cb5eff1d307eacc193950a4/492a0/what-are-github-actions-xmas2020.png 2x"}}}}}}]}},"staticQueryHashes":["2992646504"]}