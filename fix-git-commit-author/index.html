<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /> -->
  <meta content="width=device-width" name="viewport"/>
  <link href="/8bitcc_48x.png" rel="icon" type="image/png"/>
  <meta content="$ilp.uphold.com/MGN2ni2YMXaQ" name="monetization" property="monetization"/>
  <link href="/furo-purge.css" rel="stylesheet"/>
  <link href="/monokai.css" rel="stylesheet"/>
  <link href="/archive-styles.css" rel="stylesheet"/>
  <title>
   Fix git commit author
  </title>
  <meta content="article" name="og:type" property="og:type"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="I was 20 commits into a hackoberfest PR when I suddenly realized they they all had my work email on them instead of my personal email ðŸ˜±." name="description" property="description"/>
  <meta content="I was 20 commits into a hackoberfest PR when I suddenly realized they they all had my work email on them instead of my personal email ðŸ˜±." name="og:description" property="og:description"/>
  <meta content="I was 20 commits into a hackoberfest PR when I suddenly realized they they all had my work email on them instead of my personal email ðŸ˜±." name="twitter:description" property="twitter:description"/>
  <meta content="Fix git commit author" name="og:title" property="og:title"/>
  <meta content="Fix git commit author" name="twitter:title" property="twitter:title"/>
  <meta content="Fix git commit author" name="title" property="title"/>
  <link href="/manifest.json" rel="manifest"/>
 </head>
 <body>
  <nav>
   <ul>
    <li>
     <a href="https://waylonwalker.com">
      Home
     </a>
    </li>
    <li>
     <a href="https://waylonwalker.com/archive">
      Archive
     </a>
    </li>
    <li>
     <a aria-label="RSS" href="https://waylonwalker.com/rss">
      <svg class="icon" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
       <path d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64" fill="currentColor">
       </path>
      </svg>
     </a>
    </li>
   </ul>
  </nav>
  <article class="blog-post h-entry">
   <p>
    I was 20 commits into a hackoberfest PR when I suddenly realized they they all had my work email on them instead of my personal email ðŸ˜±.  This is the story of how I corrected my email address on 19 individual commits after already submitting for a PR.
   </p>
   <ol>
    <li>
     <a href="#change-the-email-for-this-repo">
      Change the email for this repo
     </a>
    </li>
    <li>
     <a href="#prepare-for-rebasing">
      Prepare for rebasing
     </a>
    </li>
    <li>
     <a href="#start-the-rebase">
      start the rebase
     </a>
    </li>
    <li>
     <a href="#fix-first-wrong-commit">
      ðŸ›  Fix First wrong Commit
     </a>
    </li>
    <li>
     <a href="#fix-all-commits">
      Fix all commits
     </a>
    </li>
    <li>
     <a href="#done">
      Done
     </a>
    </li>
    <li>
     <a href="#recap">
      ReCap
     </a>
    </li>
   </ol>
   <h2>
    Change the email for this repo
   </h2>
   <p>
    <em>
     stop the bleeding
    </em>
   </p>
   <p>
    Before anything else set the email correctly!
   </p>
   <pre class="highlight"><code class="language-bash">cd kedro
git config user.name "Waylon Walker"
git config user.email quadmx08@gmail.com</code></pre>
   <h2>
    Prepare for rebasing
   </h2>
   <p>
    First thing is to find how many commits back this mistake goes.  I opened up the git log, and saw mine went back 19 commits.  I rolled back 20 just to be sure.
   </p>
   <pre class="highlight"><code class="language-bash">$ git log
...
commit a355926b9d7ec4c05659adaa254beefbdb036332
Author: WaylonWalker &lt;email@work.com&gt;
Date:   Sat Oct 17 10:28:59 2020 -0500

    give name of function inside incorrect parameters error

commit 1756f5d121bd06c459560b2e982e0d7b6879e9ca
Author: Kiyohito Kunii (Kiyo) &lt;8097799+921kiyo@users.noreply.github.com&gt;
Date:   Fri Oct 2 15:33:09 2020 +0100

    Fix docs reference for registering `pipelines`</code></pre>
   <h2>
    start the rebase
   </h2>
   <p>
    Now I start the rebase 20 commits back from HEAD.  THis will pop you into a text file with a list of commits, for this change simply replace all
    <code>
     pick
    </code>
    with
    <code>
     edit
    </code>
    .
   </p>
   <pre class="highlight"><code class="language-bash">git rebase -i HEAD~20</code></pre>
   <h2>
    Note for the first commit
   </h2>
   <p>
    If you want to rebase back to the start of the repo use the
    <code>
     --root
    </code>
    flag.
   </p>
   <pre class="highlight"><code class="language-bash">git rebase -i --root</code></pre>
   <p>
    Run git log to see where we ended up.
   </p>
   <pre class="highlight"><code class="language-bash">$ git log
commit 1756f5d121bd06c459560b2e982e0d7b6879e9ca
Author: Kiyohito Kunii (Kiyo) &lt;8097799+921kiyo@users.noreply.github.com&gt;
Date:   Fri Oct 2 15:33:09 2020 +0100

    Fix docs reference for registering `pipelines`</code></pre>
   <p>
    As expected we ended up on Kiyo's commit. So we can simply move forward without any edits.
   </p>
   <pre class="highlight"><code class="language-bash">$ git rebase --continue
Stopped at e162ca7...  correct function name in tests
You can amend the commit now, with

  git commit --amend

Once you are satisfied with your changes, run

  git rebase --continue</code></pre>
   <h2>
    ðŸ›  Fix First wrong Commit
   </h2>
   <p>
    Checking the log again I an now on my first commit with a mistake.
   </p>
   <pre class="highlight"><code class="language-bash">$ git log
commit 95c209a740d6d0340e19a8fc36298cbf874f8bf7 (HEAD)
Author: WaylonWalker &lt;email@work.com&gt;
Date:   Sat Oct 3 11:59:44 2020 -0500

    correct function name in tests

commit cde2e8baa3c1c4a9f1da4135258381466b1da40a
Author: Waylon Walker &lt;quadmx08@gmail.com&gt;
Date:   Sat Oct 17 10:30:07 2020 -0500

    update tests

commit a355926b9d7ec4c05659adaa254beefbdb036332
Author: Waylon Walker &lt;quadmx08@gmail.com&gt;
Date:   Sat Oct 17 10:28:59 2020 -0500

    give name of function inside incorrect parameters error

commit 1756f5d121bd06c459560b2e982e0d7b6879e9ca
Author: Kiyohito Kunii (Kiyo) &lt;8097799+921kiyo@users.noreply.github.com&gt;
Date:   Fri Oct 2 15:33:09 2020 +0100

    Fix docs reference for registering `pipelines`</code></pre>
   <p>
    Running the following command will reset the author on the current commit.
   </p>
   <pre class="highlight"><code class="language-bash">git commit --amend --reset-author</code></pre>
   <p>
    Double check with a quick
    <code>
     git log
    </code>
    that the author was fixed.
   </p>
   <pre class="highlight"><code class="language-bash">commit ccaaa56059ee4554731fa83297ca9e8e387a7592 (HEAD)
Author: Waylon Walker &lt;quadmx08@gmail.com&gt;
Date:   Sat Oct 17 10:35:40 2020 -0500

    correct function name in tests

commit cde2e8baa3c1c4a9f1da4135258381466b1da40a
Author: Waylon Walker &lt;quadmx08@gmail.com&gt;
Date:   Sat Oct 17 10:30:07 2020 -0500

    update tests

commit a355926b9d7ec4c05659adaa254beefbdb036332
Author: Waylon Walker &lt;quadmx08@gmail.com&gt;
Date:   Sat Oct 17 10:28:59 2020 -0500

    give name of function inside incorrect parameters error

commit 1756f5d121bd06c459560b2e982e0d7b6879e9ca
Author: Kiyohito Kunii (Kiyo) &lt;8097799+921kiyo@users.noreply.github.com&gt;
Date:   Fri Oct 2 15:33:09 2020 +0100

    Fix docs reference for registering `pipelines`</code></pre>
   <h2>
    Fix all commits
   </h2>
   <p>
    Now to do this for 18 other commits.  I found that chaining the three commands into a bash one-liner was quite helpful.  I turned off pre-commit hooks with
    <code>
     --no-verify
    </code>
    .  I also turned off the
    <code>
     log
    </code>
    pager by adding
    <code>
     --no-pager
    </code>
    .
   </p>
   <pre class="highlight"><code class="language-bash">git rebase --continue &amp;&amp; \
git commit --amend --reset-author --no-edit --no-verify &amp;&amp; \
git --no-pager log -n 3</code></pre>
   <h2>
    Done
   </h2>
   <p>
    This was quick and easy for 19 commits.  I have tried to loop through changes like this in the past, and it does get a bit hairy.  I find its easier to just setup a one-liner and crank through them one by one.
   </p>
   <h2>
    A note on changing history...
   </h2>
   <p>
    Since this was done in a rebase it has changed the history of the repo.  This is ok to do only when you are the only person or are in close communication with everyone using the repo.  One thing I have ran into is that if you do this after you submit a PR, but before its completed it duplicates your commits in a merge.  For this particular change I simply closed the first PR and opened a second.  If someone has a better suggestion, I would be glad to know a better way.
   </p>
   <h2>
    ReCap
   </h2>
   <pre class="highlight"><code class="language-bash">cd kedro
git config user.name "Waylon Walker"
git config user.email quadmx08@gmail.com
git log
git rebase -i HEAD~20
git log
git rebase --continue
git log
git rebase --continue &amp;&amp; git commit --amend --reset-author --no-edit --no-verify &amp;&amp; git --no-pager log -n 3</code></pre>
   <div id="show">
   </div>
  </article>
 </body>
 <script>
  if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
      // Registration was successful
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
      // registration failed :(
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}
 </script>
</html>