<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /> -->
  <meta content="width=device-width" name="viewport"/>
  <link href="/8bitcc_48x.png" rel="icon" type="image/png"/>
  <meta content="$ilp.uphold.com/MGN2ni2YMXaQ" name="monetization" property="monetization"/>
  <link href="/furo-purge.css" rel="stylesheet"/>
  <link href="/monokai.css" rel="stylesheet"/>
  <link href="/archive-styles.css" rel="stylesheet"/>
  <title>
   üêç Parsing RSS feeds with Python
  </title>
  <meta content="article" name="og:type" property="og:type"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="I am looking into a way to replace my google reader experience that I had back in 2013 before google took it from us. I am starting by learning how to parse feeds with python, and without much previous knowledge it proved to be much easier than anticipated thanks to the `feedparser` library." name="description" property="description"/>
  <meta content="I am looking into a way to replace my google reader experience that I had back in 2013 before google took it from us. I am starting by learning how to parse feeds with python, and without much previous knowledge it proved to be much easier than anticipated thanks to the `feedparser` library." name="og:description" property="og:description"/>
  <meta content="I am looking into a way to replace my google reader experience that I had back in 2013 before google took it from us. I am starting by learning how to parse feeds with python, and without much previous knowledge it proved to be much easier than anticipated thanks to the `feedparser` library." name="twitter:description" property="twitter:description"/>
  <meta content="üêç Parsing RSS feeds with Python" name="og:title" property="og:title"/>
  <meta content="üêç Parsing RSS feeds with Python" name="twitter:title" property="twitter:title"/>
  <meta content="üêç Parsing RSS feeds with Python" name="title" property="title"/>
  <link href="/manifest.json" rel="manifest"/>
 </head>
 <body>
  <nav>
   <ul>
    <li>
     <a href="https://waylonwalker.com">
      Home
     </a>
    </li>
    <li>
     <a href="https://waylonwalker.com/archive">
      Archive
     </a>
    </li>
    <li>
     <a aria-label="RSS" href="https://waylonwalker.com/rss">
      <svg class="icon" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
       <path d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64" fill="currentColor">
       </path>
      </svg>
     </a>
    </li>
   </ul>
  </nav>
  <article class="blog-post h-entry">
   <p>
    I am looking into a way to replace my google reader experience that I had back in 2013 before google took it from us.  I am starting by learning how to parse feeds with python, and without much previous knowledge, it proved to be much easier than anticipated thanks to the
    <code>
     feedparser
    </code>
    library.
   </p>
   <h2>
    Install
   </h2>
   <p>
    Install the feedparser library.
   </p>
   <pre class="highlight"><code class="language-bash">conda create -n reader python=3.8 -y
source activate reader
pip install feedparser</code></pre>
   <h2>
    Get the content
   </h2>
   <pre class="highlight"><code class="language-python">import feedparser
feed = feedparser.parse('https://waylonwalker.com/rss.xml')</code></pre>
   <h2>
    The feed object
   </h2>
   <p>
    The feed is a feedparser.FeedParserDict.  For all intents and purposes this seems to just behave like a dict with the following
    <code>
     keys()
    </code>
    .
   </p>
   <pre class="highlight"><code class="language-python">feed.keys()
['feed', 'entries', 'bozo', 'headers', 'etag', 'href', 'status', 'encoding', 'version', 'namespaces', 'content'])</code></pre>
   <p>
    <strong>
     feed
    </strong>
    has some general information about the rss feed, but the meat of the feed is in
    <strong>
     entries
    </strong>
    .  The rest of the keys weren't all that useful for me at the moment.
   </p>
   <h2>
    pulling multiple feeds
   </h2>
   <p>
    I grabbed a few popular RSS feeds that I was familiar with to get started.
   </p>
   <pre class="highlight"><code class="language-python">urls = ['https://waylonwalker.com/rss',
        'https://joelhooks.com/rss.xml',
        'https://swyx.io/rss.xml',
    ]
feeds = [feedparser.parse(url)['entries'] for url in urls]</code></pre>
   <p>
    I checked out the keys, all three had the following keys.  Mine also had the full post under
    <code>
     'content'
    </code>
    , this is because I added an extra
    <code>
     custom_element
    </code>
    for publishing to
    <code>
     dev.to
    </code>
    from an RSS feed.
   </p>
   <pre class="highlight"><code class="language-python">feeds[1][0].keys()
&gt;&gt;&gt; dict_keys(['title', 'title_detail', 'summary', 'summary_detail', 'links', 'link', 'id', 'guidislink', 'published'
, 'published_parsed'])</code></pre>
   <h2>
    NOTE: dev.to/feed
   </h2>
   <p>
    I also pulled the
    <a href="https://dev.to/feed">
     dev.to/feed
    </a>
    .  Since is it setup for more Authors it had a few extra keys.
   </p>
   <pre class="highlight"><code class="language-python">feedparser.parse('https://dev.to/feed')[0].keys()
&gt;&gt;&gt; dict_keys(['title', 'title_detail', 'authors', 'author', 'author_detail', 'published', 'published_parsed', 'links
', 'link', 'id', 'guidislink', 'summary', 'summary_detail', 'tags'])</code></pre>
   <h2>
    Combining Feeds
   </h2>
   <p>
    Now that I have a list of feeds, I can create a single feed sorted by date with a list comprehension.  Note I did need to pull in
    <code>
     dateutil.parser
    </code>
    to convert the date strings to datetime objects to be sorted.
   </p>
   <pre class="highlight"><code class="language-python">import dateutil.parser

feed = [item for feed in feeds for item in feed]
feed.sort(key=lambda x: dateutil.parser.parse(x['published']), reverse=True)</code></pre>
   <pre class="highlight"><code class="language-python">[ins] In [115]: [{'title': i['title'], 'date': i['published'], 'link': i['link']}  for i in feed[:10]]
&gt;&gt;&gt;
[{'title': 'üôã\u200d‚ôÇÔ∏è Can Anyone Explain Twitter Cards to me?',
  'date': 'Sat, 11 Jul 2020 03:00:00 GMT',
  'link': 'https://waylonwalker.com/explain-twitter-cards/'},
 {'title': 'How I Built My GitHub Profile',
  'date': 'Fri, 10 Jul 2020 03:00:00 GMT',
  'link': 'https://waylonwalker.com/my-github-profile/'},
 {'title': 'Lessons and Regrets from My $25000 Launch',
  'date': 'Fri, 03 Jul 2020 04:06:47 GMT',
  'link': 'https://swyx.io/writing/coding-career-launch'},
 {'title': 'SLIDES - understanding python *args and **kwargs',
  'date': 'Thu, 02 Jul 2020 05:00:00 GMT',
  'link': 'https://waylonwalker.com/python-args-kwargs-slides/'},
 {'title': 'Launching the Coding Career Handbook!',
  'date': 'Wed, 01 Jul 2020 13:08:37 GMT',
  'link': 'https://swyx.io/writing/launching-coding-career'},
 {'title': 'Gracefully adopt kedro, the catalog',
  'date': 'Mon, 29 Jun 2020 03:00:00 GMT',
  'link': 'https://waylonwalker.com/graceful-kedro-catalog/'},
 {'title': "ü§ì What's on your GitHub Profile",
  'date': 'Mon, 29 Jun 2020 03:00:00 GMT',
  'link': 'https://waylonwalker.com/whats-on-your-github-profile/'},
 {'title': "Versioned Docs in 30 Seconds with Amplify Console's Branch Subdomains",
  'date': 'Fri, 26 Jun 2020 16:34:09 GMT',
  'link': 'https://swyx.io/writing/amplify-console-branch-subdomains'},
 {'title': "What's New in React",
  'date': 'Wed, 24 Jun 2020 00:00:00 GMT',
  'link': 'https://swyx.io/speaking/react-whats-new'},
 {'title': 'Coding Careers - Vincit',
  'date': 'Wed, 24 Jun 2020 00:00:00 GMT',
  'link': 'https://swyx.io/speaking/coding-careers-vincit'}]</code></pre>
   <h2>
    Decentralized Feed
   </h2>
   <p>
    I think the idea of RSS is super cool, and the idea that I can potentially create my own custom platform-agnostic decentralized feed is pretty cool.  I would love to have a google reader like experience back.
   </p>
   <p>
    This post was super fun to explore.  I used an external library (
    <code>
     feedparser
    </code>
    ) to pull in the feeds, but other than that It was all vanilla python 3.8.  In DataScience we tend to get very
    <code>
     DataFrame
    </code>
    heavy and I miss working with vanilla datatypes sometimes.
   </p>
   <h2>
    Trying to step up your python game
   </h2>
   <p>
    While trying to step up your skills you will need lots of practice.  Its good to have several options to try out ideas quickly.  I often use repl.it, check out this post to see how I use it.
   </p>
   <p>
    <a href="https://waylonwalker.com/practice-python-online">
     https://waylonwalker.com/practice-python-online
    </a>
   </p>
   <blockquote>
    <p>
     Not a sponsor REPL.it is a great way to practice.
    </p>
   </blockquote>
   <div id="show">
   </div>
  </article>
 </body>
 <script>
  if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
      // Registration was successful
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
      // registration failed :(
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}
 </script>
</html>