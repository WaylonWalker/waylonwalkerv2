<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /> -->
  <meta content="width=device-width" name="viewport"/>
  <link href="/8bitcc_48x.png" rel="icon" type="image/png"/>
  <meta content="$ilp.uphold.com/MGN2ni2YMXaQ" name="monetization" property="monetization"/>
  <link href="/furo-purge.css" rel="stylesheet"/>
  <link href="/monokai.css" rel="stylesheet"/>
  <link href="/archive-styles.css" rel="stylesheet"/>
  <title>
   understanding python *args and **kwargs
  </title>
  <meta content="article" name="og:type" property="og:type"/>
  <meta content="Waylon Walker" name="og:author" property="og:author"/>
  <meta content="Waylon Walker" name="og:site_name" property="og:site_name"/>
  <meta content="Python `*args` and `**kwargs` are super useful tools, that when used properly can make you code much simpler and easier to maintain.  Large manual conversions from a dataset to function arguments can be packed and unpacked into lists or dictionaries. Beware though, this power **can** lead to some really unreadable/unusable code if done wrong." name="description" property="description"/>
  <meta content="Python `*args` and `**kwargs` are super useful tools, that when used properly can make you code much simpler and easier to maintain.  Large manual conversions from a dataset to function arguments can be packed and unpacked into lists or dictionaries. Beware though, this power **can** lead to some really unreadable/unusable code if done wrong." name="og:description" property="og:description"/>
  <meta content="Python `*args` and `**kwargs` are super useful tools, that when used properly can make you code much simpler and easier to maintain.  Large manual conversions from a dataset to function arguments can be packed and unpacked into lists or dictionaries. Beware though, this power **can** lead to some really unreadable/unusable code if done wrong." name="twitter:description" property="twitter:description"/>
  <meta content="understanding python *args and **kwargs" name="og:title" property="og:title"/>
  <meta content="understanding python *args and **kwargs" name="twitter:title" property="twitter:title"/>
  <meta content="understanding python *args and **kwargs" name="title" property="title"/>
  <link href="/manifest.json" rel="manifest"/>
 </head>
 <body>
  <nav>
   <ul>
    <li>
     <a href="https://waylonwalker.com">
      Home
     </a>
    </li>
    <li>
     <a href="https://waylonwalker.com/archive">
      Archive
     </a>
    </li>
    <li>
     <a aria-label="RSS" href="https://waylonwalker.com/rss">
      <svg class="icon" height="16" viewbox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg">
       <path d="M 4 4.44 v 2.83 c 7.03 0 12.73 5.7 12.73 12.73 h 2.83 c 0 -8.59 -6.97 -15.56 -15.56 -15.56 Z m 0 5.66 v 2.83 c 3.9 0 7.07 3.17 7.07 7.07 h 2.83 c 0 -5.47 -4.43 -9.9 -9.9 -9.9 Z M 6.18 15.64 A 2.18 2.18 0 0 1 6.18 20 A 2.18 2.18 0 0 1 6.18 15.64" fill="currentColor">
       </path>
      </svg>
     </a>
    </li>
   </ul>
  </nav>
  <article class="blog-post h-entry">
   <style>
    /* h2 {display: block;} */
h2>img { margin: auto; width: 100%;}
   </style>
   <p>
    Python
    <code>
     *args
    </code>
    and
    <code>
     **kwargs
    </code>
    are super useful tools, that when used properly can make you code much simpler and easier to maintain.  Large manual conversions from a dataset to function arguments can be packed and unpacked into lists or dictionaries. Beware though, this power
    <strong>
     can
    </strong>
    lead to some really unreadable/unusable code if done wrong.
   </p>
   <h2>
    *args are for lists
   </h2>
   <p>
    *args are some magical syntax that will collect function arguments into a list, or unpack a list into individual arguments.
   </p>
   <h2>
    <img alt="recieving *args" src="https://waylonwalker.com/args-kwargs/1.png" title="sending *args collects all arguments into a list inside of the function"/>
   </h2>
   <p>
    When recieving variables as a
    <code>
     *&lt;varname&gt;
    </code>
    , commonly
    <code>
     *args
    </code>
    , the arguments get
    <strong>
     packed
    </strong>
    into an ordered list.
   </p>
   <blockquote>
    <p>
     Never add *args to your function definition (almost never)
    </p>
   </blockquote>
   <p>
    Generally I find
    <code>
     *args
    </code>
    poor naming and it only drives confusion to the user looking at your function trying to decide what exactly it does.  Here I have chosen the name
    <code>
     printrows
    </code>
    since we are printing each item as a row.
   </p>
   <pre class="highlight"><code class="language-python">def printer(*printrows: str) -&gt; None:
  for i, row in enumerate(printrows):
    print(i, row)</code></pre>
   <pre class="highlight"><code class="language-python">&gt;&gt;&gt; printer('eggs', 'spam', 'ham')
0 eggs
1 spam
2 ham</code></pre>
   <h2>
    Be Aware of AntiPatterns
   </h2>
   <p>
    If your
    <code>
     *args
    </code>
    collection is distictly different things, then make them separate variables.  Using
    <code>
     *args
    </code>
    as a crutch can lead to a really confusing api for your users, even yourself.
   </p>
   <h2>
    ‚ùå
   </h2>
   <p>
    Here
    <code>
     *args
    </code>
    is confusing as we are a bit unsure of what to pass to
    <code>
     get_user_data
    </code>
    , or which order it needs to be in without reading the code.
   </p>
   <pre class="highlight"><code class="language-python">def get_user_data(*args):
  "does stuff given a users GitHub and DevTo username"
  github = reuqests.get(f'https://api.github.com/users/{args[0]}')
  devto = requests.get(f'https://dev.to/api/users/by_username?url={args[1]}')
  ...</code></pre>
   <h2>
    ‚úî
   </h2>
   <p>
    Here the function signature makes it clear what
    <code>
     get_user_data
    </code>
    expects.  Users will not have to read your docstring or worse your source code to understand it each time the reference it.
   </p>
   <pre class="highlight"><code class="language-python">def get_user_data(github_username, devto_username):
  "does stuff given a users GitHub and DevTo username"
  github = reuqests.get(f'https://api.github.com/users/{github_username}')
  devto = requests.get(f'https://dev.to/api/users/by_username?url={devto_username}')
  ...</code></pre>
   <h2>
    <img alt="sending *args" src="https://waylonwalker.com/args-kwargs/2.png" title="sending *args unpacks a list into individual arguments to be used in the function"/>
   </h2>
   <p>
    Inversely we can send a list of things as individual arguments by
    <strong>
     unpacking
    </strong>
    them into the function call.
   </p>
   <pre class="highlight"><code class="language-python">&gt;&gt;&gt; things_to_print = ['eggs', 'spam', 'ham']
&gt;&gt;&gt; printer(*things_to_print)
0 eggs
1 spam
2 ham</code></pre>
   <hr/>
   <h2>
    **kwargs are for dictionaries
   </h2>
   <p>
    Just like
    <code>
     *args
    </code>
    being for lists,
    <code>
     **kwargs
    </code>
    are for dictionaries.  When packing them up inside of a function. The argument name passed in becomes the key, then invers happens when unpacking, the key becomes the argument for the function.
   </p>
   <h2>
    <img alt="recieving **kwargs" src="https://waylonwalker.com/args-kwargs/3.png"/>
   </h2>
   <p>
    Here is a function accepting
    <code>
     **printrows
    </code>
    as it's only input. Any keyword argument that you pass into the function will get packed into a dictionary.
   </p>
   <pre class="highlight"><code class="language-python">def printer(**printrows: str) -&gt; None:
  for key in printrows:
    print(key, printrows[key])</code></pre>
   <pre class="highlight"><code class="language-python">&gt;&gt;&gt; printer(breakfast='eggs', lunch='spam', dinner='ham')
breakfast eggs
lunch spam
dinner ham</code></pre>
   <p>
    Any arguments passed in will throw a
    <code>
     TypeError
    </code>
    , since this
    <code>
     printer
    </code>
    does not accept any positional arguments.
   </p>
   <pre class="highlight"><code class="language-python">&gt;&gt;&gt;printer('one')
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-2-f03e96cb5e14&gt; in &lt;module&gt;
----&gt; 1 printer("one")

TypeError: printer() takes 0 positional arguments but 1 was given</code></pre>
   <h2>
    Avoid Anti-Patterns
   </h2>
   <p>
    Just as above, if your items are clearly separate things, make them separate things and do not use
    <code>
     **kwargs
    </code>
    .
    <code>
     **kwargs
    </code>
    are great when you have collections of things that all get treated exactly the sam, if they get treated differently, or you are expecting certain keys to always exist it will be very confusing to your users what they need to pass in.
   </p>
   <h2>
    <img alt="sending **kwargs" src="https://waylonwalker.com/args-kwargs/4.png"/>
   </h2>
   <p>
    Sending
    <code>
     **kwargs
    </code>
    is quite useful.  Especially when combining various libraries together.  Often times you can coerse objects into a dictionary, often with something like
    <code>
     .to_dict()
    </code>
    , then pass that whole dictionary to another function.  This makes gluing different libraries together a breeze at times.
   </p>
   <pre class="highlight"><code class="language-python">&gt;&gt;&gt; things_to_print = {breakfast:'eggs', lunch:'spam', dinner:'ham'}
&gt;&gt;&gt; printer(**things_to_print)
breakfast eggs
lunch spam
dinner ham</code></pre>
   <hr/>
   <p>
    I setup a repl.it with these examples so that you can quickly jump in, run it, break it, fix it, add breakpoints and really get a feel for them yourself. Check it out üëâ
    <a href="https://repl.it/@WaylonWalker/args#main.py">
     https://repl.it/@WaylonWalker/args#main.py
    </a>
   </p>
   <hr/>
   <p>
    I hope this helps you understand
    <code>
     *args
    </code>
    and
    <code>
     **kwargs
    </code>
    just a bit more.  They can be quite handy to greatly simplify repetative code, expecially if we already have the data setup in the right data structure.
   </p>
   <div id="show">
   </div>
  </article>
 </body>
 <script>
  if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
      // Registration was successful
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
      // registration failed :(
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}
 </script>
</html>